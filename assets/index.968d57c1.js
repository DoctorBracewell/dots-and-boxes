(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function A(){}const ut=t=>t;function _t(t,e){for(const n in e)t[n]=e[n];return t}function Zn(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function pn(t){return t()}function kt(){return Object.create(null)}function we(t){t.forEach(pn)}function tt(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ze;function bn(t,e){return ze||(ze=document.createElement("a")),ze.href=e,t===ze.href}function Xn(t){return Object.keys(t).length===0}function wn(t,...e){if(t==null)return A;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ae(t){let e;return wn(t,n=>e=n)(),e}function Q(t,e,n){t.$$.on_destroy.push(wn(e,n))}function dt(t,e,n,r){if(t){const l=yn(t,e,n,r);return t[0](l)}}function yn(t,e,n,r){return t[1]&&r?_t(n.ctx.slice(),t[1](r(e))):n.ctx}function gt(t,e,n,r){if(t[2]&&r){const l=t[2](r(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],s=Math.max(e.dirty.length,l.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|l[i];return o}return e.dirty|l}return e.dirty}function ht(t,e,n,r,l,o){if(l){const s=yn(e,n,r,o);t.p(s,l)}}function mt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function ye(t,e,n){return t.set(n),e}const vn=typeof window<"u";let kn=vn?()=>window.performance.now():()=>Date.now(),pt=vn?t=>requestAnimationFrame(t):A;const Ue=new Set;function $n(t){Ue.forEach(e=>{e.c(t)||(Ue.delete(e),e.f())}),Ue.size!==0&&pt($n)}function Mn(t){let e;return Ue.size===0&&pt($n),{promise:new Promise(n=>{Ue.add(e={c:t,f:n})}),abort(){Ue.delete(e)}}}function d(t,e){t.appendChild(e)}function Cn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Kn(t){const e=w("style");return Jn(Cn(t),e),e.sheet}function Jn(t,e){return d(t.head||t,e),e.sheet}function S(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function fe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function re(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Z(t){return document.createTextNode(t)}function I(){return Z(" ")}function ue(){return Z("")}function pe(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function _(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Qn(t){return Array.from(t.childNodes)}function oe(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function xe(t,e){t.value=e??""}function D(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Tn(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,r,e),l}function Ve(t,e){return new t(e)}const Ze=new Map;let Xe=0;function er(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function tr(t,e){const n={stylesheet:Kn(e),rules:{}};return Ze.set(t,n),n}function it(t,e,n,r,l,o,s,i=0){const a=16.666/r;let c=`{
`;for(let M=0;M<=1;M+=a){const U=e+(n-e)*o(M);c+=M*100+`%{${s(U,1-U)}}
`}const f=c+`100% {${s(n,1-n)}}
}`,u=`__svelte_${er(f)}_${i}`,g=Cn(t),{stylesheet:p,rules:v}=Ze.get(g)||tr(g,t);v[u]||(v[u]=!0,p.insertRule(`@keyframes ${u} ${f}`,p.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${u} ${r}ms linear ${l}ms 1 both`,Xe+=1,u}function st(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),l=n.length-r.length;l&&(t.style.animation=r.join(", "),Xe-=l,Xe||nr())}function nr(){pt(()=>{Xe||(Ze.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&j(e)}),Ze.clear())})}let Fe;function ge(t){Fe=t}function bt(){if(!Fe)throw new Error("Function called outside component initialization");return Fe}function rr(t){bt().$$.on_mount.push(t)}function En(){const t=bt();return(e,n,{cancelable:r=!1}={})=>{const l=t.$$.callbacks[e];if(l){const o=Tn(e,n,{cancelable:r});return l.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}function $t(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Se=[],Mt=[],Ge=[],Ct=[],lr=Promise.resolve();let ct=!1;function or(){ct||(ct=!0,lr.then(wt))}function be(t){Ge.push(t)}const lt=new Set;let je=0;function wt(){if(je!==0)return;const t=Fe;do{try{for(;je<Se.length;){const e=Se[je];je++,ge(e),ir(e.$$)}}catch(e){throw Se.length=0,je=0,e}for(ge(null),Se.length=0,je=0;Mt.length;)Mt.pop()();for(let e=0;e<Ge.length;e+=1){const n=Ge[e];lt.has(n)||(lt.add(n),n())}Ge.length=0}while(Se.length);for(;Ct.length;)Ct.pop()();ct=!1,lt.clear(),ge(t)}function ir(t){if(t.fragment!==null){t.update(),we(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(be)}}let Ie;function On(){return Ie||(Ie=Promise.resolve(),Ie.then(()=>{Ie=null})),Ie}function Ne(t,e,n){t.dispatchEvent(Tn(`${e?"intro":"outro"}${n}`))}const He=new Set;let he;function q(){he={r:0,c:[],p:he}}function W(){he.r||we(he.c),he=he.p}function b(t,e){t&&t.i&&(He.delete(t),t.i(e))}function k(t,e,n,r){if(t&&t.o){if(He.has(t))return;He.add(t),he.c.push(()=>{He.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const jn={duration:0};function yt(t,e,n){const r={direction:"in"};let l=e(t,n,r),o=!1,s,i,a=0;function c(){s&&st(t,s)}function f(){const{delay:g=0,duration:p=300,easing:v=ut,tick:y=A,css:M}=l||jn;M&&(s=it(t,0,1,p,g,v,M,a++)),y(0,1);const U=kn()+g,C=U+p;i&&i.abort(),o=!0,be(()=>Ne(t,!0,"start")),i=Mn(R=>{if(o){if(R>=C)return y(1,0),Ne(t,!0,"end"),c(),o=!1;if(R>=U){const O=v((R-U)/p);y(O,1-O)}}return o})}let u=!1;return{start(){u||(u=!0,st(t),tt(l)?(l=l(r),On().then(f)):f())},invalidate(){u=!1},end(){o&&(c(),o=!1)}}}function Tt(t,e,n,r){const l={direction:"both"};let o=e(t,n,l),s=r?0:1,i=null,a=null,c=null;function f(){c&&st(t,c)}function u(p,v){const y=p.b-s;return v*=Math.abs(y),{a:s,b:p.b,d:y,duration:v,start:p.start,end:p.start+v,group:p.group}}function g(p){const{delay:v=0,duration:y=300,easing:M=ut,tick:U=A,css:C}=o||jn,R={start:kn()+v,b:p};p||(R.group=he,he.r+=1),i||a?a=R:(C&&(f(),c=it(t,s,p,y,v,M,C)),p&&U(0,1),i=u(R,y),be(()=>Ne(t,p,"start")),Mn(O=>{if(a&&O>a.start&&(i=u(a,y),a=null,Ne(t,i.b,"start"),C&&(f(),c=it(t,s,i.b,i.duration,0,M,o.css))),i){if(O>=i.end)U(s=i.b,1-s),Ne(t,i.b,"end"),a||(i.b?f():--i.group.r||we(i.group.c)),i=null;else if(O>=i.start){const $=O-i.start;s=i.a+i.d*M($/i.duration),U(s,1-s)}}return!!(i||a)}))}return{run(p){tt(o)?On().then(()=>{o=o(l),g(p)}):g(p)},end(){f(),i=a=null}}}function Et(t,e){const n=e.token={};function r(l,o,s,i){if(e.token!==n)return;e.resolved=i;let a=e.ctx;s!==void 0&&(a=a.slice(),a[s]=i);const c=l&&(e.current=l)(a);let f=!1;e.block&&(e.blocks?e.blocks.forEach((u,g)=>{g!==o&&u&&(q(),k(u,1,1,()=>{e.blocks[g]===u&&(e.blocks[g]=null)}),W())}):e.block.d(1),c.c(),b(c,1),c.m(e.mount(),e.anchor),f=!0),e.block=c,e.blocks&&(e.blocks[o]=c),f&&wt()}if(Zn(t)){const l=bt();if(t.then(o=>{ge(l),r(e.then,1,e.value,o),ge(null)},o=>{if(ge(l),r(e.catch,2,e.error,o),ge(null),!e.hasCatch)throw o}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function sr(t,e,n){const r=e.slice(),{resolved:l}=t;t.current===t.then&&(r[t.value]=l),t.current===t.catch&&(r[t.error]=l),t.block.p(r,n)}function cr(t,e){k(t,1,1,()=>{e.delete(t.key)})}function ar(t,e,n,r,l,o,s,i,a,c,f,u){let g=t.length,p=o.length,v=g;const y={};for(;v--;)y[t[v].key]=v;const M=[],U=new Map,C=new Map;for(v=p;v--;){const T=u(l,o,v),B=n(T);let L=s.get(B);L?r&&L.p(T,e):(L=c(B,T),L.c()),U.set(B,M[v]=L),B in y&&C.set(B,Math.abs(v-y[B]))}const R=new Set,O=new Set;function $(T){b(T,1),T.m(i,f),s.set(T.key,T),f=T.first,p--}for(;g&&p;){const T=M[p-1],B=t[g-1],L=T.key,le=B.key;T===B?(f=T.first,g--,p--):U.has(le)?!s.has(L)||R.has(L)?$(T):O.has(le)?g--:C.get(L)>C.get(le)?(O.add(L),$(T)):(R.add(le),g--):(a(B,s),g--)}for(;g--;){const T=t[g];U.has(T.key)||a(T,s)}for(;p;)$(M[p-1]);return M}function Rn(t,e){const n={},r={},l={$$scope:1};let o=t.length;for(;o--;){const s=t[o],i=e[o];if(i){for(const a in s)a in i||(r[a]=1);for(const a in i)l[a]||(n[a]=i[a],l[a]=1);t[o]=i}else for(const a in s)l[a]=1}for(const s in r)s in n||(n[s]=void 0);return n}function Sn(t){return typeof t=="object"&&t!==null?t:{}}function Y(t){t&&t.c()}function G(t,e,n,r){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,n),r||be(()=>{const s=t.$$.on_mount.map(pn).filter(tt);t.$$.on_destroy?t.$$.on_destroy.push(...s):we(s),t.$$.on_mount=[]}),o.forEach(be)}function H(t,e){const n=t.$$;n.fragment!==null&&(we(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function fr(t,e){t.$$.dirty[0]===-1&&(Se.push(t),or(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(t,e,n,r,l,o,s,i=[-1]){const a=Fe;ge(t);const c=t.$$={fragment:null,ctx:[],props:o,update:A,not_equal:l,bound:kt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:kt(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};s&&s(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(u,g,...p)=>{const v=p.length?p[0]:g;return c.ctx&&l(c.ctx[u],c.ctx[u]=v)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](v),f&&fr(t,u)),g}):[],c.update(),f=!0,we(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const u=Qn(e.target);c.fragment&&c.fragment.l(u),u.forEach(j)}else c.fragment&&c.fragment.c();e.intro&&b(t.$$.fragment),G(t,e.target,e.anchor,e.customElement),wt()}ge(a)}class K{$destroy(){H(this,1),this.$destroy=A}$on(e,n){if(!tt(n))return A;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!Xn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Re=[];function Oe(t,e=A){let n;const r=new Set;function l(i){if(V(t,i)&&(t=i,n)){const a=!Re.length;for(const c of r)c[1](),Re.push(c,t);if(a){for(let c=0;c<Re.length;c+=2)Re[c][0](Re[c+1]);Re.length=0}}}function o(i){l(i(t))}function s(i,a=A){const c=[i,a];return r.add(c),r.size===1&&(n=e(l)||A),i(t),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:l,update:o,subscribe:s}}const ke=Oe(!1),$e=Oe(null),Me=Oe([]),xn=Oe(null);function ur(t=1){const e=ae(Me).length,n=ae(Me)[e-1];return ae($e)||n?.callbacks?.onBeforeClose&&n?.callbacks?.onBeforeClose()===!1?!1:(ae(ke)&&e>0&&$e.set(!0),ke.set(!1),xn.set("pop"),dr(t),!0)}function Ot(){return ur(1)}function _r(t,e,n){ae($e)||(xn.set("push"),ae(ke)&&ae(Me).length&&$e.set(!0),ke.set(!1),n?.replace?Me.update(r=>[...r.slice(0,r.length-1),{component:t,props:e}]):Me.update(r=>[...r,{component:t,props:e}]))}function dr(t=1){Me.update(e=>e.slice(0,Math.max(0,e.length-t)))}function jt(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}const gr=t=>({}),Rt=t=>({}),hr=t=>({}),St=t=>({});function xt(t){let e;const n=t[4].backdrop,r=dt(n,t,t[3],St);return{c(){r&&r.c()},m(l,o){r&&r.m(l,o),e=!0},p(l,o){r&&r.p&&(!e||o&8)&&ht(r,n,l,l[3],e?gt(n,l[3],o,hr):mt(l[3]),St)},i(l){e||(b(r,l),e=!0)},o(l){k(r,l),e=!1},d(l){r&&r.d(l)}}}function mr(t){let e,n,r;const l=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var o=t[9].component;function s(i){let a={};for(let c=0;c<l.length;c+=1)a=_t(a,l[c]);return{props:a}}return o&&(e=Ve(o,s()),e.$on("introstart",t[7]),e.$on("outroend",t[8])),{c(){e&&Y(e.$$.fragment),n=ue()},m(i,a){e&&G(e,i,a),S(i,n,a),r=!0},p(i,a){const c=a&3?Rn(l,[{isOpen:i[11]===i[0].length-1&&!i[1]},a&1&&Sn(i[9].props)]):{};if(o!==(o=i[9].component)){if(e){q();const f=e;k(f.$$.fragment,1,0,()=>{H(f,1)}),W()}o?(e=Ve(o,s()),e.$on("introstart",i[7]),e.$on("outroend",i[8]),Y(e.$$.fragment),b(e.$$.fragment,1),G(e,n.parentNode,n)):e=null}else o&&e.$set(c)},i(i){r||(e&&b(e.$$.fragment,i),r=!0)},o(i){e&&k(e.$$.fragment,i),r=!1},d(i){i&&j(n),e&&H(e,i)}}}function pr(t){let e,n,r,l={ctx:t,current:null,token:null,hasCatch:!1,pending:yr,then:wr,catch:br,value:12,blocks:[,,,]};return Et(n=Ut(t[9].component),l),{c(){e=ue(),l.block.c()},m(o,s){S(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,r=!0},p(o,s){t=o,l.ctx=t,s&1&&n!==(n=Ut(t[9].component))&&Et(n,l)||sr(l,t,s)},i(o){r||(b(l.block),r=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];k(i)}r=!1},d(o){o&&j(e),l.block.d(o),l.token=null,l=null}}}function br(t){return{c:A,m:A,p:A,i:A,o:A,d:A}}function wr(t){let e,n,r;const l=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var o=t[12];function s(i){let a={};for(let c=0;c<l.length;c+=1)a=_t(a,l[c]);return{props:a}}return o&&(e=Ve(o,s()),e.$on("introstart",t[5]),e.$on("outroend",t[6])),{c(){e&&Y(e.$$.fragment),n=I()},m(i,a){e&&G(e,i,a),S(i,n,a),r=!0},p(i,a){const c=a&3?Rn(l,[{isOpen:i[11]===i[0].length-1&&!i[1]},a&1&&Sn(i[9].props)]):{};if(o!==(o=i[12])){if(e){q();const f=e;k(f.$$.fragment,1,0,()=>{H(f,1)}),W()}o?(e=Ve(o,s()),e.$on("introstart",i[5]),e.$on("outroend",i[6]),Y(e.$$.fragment),b(e.$$.fragment,1),G(e,n.parentNode,n)):e=null}else o&&e.$set(c)},i(i){r||(e&&b(e.$$.fragment,i),r=!0)},o(i){e&&k(e.$$.fragment,i),r=!1},d(i){e&&H(e,i),i&&j(n)}}}function yr(t){let e,n;const r=t[4].loading,l=dt(r,t,t[3],Rt);return{c(){l&&l.c(),e=I()},m(o,s){l&&l.m(o,s),S(o,e,s),n=!0},p(o,s){l&&l.p&&(!n||s&8)&&ht(l,r,o,o[3],n?gt(r,o[3],s,gr):mt(o[3]),Rt)},i(o){n||(b(l,o),n=!0)},o(o){k(l,o),n=!1},d(o){l&&l.d(o),o&&j(e)}}}function At(t,e){let n,r,l,o,s,i;const a=[pr,mr],c=[];function f(u,g){return g&1&&(r=null),r==null&&(r=!!$r(u[9].component)),r?0:1}return l=f(e,-1),o=c[l]=a[l](e),{key:t,first:null,c(){n=ue(),o.c(),s=ue(),this.first=n},m(u,g){S(u,n,g),c[l].m(u,g),S(u,s,g),i=!0},p(u,g){e=u;let p=l;l=f(e,g),l===p?c[l].p(e,g):(q(),k(c[p],1,1,()=>{c[p]=null}),W(),o=c[l],o?o.p(e,g):(o=c[l]=a[l](e),o.c()),b(o,1),o.m(s.parentNode,s))},i(u){i||(b(o),i=!0)},o(u){k(o),i=!1},d(u){u&&j(n),c[l].d(u),u&&j(s)}}}function vr(t){let e=[],n=new Map,r,l,o=t[0];const s=i=>i[11];for(let i=0;i<o.length;i+=1){let a=jt(t,o,i),c=s(a);n.set(c,e[i]=At(c,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=ue()},m(i,a){for(let c=0;c<e.length;c+=1)e[c].m(i,a);S(i,r,a),l=!0},p(i,a){a&15&&(o=i[0],q(),e=ar(e,a,s,1,i,o,n,r.parentNode,cr,At,r,jt),W())},i(i){if(!l){for(let a=0;a<o.length;a+=1)b(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)k(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&j(r)}}}function kr(t){let e,n,r=t[0].length>0&&xt(t);const l=t[4].default,o=dt(l,t,t[3],null),s=o||vr(t);return{c(){r&&r.c(),e=I(),s&&s.c()},m(i,a){r&&r.m(i,a),S(i,e,a),s&&s.m(i,a),n=!0},p(i,[a]){i[0].length>0?r?(r.p(i,a),a&1&&b(r,1)):(r=xt(i),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(q(),k(r,1,1,()=>{r=null}),W()),o?o.p&&(!n||a&8)&&ht(o,l,i,i[3],n?gt(l,i[3],a,null):mt(i[3]),null):s&&s.p&&(!n||a&15)&&s.p(i,n?a:-1)},i(i){n||(b(r),b(s,i),n=!0)},o(i){k(r),k(s,i),n=!1},d(i){r&&r.d(i),i&&j(e),s&&s.d(i)}}}function $r(t){return typeof t.prototype>"u"}async function Ut(t){return t().then(e=>e.default)}function Mr(t,e,n){let r,l,o;Q(t,Me,g=>n(0,r=g)),Q(t,$e,g=>n(1,l=g)),Q(t,ke,g=>n(2,o=g));let{$$slots:s={},$$scope:i}=e;const a=()=>{ye(ke,o=!0,o)},c=()=>{ye($e,l=!1,l)},f=()=>{ye(ke,o=!0,o)},u=()=>{ye($e,l=!1,l)};return t.$$set=g=>{"$$scope"in g&&n(3,i=g.$$scope)},[r,l,o,i,s,a,c,f,u]}class Cr extends K{constructor(e){super(),X(this,e,Mr,kr,V,{})}}var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tr(t,e,n){var r=-1,l=t.length;e<0&&(e=-e>l?0:l+e),n=n>l?l:n,n<0&&(n+=l),l=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(l);++r<l;)o[r]=t[r+e];return o}var Er=Tr;function Or(t,e){return t===e||t!==t&&e!==e}var jr=Or,Rr=typeof De=="object"&&De&&De.Object===Object&&De,Sr=Rr,xr=Sr,Ar=typeof self=="object"&&self&&self.Object===Object&&self,Ur=xr||Ar||Function("return this")(),Lr=Ur,Ir=Lr,Br=Ir.Symbol,An=Br,Lt=An,Un=Object.prototype,Nr=Un.hasOwnProperty,Pr=Un.toString,Be=Lt?Lt.toStringTag:void 0;function Fr(t){var e=Nr.call(t,Be),n=t[Be];try{t[Be]=void 0;var r=!0}catch{}var l=Pr.call(t);return r&&(e?t[Be]=n:delete t[Be]),l}var zr=Fr,Dr=Object.prototype,Gr=Dr.toString;function Hr(t){return Gr.call(t)}var qr=Hr,It=An,Wr=zr,Yr=qr,Vr="[object Null]",Zr="[object Undefined]",Bt=It?It.toStringTag:void 0;function Xr(t){return t==null?t===void 0?Zr:Vr:Bt&&Bt in Object(t)?Wr(t):Yr(t)}var Ln=Xr;function Kr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vt=Kr,Jr=Ln,Qr=vt,el="[object AsyncFunction]",tl="[object Function]",nl="[object GeneratorFunction]",rl="[object Proxy]";function ll(t){if(!Qr(t))return!1;var e=Jr(t);return e==tl||e==nl||e==el||e==rl}var ol=ll,il=9007199254740991;function sl(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=il}var cl=sl,al=ol,fl=cl;function ul(t){return t!=null&&fl(t.length)&&!al(t)}var _l=ul,dl=9007199254740991,gl=/^(?:0|[1-9]\d*)$/;function hl(t,e){var n=typeof t;return e=e??dl,!!e&&(n=="number"||n!="symbol"&&gl.test(t))&&t>-1&&t%1==0&&t<e}var ml=hl,pl=jr,bl=_l,wl=ml,yl=vt;function vl(t,e,n){if(!yl(n))return!1;var r=typeof e;return(r=="number"?bl(n)&&wl(e,n.length):r=="string"&&e in n)?pl(n[e],t):!1}var In=vl,kl=/\s/;function $l(t){for(var e=t.length;e--&&kl.test(t.charAt(e)););return e}var Ml=$l,Cl=Ml,Tl=/^\s+/;function El(t){return t&&t.slice(0,Cl(t)+1).replace(Tl,"")}var Ol=El;function jl(t){return t!=null&&typeof t=="object"}var Rl=jl,Sl=Ln,xl=Rl,Al="[object Symbol]";function Ul(t){return typeof t=="symbol"||xl(t)&&Sl(t)==Al}var Ll=Ul,Il=Ol,Nt=vt,Bl=Ll,Pt=0/0,Nl=/^[-+]0x[0-9a-f]+$/i,Pl=/^0b[01]+$/i,Fl=/^0o[0-7]+$/i,zl=parseInt;function Dl(t){if(typeof t=="number")return t;if(Bl(t))return Pt;if(Nt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Nt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Il(t);var n=Pl.test(t);return n||Fl.test(t)?zl(t.slice(2),n?2:8):Nl.test(t)?Pt:+t}var Gl=Dl,Hl=Gl,Ft=1/0,ql=17976931348623157e292;function Wl(t){if(!t)return t===0?t:0;if(t=Hl(t),t===Ft||t===-Ft){var e=t<0?-1:1;return e*ql}return t===t?t:0}var Bn=Wl,Yl=Bn;function Vl(t){var e=Yl(t),n=e%1;return e===e?n?e-n:e:0}var Zl=Vl,Xl=Er,Kl=In,Jl=Zl,Ql=Math.ceil,eo=Math.max;function to(t,e,n){(n?Kl(t,e,n):e===void 0)?e=1:e=eo(Jl(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var l=0,o=0,s=Array(Ql(r/e));l<r;)s[o++]=Xl(t,l,l+=e);return s}var ve=to;function no(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function at(t,{delay:e=0,duration:n=400,easing:r=ut}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:o=>`opacity: ${o*l}`}}function Nn(t,{delay:e=0,speed:n,duration:r,easing:l=no}={}){let o=t.getTotalLength();const s=getComputedStyle(t);return s.strokeLinecap!=="butt"&&(o+=parseInt(s.strokeWidth)),r===void 0?n===void 0?r=800:r=o/n:typeof r=="function"&&(r=r(o)),{delay:e,duration:r,easing:l,css:(i,a)=>`
			stroke-dasharray: ${o};
			stroke-dashoffset: ${a*o};
		`}}const Te={EASY:"easy",MEDIUM:"medium",HARD:"hard"},ce={HORIZONTAL:"horizontal",VERTICAL:"vertical"},P={USER:"user",COMPUTER:"computer"},te={USER:"user",COMPUTER:"computer",EMPTY:"hover"},Ke={SETTINGS:"settings",LEADERBOARD:"leaderboard"},ft=t=>t===void 0?te.EMPTY:Object.values(te)[t],Ce=(t,e)=>Object.values(t)[e],ie=(t,e)=>Object.values(t).indexOf(e);let x;const de=new Array(32).fill(void 0);de.push(void 0,null,!0,!1);function N(t){return de[t]}let Pe=de.length;function ro(t){t<36||(de[t]=Pe,Pe=t)}function Pn(t){const e=N(t);return ro(t),e}const Fn=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Fn.decode();let qe=new Uint8Array;function zn(){return qe.byteLength===0&&(qe=new Uint8Array(x.memory.buffer)),qe}function ot(t,e){return Fn.decode(zn().subarray(t,t+e))}function z(t){Pe===de.length&&de.push(de.length+1);const e=Pe;return Pe=de[e],de[e]=t,e}let We=new Int32Array;function Je(){return We.byteLength===0&&(We=new Int32Array(x.memory.buffer)),We}let Ye=new Uint32Array;function Dn(){return Ye.byteLength===0&&(Ye=new Uint32Array(x.memory.buffer)),Ye}function Gn(t,e){return Dn().subarray(t/4,t/4+e)}let Hn=0;function lo(t,e){const n=e(t.length*4);return Dn().set(t,n/4),Hn=t.length,n}function _e(t,e){try{return t.apply(this,e)}catch(n){x.__wbindgen_exn_store(z(n))}}function oo(t,e){return zn().subarray(t/1,t/1+e)}Object.freeze({Easy:0,0:"Easy",Medium:1,1:"Medium",Hard:2,2:"Hard"});Object.freeze({Horizontal:0,0:"Horizontal",Vertical:1,1:"Vertical"});Object.freeze({Ground:0,0:"Ground",Box:1,1:"Box"});Object.freeze({User:0,0:"User",Computer:1,1:"Computer"});class Qe{static __wrap(e){const n=Object.create(Qe.prototype);return n.ptr=e,n}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();x.__wbg_game_free(e)}constructor(e,n){const r=x.game_new(e,n);return Qe.__wrap(r)}interact_edge(e,n){try{const s=x.__wbindgen_add_to_stack_pointer(-16);x.game_interact_edge(s,this.ptr,e,n);var r=Je()[s/4+0],l=Je()[s/4+1],o=Gn(r,l).slice();return x.__wbindgen_free(r,l*4),o}finally{x.__wbindgen_add_to_stack_pointer(16)}}handle_edge_interact(e,n){const r=x.game_handle_edge_interact(this.ptr,e,n);return Pn(r)}computer_turn(){const e=x.game_computer_turn(this.ptr);return et.__wrap(e)}get height(){return x.game_height(this.ptr)>>>0}get width(){return x.game_width(this.ptr)>>>0}get difficulty(){return x.game_difficulty(this.ptr)>>>0}get current_player(){return x.game_current_player(this.ptr)>>>0}set height(e){x.game_set_height(this.ptr,e)}set width(e){x.game_set_width(this.ptr,e)}set difficulty(e){x.game_set_difficulty(this.ptr,e)}set current_player(e){x.game_set_current_player(this.ptr,e)}get_edge(e,n){const r=x.game_get_edge(this.ptr,e,n);return r===2?void 0:r}get_box(e,n){const r=x.game_get_box(this.ptr,e,n);return r===2?void 0:r}switch_player(){x.game_switch_player(this.ptr)}board_full(){return x.game_board_full(this.ptr)!==0}count_boxes(e){return x.game_count_boxes(this.ptr,e)>>>0}count_open_boxes(){return x.game_count_open_boxes(this.ptr)>>>0}}class et{static __wrap(e){const n=Object.create(et.prototype);return n.ptr=e,n}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();x.__wbg_turninformation_free(e)}get 0(){return x.__wbg_get_turninformation_0(this.ptr)>>>0}set 0(e){x.__wbg_set_turninformation_0(this.ptr,e)}get 1(){return x.__wbg_get_turninformation_1(this.ptr)>>>0}set 1(e){x.__wbg_set_turninformation_1(this.ptr,e)}constructor(e,n,r){const l=lo(r,x.__wbindgen_malloc),o=Hn,s=x.turninformation_new(e,n,l,o);return et.__wrap(s)}get affected_boxes(){try{const l=x.__wbindgen_add_to_stack_pointer(-16);x.turninformation_affected_boxes(l,this.ptr);var e=Je()[l/4+0],n=Je()[l/4+1],r=Gn(e,n).slice();return x.__wbindgen_free(e,n*4),r}finally{x.__wbindgen_add_to_stack_pointer(16)}}}async function io(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function so(){const t={};return t.wbg={},t.wbg.__wbindgen_object_drop_ref=function(e){Pn(e)},t.wbg.__wbindgen_string_new=function(e,n){const r=ot(e,n);return z(r)},t.wbg.__wbg_log_4b5638ad60bdc54a=function(e){console.log(N(e))},t.wbg.__wbg_randomFillSync_6894564c2c334c42=function(){return _e(function(e,n,r){N(e).randomFillSync(oo(n,r))},arguments)},t.wbg.__wbg_getRandomValues_805f1c3d65988a5a=function(){return _e(function(e,n){N(e).getRandomValues(N(n))},arguments)},t.wbg.__wbg_crypto_e1d53a1d73fb10b8=function(e){const n=N(e).crypto;return z(n)},t.wbg.__wbindgen_is_object=function(e){const n=N(e);return typeof n=="object"&&n!==null},t.wbg.__wbg_process_038c26bf42b093f8=function(e){const n=N(e).process;return z(n)},t.wbg.__wbg_versions_ab37218d2f0b24a8=function(e){const n=N(e).versions;return z(n)},t.wbg.__wbg_node_080f4b19d15bc1fe=function(e){const n=N(e).node;return z(n)},t.wbg.__wbindgen_is_string=function(e){return typeof N(e)=="string"},t.wbg.__wbg_msCrypto_6e7d3e1f92610cbb=function(e){const n=N(e).msCrypto;return z(n)},t.wbg.__wbg_require_78a3dcfbdba9cbce=function(){return _e(function(){const e=module.require;return z(e)},arguments)},t.wbg.__wbindgen_is_function=function(e){return typeof N(e)=="function"},t.wbg.__wbg_newnoargs_b5b063fc6c2f0376=function(e,n){const r=new Function(ot(e,n));return z(r)},t.wbg.__wbg_call_97ae9d8645dc388b=function(){return _e(function(e,n){const r=N(e).call(N(n));return z(r)},arguments)},t.wbg.__wbindgen_object_clone_ref=function(e){const n=N(e);return z(n)},t.wbg.__wbg_self_6d479506f72c6a71=function(){return _e(function(){const e=self.self;return z(e)},arguments)},t.wbg.__wbg_window_f2557cc78490aceb=function(){return _e(function(){const e=window.window;return z(e)},arguments)},t.wbg.__wbg_globalThis_7f206bda628d5286=function(){return _e(function(){const e=globalThis.globalThis;return z(e)},arguments)},t.wbg.__wbg_global_ba75c50d1cf384f4=function(){return _e(function(){const e=global.global;return z(e)},arguments)},t.wbg.__wbindgen_is_undefined=function(e){return N(e)===void 0},t.wbg.__wbg_call_168da88779e35f61=function(){return _e(function(e,n,r){const l=N(e).call(N(n),N(r));return z(l)},arguments)},t.wbg.__wbg_buffer_3f3d764d4747d564=function(e){const n=N(e).buffer;return z(n)},t.wbg.__wbg_new_8c3f0052272a457a=function(e){const n=new Uint8Array(N(e));return z(n)},t.wbg.__wbg_set_83db9690f9353e79=function(e,n,r){N(e).set(N(n),r>>>0)},t.wbg.__wbg_length_9e1ae1900cb0fbd5=function(e){return N(e).length},t.wbg.__wbg_newwithbyteoffsetandlength_9cc9adccd861aa26=function(e,n,r){const l=new Uint32Array(N(e),n>>>0,r>>>0);return z(l)},t.wbg.__wbg_new_949418f5ed1e29f7=function(e){const n=new Uint32Array(N(e));return z(n)},t.wbg.__wbg_newwithlength_f5933855e4f48a19=function(e){const n=new Uint8Array(e>>>0);return z(n)},t.wbg.__wbg_subarray_58ad4efbb5bcb886=function(e,n,r){const l=N(e).subarray(n>>>0,r>>>0);return z(l)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(ot(e,n))},t.wbg.__wbindgen_memory=function(){const e=x.memory;return z(e)},t}function co(t,e){return x=t.exports,qn.__wbindgen_wasm_module=e,We=new Int32Array,Ye=new Uint32Array,qe=new Uint8Array,x}async function qn(t){typeof t>"u"&&(t=new URL(""+new URL("wasm_bg.d631e304.wasm",import.meta.url).href,self.location));const e=so();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await io(await t,e);return co(n,r)}const ao="#F50400",fo="#2892D7",Wn="todo",Yn=3e3;await qn();const Ee=Oe(new Qe(5,5)),Ae=Oe({affectedBoxes:[],affectedLines:[],currentPlayer:P.USER}),me=Oe({get difficulty(){return Ce(Te,ae(Ee).difficulty)},set difficulty(t){ae(Ee).difficulty=ie(Te,t)},colours:{user:fo,computer:ao}}),uo=ae(me);uo.difficulty=Te.MEDIUM;function _o(t){let e,n,r,l;return{c(){e=re("svg"),n=re("g"),r=re("path"),_(r,"d","M 0 0 C 0 0 0 0 0 0 M 0 0 C 0 0 0 0 0 0 M 1.5 12.2 C 3.8 8.7 4.1 6.4 11.3 -0.7 M -0.3 11.9 C 2.1 9.3 5 5.9 10.9 0.6 M -1.1 24.5 C 8 14.1 17 4 22.7 -0.5 M 1 23.3 C 5.9 18.3 11.5 11.5 21.7 -0.3 M -2 36.8 C 7 27.3 15.8 18.8 33.2 1.2 M 0.6 37 C 7.7 27.3 17.1 16.2 32.2 -0.9 M -0.7 50.3 C 14.5 32.5 29 15.1 42.5 -1.6 M -1.1 49.3 C 11.3 35.8 23 21.1 42.1 -0.5 M 1.3 59.7 C 20.2 38.2 40.6 15 54.4 -0.3 M 1 61.7 C 12.9 47.6 24.9 31.4 52.3 0.2 M -0.5 73.2 C 13.8 57.1 24.4 43.9 62.6 1 M -0.3 73.9 C 15.8 52.9 33.6 32.7 64.5 0 M 0 85.6 C 23.9 58.1 46.7 33.4 75.3 0.5 M 0.6 85.4 C 23.2 59.3 44.7 34.6 73.6 -0.1 M -0.9 98.2 C 24.5 70.1 46.4 44.6 84.9 -0.5 M -0.6 98.8 C 27.1 67.7 53.5 35.6 85.3 -0.6 M -0.2 108.7 C 28.9 77.3 54.4 44.2 96.7 0.7 M 0 109.4 C 26.6 80.4 52.2 50.6 95.9 -0.7 M 0.8 122.2 C 29.5 87.6 60.4 51.7 106.9 -2.2 M -0.6 122.1 C 31.5 84.9 63.3 50.1 106.3 0.6 M 6.1 126.3 C 41 87.3 75.5 48.6 117.7 -1.4 M 6.9 126.6 C 50.3 79.5 93.2 30.3 115.7 0.9 M 16.6 125.9 C 52 87.5 89.6 42.7 125.1 0.9 M 17.5 127.4 C 43.2 97.1 69.2 67.5 125.2 3.4 M 27.3 127.5 C 55.8 95.2 84.6 63.9 123.5 15.4 M 26.7 126.3 C 62.1 87 98.8 47.8 124.2 14.3 M 39.8 128.8 C 67.9 94.1 98 58.3 126.8 28.4 M 38.9 127.6 C 59 104.8 77.8 80 125.7 25.9 M 47.9 128.8 C 64.7 104.8 86.7 86 123.7 41.4 M 48.5 126.1 C 69.8 104 90.7 79.1 124.1 39.8 M 57.5 126.8 C 84.9 100 106.8 71 126.4 51.1 M 59.9 127.5 C 76.3 109.3 90.8 90.2 125.6 51 M 69.1 126.8 C 79.6 113.5 91.1 101.2 123.9 65.1 M 69 127.6 C 87.7 106.4 105.9 87.5 124.5 62.6 M 82 125.1 C 96 109.5 109.2 96.9 125.7 74.9 M 80.1 126.1 C 95.3 109.6 109.4 92.6 125.5 75.8 M 92 126.1 C 100.7 116.5 111 102.8 126 88.2 M 90.4 127.8 C 99.5 116.7 108.8 105.6 125.4 88.6 M 100.4 126 C 105.3 120.6 113.5 116.4 125.3 102 M 101.2 126.7 C 107.3 119.7 113.7 114.2 123.8 100 M 111.4 125 C 117.3 119.3 121.7 114.8 124.7 110.9 M 113 127.1 C 116.2 121.3 120.8 116.5 124.2 112.8"),_(r,"stroke-width","1"),_(r,"stroke",t[0]),_(r,"fill","none"),_(n,"stroke-linecap","round"),_(n,"transform","matrix(1,0,0,1,10,10)"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"version","1.1"),_(e,"viewBox","7.28 7.34 130.04 131.98"),_(e,"class","absolute h-full w-full")},m(o,s){S(o,e,s),d(e,n),d(n,r)},p(o,[s]){s&1&&_(r,"stroke",o[0])},i(o){l||be(()=>{l=yt(e,at,{duration:400}),l.start()})},o:A,d(o){o&&j(e)}}}function go(t,e,n){let r;Q(t,me,s=>n(2,r=s));let{claimedBy:l}=e,o="";return t.$$set=s=>{"claimedBy"in s&&n(1,l=s.claimedBy)},t.$$.update=()=>{if(t.$$.dirty&6){const s={[te.USER]:r.colours.user,[te.COMPUTER]:r.colours.computer};n(0,o=s[l])}},[o,l,r]}class ho extends K{constructor(e){super(),X(this,e,go,_o,V,{claimedBy:1})}}function zt(t){let e,n,r,l=t[2][t[1]]+"",o,s;return e=new ho({props:{claimedBy:t[1]}}),{c(){Y(e.$$.fragment),n=I(),r=w("span"),o=Z(l),_(r,"class","z-10 m-auto text-xl")},m(i,a){G(e,i,a),S(i,n,a),S(i,r,a),d(r,o),s=!0},p(i,a){const c={};a&2&&(c.claimedBy=i[1]),e.$set(c),(!s||a&2)&&l!==(l=i[2][i[1]]+"")&&oe(o,l)},i(i){s||(b(e.$$.fragment,i),s=!0)},o(i){k(e.$$.fragment,i),s=!1},d(i){H(e,i),i&&j(n),i&&j(r)}}}function Dt(t){let e,n,r,l=t[1]!==te.EMPTY&&zt(t);return{c(){e=w("div"),n=w("div"),l&&l.c(),_(n,"class","box relative flex"),D(n,"width",t[0]+"rem"),D(n,"height",t[0]+"rem"),_(e,"class","relative")},m(o,s){S(o,e,s),d(e,n),l&&l.m(n,null),r=!0},p(o,s){o[1]!==te.EMPTY?l?(l.p(o,s),s&2&&b(l,1)):(l=zt(o),l.c(),b(l,1),l.m(n,null)):l&&(q(),k(l,1,1,()=>{l=null}),W()),(!r||s&1)&&D(n,"width",o[0]+"rem"),(!r||s&1)&&D(n,"height",o[0]+"rem")},i(o){r||(b(l),r=!0)},o(o){k(l),r=!1},d(o){o&&j(e),l&&l.d()}}}function mo(t){let e=t[1],n,r,l=Dt(t);return{c(){l.c(),n=ue()},m(o,s){l.m(o,s),S(o,n,s),r=!0},p(o,[s]){s&2&&V(e,e=o[1])?(q(),k(l,1,1,A),W(),l=Dt(o),l.c(),b(l,1),l.m(n.parentNode,n)):l.p(o,s)},i(o){r||(b(l),r=!0)},o(o){k(l),r=!1},d(o){o&&j(n),l.d(o)}}}function po(t,e,n){let r,l;Q(t,Ee,f=>n(5,r=f)),Q(t,Ae,f=>n(6,l=f));let{average:o}=e,{x:s}=e,{y:i}=e,a=te.EMPTY;const c={[te.USER]:"You",[te.COMPUTER]:"Me"};return t.$$set=f=>{"average"in f&&n(0,o=f.average),"x"in f&&n(3,s=f.x),"y"in f&&n(4,i=f.y)},t.$$.update=()=>{t.$$.dirty&120&&l.affectedBoxes.some(([f,u])=>s===u&&i===f)&&n(1,a=ft(r.get_box(s,i)))},[o,a,c,s,i,r,l]}class bo extends K{constructor(e){super(),X(this,e,po,mo,V,{average:0,x:3,y:4})}}var wo=Math.floor,yo=Math.random;function vo(t,e){return t+wo(yo()*(e-t+1))}var ko=vo,$o=ko,Mo=In,Gt=Bn,Co=parseFloat,To=Math.min,Eo=Math.random;function Oo(t,e,n){if(n&&typeof n!="boolean"&&Mo(t,e,n)&&(e=n=void 0),n===void 0&&(typeof e=="boolean"?(n=e,e=void 0):typeof t=="boolean"&&(n=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=Gt(t),e===void 0?(e=t,t=0):e=Gt(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var l=Eo();return To(t+l*(e-t+Co("1e-"+((l+"").length-1))),e)}return $o(t,e)}var jo=Oo;const Ro=""+new URL("dot.94a44de9.svg",import.meta.url).href;function So(t){let e,n,r,l;return{c(){e=w("div"),n=w("div"),r=w("img"),_(r,"class","absolute top-[-1em] left-[-1em] z-[45] h-[2em] w-[2em] select-none"),D(r,"transform","rotate("+jo(360)+"deg)"),bn(r.src,l=Ro)||_(r,"src",l),_(r,"alt",""),_(n,"class","flex"),D(n,"width",t[0]+"em"),D(n,"height",t[0]+"em"),_(e,"class","relative")},m(o,s){S(o,e,s),d(e,n),d(n,r)},p(o,[s]){s&1&&D(n,"width",o[0]+"em"),s&1&&D(n,"height",o[0]+"em")},i:A,o:A,d(o){o&&j(e)}}}function xo(t,e,n){let{average:r}=e,[l,o]=[0,0],{x:s=l,y:i=o}=e;return t.$$set=a=>{"average"in a&&n(0,r=a.average),"x"in a&&n(1,s=a.x),"y"in a&&n(2,i=a.y)},[r,s,i]}class Ao extends K{constructor(e){super(),X(this,e,xo,So,V,{average:0,x:1,y:2})}}function Uo(t){let e,n,r,l,o;return{c(){e=re("svg"),n=re("g"),r=re("g"),l=re("path"),_(l,"d","M1.59 0.9 C27.11 -0.51, 51.83 0.13, 94.29 -0.48 M0.22 0.06 C27.95 1.45, 58.25 0.65, 95.06 0.31"),_(l,"stroke",t[0]),_(l,"stroke-width","2"),_(l,"fill","none"),_(r,"transform","translate(9.775308895856142 10.47896108776331) rotate(0 47.64395874267936 0.21186067909002304)"),_(n,"stroke-linecap","round"),_(e,"class","h-full w-full"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"version","1.1"),_(e,"viewBox","9 9 96.84 3.38")},m(s,i){S(s,e,i),d(e,n),d(n,r),d(r,l)},p(s,[i]){i&1&&_(l,"stroke",s[0])},i(s){s&&(o||be(()=>{o=yt(l,Nn,{delay:0,duration:500}),o.start()}))},o:A,d(s){s&&j(e)}}}function Lo(t,e,n){let{stroke:r}=e;return t.$$set=l=>{"stroke"in l&&n(0,r=l.stroke)},[r]}class Io extends K{constructor(e){super(),X(this,e,Lo,Uo,V,{stroke:0})}}const Bo=""+new URL("horizontal.13765606.svg",import.meta.url).href,No=""+new URL("vertical.0b423cab.svg",import.meta.url).href;function Po(t){let e,n,r,l;return{c(){e=w("div"),n=w("img"),bn(n.src,r=t[1]?Bo:No)||_(n,"src",r),_(n,"alt",""),_(n,"class","h-full w-full"),_(e,"class",l="hover-line "+(t[1]?"-mt-4 h-8 w-full":"-ml-4 h-full w-8")+" z-40 opacity-0 selection:z-40 "+(Ce(P,t[0].current_player)!==P.COMPUTER&&"cursor-pointer hover:opacity-100")+" svelte-bznvrl")},m(o,s){S(o,e,s),d(e,n)},p(o,[s]){s&1&&l!==(l="hover-line "+(o[1]?"-mt-4 h-8 w-full":"-ml-4 h-full w-8")+" z-40 opacity-0 selection:z-40 "+(Ce(P,o[0].current_player)!==P.COMPUTER&&"cursor-pointer hover:opacity-100")+" svelte-bznvrl")&&_(e,"class",l)},i:A,o:A,d(o){o&&j(e)}}}function Fo(t,e,n){let r;Q(t,Ee,s=>n(0,r=s));let{lineType:l}=e;const o=l===ce.HORIZONTAL;return t.$$set=s=>{"lineType"in s&&n(2,l=s.lineType)},t.$$.update=()=>{t.$$.dirty&1&&(Ce(P,r.current_player),P.COMPUTER)},[r,o,l]}class zo extends K{constructor(e){super(),X(this,e,Fo,Po,V,{lineType:2})}}function Do(t){let e,n,r,l,o,s;return{c(){e=re("svg"),n=re("g"),r=re("g"),l=re("path"),s=re("mask"),_(l,"d","M0.02 -1.01 C-0.52 28.78, -0.68 53.42, -0.47 69.07 M0.02 0.77 C0.32 26.53, 0.81 52.93, -0.63 68.54"),_(l,"stroke",t[0]),_(l,"stroke-width","2"),_(l,"fill","none"),_(r,"transform","translate(10.634629119187593 11.012141920626163) rotate(0 -0.14224320622906816 34.02681378884024)"),_(n,"stroke-linecap","round"),_(e,"class","h-full w-full"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"version","1.1"),_(e,"viewBox","9 9 2.98 72.08")},m(i,a){S(i,e,a),d(e,n),d(n,r),d(r,l),d(e,s)},p(i,[a]){a&1&&_(l,"stroke",i[0])},i(i){o||be(()=>{o=yt(l,Nn,{delay:0,duration:500}),o.start()})},o:A,d(i){i&&j(e)}}}function Go(t,e,n){let{stroke:r}=e;return t.$$set=l=>{"stroke"in l&&n(0,r=l.stroke)},[r]}class Ho extends K{constructor(e){super(),X(this,e,Go,Do,V,{stroke:0})}}function qo(t){let e,n,r;return n=new Ho({props:{stroke:t[4]}}),{c(){e=w("div"),Y(n.$$.fragment),_(e,"class","z-40 -ml-4 h-full w-8")},m(l,o){S(l,e,o),G(n,e,null),r=!0},p(l,o){const s={};o&16&&(s.stroke=l[4]),n.$set(s)},i(l){r||(b(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&j(e),H(n)}}}function Wo(t){let e,n,r;return n=new Io({props:{stroke:t[4]}}),{c(){e=w("div"),Y(n.$$.fragment),_(e,"class","z-40 -mt-2 h-4 w-full")},m(l,o){S(l,e,o),G(n,e,null),r=!0},p(l,o){const s={};o&16&&(s.stroke=l[4]),n.$set(s)},i(l){r||(b(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&j(e),H(n)}}}function Yo(t){let e,n;return e=new zo({props:{lineType:t[1]}}),{c(){Y(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},p(r,l){const o={};l&2&&(o.lineType=r[1]),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){H(e,r)}}}function Ht(t){let e,n,r,l,o,s;const i=[Yo,Wo,qo],a=[];function c(f,u){return f[2]===te.EMPTY?0:f[1]===ce.HORIZONTAL?1:f[1]===ce.VERTICAL?2:-1}return~(n=c(t))&&(r=a[n]=i[n](t)),{c(){e=w("div"),r&&r.c(),_(e,"class","line flex bg-transparent"),_(e,"title","line"),D(e,"width",t[0]+"em"),D(e,"height",t[0]+"em")},m(f,u){S(f,e,u),~n&&a[n].m(e,null),l=!0,o||(s=[pe(e,"click",t[5]),pe(e,"keypress",t[5])],o=!0)},p(f,u){let g=n;n=c(f),n===g?~n&&a[n].p(f,u):(r&&(q(),k(a[g],1,1,()=>{a[g]=null}),W()),~n?(r=a[n],r?r.p(f,u):(r=a[n]=i[n](f),r.c()),b(r,1),r.m(e,null)):r=null),(!l||u&1)&&D(e,"width",f[0]+"em"),(!l||u&1)&&D(e,"height",f[0]+"em")},i(f){l||(b(r),l=!0)},o(f){k(r),l=!1},d(f){f&&j(e),~n&&a[n].d(),o=!1,we(s)}}}function Vo(t){let e=t[3],n,r,l=Ht(t);return{c(){l.c(),n=ue()},m(o,s){l.m(o,s),S(o,n,s),r=!0},p(o,[s]){s&8&&V(e,e=o[3])?(q(),k(l,1,1,A),W(),l=Ht(o),l.c(),b(l,1),l.m(n.parentNode,n)):l.p(o,s)},i(o){r||(b(l),r=!0)},o(o){k(l),r=!1},d(o){o&&j(n),l.d(o)}}}function Zo(t,e,n){let r,l,o;Q(t,me,M=>n(7,r=M)),Q(t,Ae,M=>n(8,l=M)),Q(t,Ee,M=>n(9,o=M));let{average:s}=e,{lineType:i}=e,{index:a}=e;const c=En();let f,u=!1;const g=()=>n(2,f=ft(o.get_edge(a,ie(ce,i)))),p=M=>{const C=ve(M,2).filter(([R,O])=>ft(o.get_box(O,R))!==te.EMPTY);ye(Ae,l.affectedBoxes=C,l),ye(Ae,l.currentPlayer=Ce(P,o.current_player),l),g()},v=async()=>{if(o.current_player!==ie(P,P.COMPUTER)&&f===te.EMPTY){if(p(o.handle_edge_interact(a,ie(ce,i))),o.board_full())return c("gameend");for(;o.current_player===ie(P,P.COMPUTER);){await new Promise(O=>setTimeout(O,500));const{0:M,1:U,affected_boxes:C}=o.computer_turn(),R=Ce(ce,U);if(p(C),ye(Ae,l.affectedLines=[[R===ce.HORIZONTAL?M:M-o.width*(o.height+1),Ce(ce,R)]],l),o.board_full())return c("gameend")}}};let y="";return t.$$set=M=>{"average"in M&&n(0,s=M.average),"lineType"in M&&n(1,i=M.lineType),"index"in M&&n(6,a=M.index)},t.$$.update=()=>{if(t.$$.dirty&322&&(n(3,u=l.affectedLines.some(M=>a===M[0]&&i===M[1])),g()),t.$$.dirty&132){const M={[te.USER]:r.colours.user,[te.COMPUTER]:r.colours.computer};n(4,y=M[f])}},[s,i,f,u,y,v,a,r,l]}class Vn extends K{constructor(e){super(),X(this,e,Zo,Vo,V,{average:0,lineType:1,index:6})}}function Xo(t){let e,n,r=t[1].count_boxes(ie(P,P.USER))+"",l,o,s,i,a,c=t[1].count_boxes(ie(P,P.COMPUTER))+"",f;return{c(){e=w("div"),n=w("span"),l=Z(r),o=I(),s=w("span"),s.textContent="-",i=I(),a=w("span"),f=Z(c),_(n,"class","text-lg font-bold md:text-2xl"),D(n,"color",t[0].colours.user),_(s,"class","mx-3"),_(a,"class","text-lg font-bold md:text-2xl"),D(a,"color",t[0].colours.computer),_(e,"class","flex")},m(u,g){S(u,e,g),d(e,n),d(n,l),d(e,o),d(e,s),d(e,i),d(e,a),d(a,f)},p(u,[g]){g&2&&r!==(r=u[1].count_boxes(ie(P,P.USER))+"")&&oe(l,r),g&1&&D(n,"color",u[0].colours.user),g&2&&c!==(c=u[1].count_boxes(ie(P,P.COMPUTER))+"")&&oe(f,c),g&1&&D(a,"color",u[0].colours.computer)},i:A,o:A,d(u){u&&j(e)}}}function Ko(t,e,n){let r,l;return Q(t,me,o=>n(0,r=o)),Q(t,Ee,o=>n(1,l=o)),[r,l]}class Jo extends K{constructor(e){super(),X(this,e,Ko,Xo,V,{})}}function*se(t,e,n=1){for(let r=t;r<e;r+=n)yield r}function Qo(t){return[{check:t.length>=1,string:"Username too short"},{check:t.length<=20,string:"Username too long"},{check:/^[a-zA-Z0-9_]+$/.test(t),string:"Username uses invalid characters"}].filter(n=>!n.check)}function qt(t,e,n){const r=t.slice();return r[8]=e[n],r}function Wt(t,e,n){const r=t.slice();return r[11]=e[n],r}function Yt(t,e,n){const r=t.slice();return r[8]=e[n],r}function Vt(t,e,n){const r=t.slice();return r[16]=e[n],r}function Zt(t,e,n){const r=t.slice();return r[8]=e[n],r}function Xt(t,e,n){const r=t.slice();return r[16]=e[n],r}function Kt(t,e,n){const r=t.slice();return r[23]=e[n],r}function Jt(t,e,n){const r=t.slice();return r[26]=e[n],r}function Qt(t){let e,n,r;return n=new Jo({}),{c(){e=w("div"),Y(n.$$.fragment),_(e,"class","score mx-auto mb-5 md:mb-6")},m(l,o){S(l,e,o),G(n,e,null),r=!0},p:A,i(l){r||(b(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&j(e),H(n)}}}function en(t){let e,n;return e=new bo({props:{x:t[26],y:t[23],average:t[3]}}),{c(){Y(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},p(r,l){const o={};l&1&&(o.x=r[26]),l&2&&(o.y=r[23]),l&8&&(o.average=r[3]),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){H(e,r)}}}function tn(t){let e,n,r,l=[...se(0,t[0])],o=[];for(let i=0;i<l.length;i+=1)o[i]=en(Jt(t,l,i));const s=i=>k(o[i],1,1,()=>{o[i]=null});return{c(){e=w("div");for(let i=0;i<o.length;i+=1)o[i].c();n=I(),_(e,"class","flex")},m(i,a){S(i,e,a);for(let c=0;c<o.length;c+=1)o[c].m(e,null);d(e,n),r=!0},p(i,a){if(a&11){l=[...se(0,i[0])];let c;for(c=0;c<l.length;c+=1){const f=Jt(i,l,c);o[c]?(o[c].p(f,a),b(o[c],1)):(o[c]=en(f),o[c].c(),b(o[c],1),o[c].m(e,n))}for(q(),c=l.length;c<o.length;c+=1)s(c);W()}},i(i){if(!r){for(let a=0;a<l.length;a+=1)b(o[a]);r=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);r=!1},d(i){i&&j(e),fe(o,i)}}}function nn(t){let e,n;return e=new Vn({props:{index:t[16],average:t[3],lineType:ce.HORIZONTAL}}),e.$on("gameend",t[7]),{c(){Y(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},p(r,l){const o={};l&20&&(o.index=r[16]),l&8&&(o.average=r[3]),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){H(e,r)}}}function rn(t){let e,n,r,l=t[8],o=[];for(let i=0;i<l.length;i+=1)o[i]=nn(Xt(t,l,i));const s=i=>k(o[i],1,1,()=>{o[i]=null});return{c(){e=w("div");for(let i=0;i<o.length;i+=1)o[i].c();n=I(),_(e,"class","flex")},m(i,a){S(i,e,a);for(let c=0;c<o.length;c+=1)o[c].m(e,null);d(e,n),r=!0},p(i,a){if(a&156){l=i[8];let c;for(c=0;c<l.length;c+=1){const f=Xt(i,l,c);o[c]?(o[c].p(f,a),b(o[c],1)):(o[c]=nn(f),o[c].c(),b(o[c],1),o[c].m(e,n))}for(q(),c=l.length;c<o.length;c+=1)s(c);W()}},i(i){if(!r){for(let a=0;a<l.length;a+=1)b(o[a]);r=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);r=!1},d(i){i&&j(e),fe(o,i)}}}function ln(t){let e,n;return e=new Vn({props:{index:t[16],average:t[3],lineType:ce.VERTICAL}}),e.$on("gameend",t[7]),{c(){Y(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},p(r,l){const o={};l&36&&(o.index=r[16]),l&8&&(o.average=r[3]),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){H(e,r)}}}function on(t){let e,n,r,l=t[8],o=[];for(let i=0;i<l.length;i+=1)o[i]=ln(Vt(t,l,i));const s=i=>k(o[i],1,1,()=>{o[i]=null});return{c(){e=w("div");for(let i=0;i<o.length;i+=1)o[i].c();n=I(),_(e,"class","flex")},m(i,a){S(i,e,a);for(let c=0;c<o.length;c+=1)o[c].m(e,null);d(e,n),r=!0},p(i,a){if(a&172){l=i[8];let c;for(c=0;c<l.length;c+=1){const f=Vt(i,l,c);o[c]?(o[c].p(f,a),b(o[c],1)):(o[c]=ln(f),o[c].c(),b(o[c],1),o[c].m(e,n))}for(q(),c=l.length;c<o.length;c+=1)s(c);W()}},i(i){if(!r){for(let a=0;a<l.length;a+=1)b(o[a]);r=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);r=!1},d(i){i&&j(e),fe(o,i)}}}function sn(t){let e,n;return e=new Ao({props:{average:t[3]}}),{c(){Y(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},p(r,l){const o={};l&8&&(o.average=r[3]),e.$set(o)},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){H(e,r)}}}function cn(t){let e,n,r,l=t[8],o=[];for(let i=0;i<l.length;i+=1)o[i]=sn(Wt(t,l,i));const s=i=>k(o[i],1,1,()=>{o[i]=null});return{c(){e=w("div");for(let i=0;i<o.length;i+=1)o[i].c();n=I(),_(e,"class","flex")},m(i,a){S(i,e,a);for(let c=0;c<o.length;c+=1)o[c].m(e,null);d(e,n),r=!0},p(i,a){if(a&15){l=i[8];let c;for(c=0;c<l.length;c+=1){const f=Wt(i,l,c);o[c]?(o[c].p(f,a),b(o[c],1)):(o[c]=sn(f),o[c].c(),b(o[c],1),o[c].m(e,n))}for(q(),c=l.length;c<o.length;c+=1)s(c);W()}},i(i){if(!r){for(let a=0;a<l.length;a+=1)b(o[a]);r=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);r=!1},d(i){i&&j(e),fe(o,i)}}}function ei(t){let e,n=t[6].affectedBoxes,r,l,o,s,i,a,c,f,u,g,p=Qt(),v=[...se(0,t[1])],y=[];for(let m=0;m<v.length;m+=1)y[m]=tn(Kt(t,v,m));const M=m=>k(y[m],1,1,()=>{y[m]=null});let U=ve([...se(0,t[4])],t[2].width),C=[];for(let m=0;m<U.length;m+=1)C[m]=rn(Zt(t,U,m));const R=m=>k(C[m],1,1,()=>{C[m]=null});let O=ve([...se(0,t[5])],t[2].height+1),$=[];for(let m=0;m<O.length;m+=1)$[m]=on(Yt(t,O,m));const T=m=>k($[m],1,1,()=>{$[m]=null});let B=ve([...se(0,(t[0]+1)*(t[1]+1))],t[2].width+1),L=[];for(let m=0;m<B.length;m+=1)L[m]=cn(qt(t,B,m));const le=m=>k(L[m],1,1,()=>{L[m]=null});return{c(){e=w("main"),p.c(),r=I(),l=w("div"),o=w("div");for(let m=0;m<y.length;m+=1)y[m].c();s=I(),i=w("div");for(let m=0;m<C.length;m+=1)C[m].c();a=I(),c=w("div");for(let m=0;m<$.length;m+=1)$[m].c();f=I(),u=w("div");for(let m=0;m<L.length;m+=1)L[m].c();_(o,"class","m-auto"),_(i,"class","horizontal-edges absolute"),_(c,"class","vertical-edges absolute"),_(u,"class","dots absolute"),_(l,"class","relative m-auto flex h-full flex-col"),_(e,"class","relative flex h-full w-full select-none flex-col bg-transparent")},m(m,E){S(m,e,E),p.m(e,null),d(e,r),d(e,l),d(l,o);for(let h=0;h<y.length;h+=1)y[h].m(o,null);d(l,s),d(l,i);for(let h=0;h<C.length;h+=1)C[h].m(i,null);d(l,a),d(l,c);for(let h=0;h<$.length;h+=1)$[h].m(c,null);d(l,f),d(l,u);for(let h=0;h<L.length;h+=1)L[h].m(u,null);g=!0},p(m,[E]){if(E&64&&V(n,n=m[6].affectedBoxes)?(q(),k(p,1,1,A),W(),p=Qt(),p.c(),b(p,1),p.m(e,r)):p.p(m,E),E&11){v=[...se(0,m[1])];let h;for(h=0;h<v.length;h+=1){const J=Kt(m,v,h);y[h]?(y[h].p(J,E),b(y[h],1)):(y[h]=tn(J),y[h].c(),b(y[h],1),y[h].m(o,null))}for(q(),h=v.length;h<y.length;h+=1)M(h);W()}if(E&156){U=ve([...se(0,m[4])],m[2].width);let h;for(h=0;h<U.length;h+=1){const J=Zt(m,U,h);C[h]?(C[h].p(J,E),b(C[h],1)):(C[h]=rn(J),C[h].c(),b(C[h],1),C[h].m(i,null))}for(q(),h=U.length;h<C.length;h+=1)R(h);W()}if(E&172){O=ve([...se(0,m[5])],m[2].height+1);let h;for(h=0;h<O.length;h+=1){const J=Yt(m,O,h);$[h]?($[h].p(J,E),b($[h],1)):($[h]=on(J),$[h].c(),b($[h],1),$[h].m(c,null))}for(q(),h=O.length;h<$.length;h+=1)T(h);W()}if(E&15){B=ve([...se(0,(m[0]+1)*(m[1]+1))],m[2].width+1);let h;for(h=0;h<B.length;h+=1){const J=qt(m,B,h);L[h]?(L[h].p(J,E),b(L[h],1)):(L[h]=cn(J),L[h].c(),b(L[h],1),L[h].m(u,null))}for(q(),h=B.length;h<L.length;h+=1)le(h);W()}},i(m){if(!g){b(p);for(let E=0;E<v.length;E+=1)b(y[E]);for(let E=0;E<U.length;E+=1)b(C[E]);for(let E=0;E<O.length;E+=1)b($[E]);for(let E=0;E<B.length;E+=1)b(L[E]);g=!0}},o(m){k(p),y=y.filter(Boolean);for(let E=0;E<y.length;E+=1)k(y[E]);C=C.filter(Boolean);for(let E=0;E<C.length;E+=1)k(C[E]);$=$.filter(Boolean);for(let E=0;E<$.length;E+=1)k($[E]);L=L.filter(Boolean);for(let E=0;E<L.length;E+=1)k(L[E]);g=!1},d(m){m&&j(e),p.d(m),fe(y,m),fe(C,m),fe($,m),fe(L,m)}}}function ti(t,e,n){let r,l;Q(t,Ee,u=>n(2,r=u)),Q(t,Ae,u=>n(6,l=u));let o,s,i,a,c;const f=async()=>{await new Promise(v=>setTimeout(v,300));const u=prompt("Please enter your name:"),g=Qo(u);if(u===null)return;if(g.length>0)return alert(`${g.map(v=>v.string).join(`.
`)}.

Please try again!`),f();const p={username:u,result:{user:await r.count_boxes(ie(P,P.USER)),computer:await r.count_boxes(ie(P,P.COMPUTER))},board:{width:r.width,height:r.height}};await fetch(`${Wn}:${Yn}/matches`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})};return t.$$.update=()=>{t.$$.dirty&7&&(n(0,o=r.width),n(1,s=r.height),n(3,i=11/Math.sqrt((o+s)/2)),n(4,a=(s+1)*o),n(5,c=(o+1)*s))},[o,s,r,i,a,c,l,f]}class ni extends K{constructor(e){super(),X(this,e,ti,ei,V,{})}}function an(t,e,n){const r=t.slice();return r[6]=e[n].username,r[7]=e[n].result,r[8]=e[n].board,r[9]=e[n].game_time,r[11]=n,r}function fn(t){let e;return{c(){e=w("div"),_(e,"class","mx-auto h-[2px] w-full rounded-lg bg-black")},m(n,r){S(n,e,r)},d(n){n&&j(e)}}}function un(t){let e,n,r,l,o,s=t[6]+"",i,a,c,f,u,g=t[7].user+"",p,v,y,M,U,C=t[7].computer+"",R,O,$,T=t[8].width+"",B,L,le=t[8].height+"",m,E,h,J=t[4](t[9])+"",nt,rt,Le,ne=t[11]!==t[0].length-1&&fn();return{c(){e=w("div"),n=w("span"),r=w("span"),l=Z("\u{1F3C6}"),o=I(),i=Z(s),a=I(),c=Z(`\u2502
				`),f=w("div"),u=w("span"),p=Z(g),v=I(),y=w("span"),y.textContent="-",M=I(),U=w("span"),R=Z(C),O=Z(`
				\u2502
				`),$=w("span"),B=Z(T),L=Z(" \xD7 "),m=Z(le),E=Z(`
				\u2502
				`),h=w("span"),nt=Z(J),rt=I(),ne&&ne.c(),Le=ue(),D(r,"opacity",t[7].user>t[7].computer?"1":"0"),D(u,"color",t[3].colours.user),D(U,"color",t[3].colours.computer),_(f,"class","inline-flex justify-center gap-1"),_(e,"class","m-auto flex h-fit w-full justify-center gap-5 align-middle")},m(F,ee){S(F,e,ee),d(e,n),d(n,r),d(r,l),d(n,o),d(n,i),d(n,a),d(e,c),d(e,f),d(f,u),d(u,p),d(f,v),d(f,y),d(f,M),d(f,U),d(U,R),d(e,O),d(e,$),d($,B),d($,L),d($,m),d(e,E),d(e,h),d(h,nt),S(F,rt,ee),ne&&ne.m(F,ee),S(F,Le,ee)},p(F,ee){ee&4&&D(r,"opacity",F[7].user>F[7].computer?"1":"0"),ee&4&&s!==(s=F[6]+"")&&oe(i,s),ee&4&&g!==(g=F[7].user+"")&&oe(p,g),ee&8&&D(u,"color",F[3].colours.user),ee&4&&C!==(C=F[7].computer+"")&&oe(R,C),ee&8&&D(U,"color",F[3].colours.computer),ee&4&&T!==(T=F[8].width+"")&&oe(B,T),ee&4&&le!==(le=F[8].height+"")&&oe(m,le),ee&4&&J!==(J=F[4](F[9])+"")&&oe(nt,J),F[11]!==F[0].length-1?ne||(ne=fn(),ne.c(),ne.m(Le.parentNode,Le)):ne&&(ne.d(1),ne=null)},d(F){F&&j(e),F&&j(rt),ne&&ne.d(F),F&&j(Le)}}}function ri(t){let e,n,r,l,o,s,i=t[2].sort(_n),a=[];for(let c=0;c<i.length;c+=1)a[c]=un(an(t,i,c));return{c(){e=w("div"),n=w("input"),r=I(),l=w("div");for(let c=0;c<a.length;c+=1)a[c].c();_(n,"class","mb-5 w-full rounded-md border-2 border-black p-3"),_(n,"type","text"),_(n,"placeholder","Search for a specific player"),_(l,"class","flex max-h-[300px] w-full flex-col gap-3 overflow-y-scroll rounded-md border-2 border-black p-10")},m(c,f){S(c,e,f),d(e,n),xe(n,t[1]),d(e,r),d(e,l);for(let u=0;u<a.length;u+=1)a[u].m(l,null);o||(s=pe(n,"input",t[5]),o=!0)},p(c,[f]){if(f&2&&n.value!==c[1]&&xe(n,c[1]),f&29){i=c[2].sort(_n);let u;for(u=0;u<i.length;u+=1){const g=an(c,i,u);a[u]?a[u].p(g,f):(a[u]=un(g),a[u].c(),a[u].m(l,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}},i:A,o:A,d(c){c&&j(e),fe(a,c),o=!1,s()}}}const _n=(t,e)=>e.result.user-t.result.user;function li(t,e,n){let r;Q(t,me,c=>n(3,r=c));let l=[],o=l,s="";const i=c=>{const f=new Date(c);return`${f.getHours()}:${f.getMinutes()} ${f.getDate()}/${f.getMonth()}/${f.getFullYear()}`};rr(async()=>{const c=await fetch(`${Wn}:${Yn}/matches`);n(0,l=(await c.json())[0].result)});function a(){s=this.value,n(1,s)}return t.$$.update=()=>{t.$$.dirty&3&&n(2,o=s.length===0?l:l.filter(c=>c.username.toLowerCase().includes(s)))},[l,s,o,r,i,a]}class oi extends K{constructor(e){super(),X(this,e,li,ri,V,{})}}function dn(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r[7]=n,r}function ii(t){let e;return{c(){e=w("span"),e.textContent="\u2502"},m(n,r){S(n,e,r)},d(n){n&&j(e)}}}function gn(t){let e,n,r,l,o,s=t[5]+"",i,a,c=t[7]!==Object.keys(Te).length-1,f,u,g,p=c&&ii();return{c(){e=w("div"),n=w("input"),l=I(),o=w("label"),i=Z(s),a=I(),p&&p.c(),f=ue(),_(n,"type","radio"),_(n,"name","difficulty"),n.checked=r=t[0].difficulty===t[5],n.value=t[4],_(n,"id",t[4]),_(n,"class","peer hidden"),_(o,"for",t[4]),_(o,"class","sliding-underline sliding-underline-small cursor-pointer transition-colors peer-checked:after:w-0"),_(e,"class","inline-block")},m(v,y){S(v,e,y),d(e,n),d(e,l),d(e,o),d(o,i),S(v,a,y),p&&p.m(v,y),S(v,f,y),u||(g=pe(n,"click",t[1]),u=!0)},p(v,y){y&1&&r!==(r=v[0].difficulty===v[5])&&(n.checked=r)},d(v){v&&j(e),v&&j(a),p&&p.d(v),v&&j(f),u=!1,g()}}}function si(t){let e,n,r,l,o,s,i,a,c,f,u,g,p,v,y,M,U,C=Object.entries(Te),R=[];for(let O=0;O<C.length;O+=1)R[O]=gn(dn(t,C,O));return{c(){e=w("div"),n=w("div"),r=w("span"),r.textContent="Difficulty:",l=I(),o=w("div");for(let O=0;O<R.length;O+=1)R[O].c();s=I(),i=w("div"),a=w("span"),a.textContent="Colours:",c=I(),f=w("div"),u=w("input"),g=I(),p=w("span"),p.textContent="\u2502",v=I(),y=w("input"),_(r,"class","flex-shrink"),_(o,"class","inline-flex w-full flex-grow justify-center gap-3"),_(n,"class","difficulty flex"),_(a,"class","flex-shrink"),_(u,"class","rounded-md bg-transparent"),_(u,"type","color"),_(y,"class","rounded-md bg-transparent"),_(y,"type","color"),_(f,"class","inline-flex w-full flex-grow justify-center gap-3"),_(i,"class","colours flex"),_(e,"class","flex flex-col justify-between gap-5 text-xl")},m(O,$){S(O,e,$),d(e,n),d(n,r),d(n,l),d(n,o);for(let T=0;T<R.length;T+=1)R[T].m(o,null);d(e,s),d(e,i),d(i,a),d(i,c),d(i,f),d(f,u),xe(u,t[0].colours.user),d(f,g),d(f,p),d(f,v),d(f,y),xe(y,t[0].colours.computer),M||(U=[pe(u,"input",t[2]),pe(y,"input",t[3])],M=!0)},p(O,[$]){if($&3){C=Object.entries(Te);let T;for(T=0;T<C.length;T+=1){const B=dn(O,C,T);R[T]?R[T].p(B,$):(R[T]=gn(B),R[T].c(),R[T].m(o,null))}for(;T<R.length;T+=1)R[T].d(1);R.length=C.length}$&1&&xe(u,O[0].colours.user),$&1&&xe(y,O[0].colours.computer)},i:A,o:A,d(O){O&&j(e),fe(R,O),M=!1,we(U)}}}function ci(t,e,n){let r;Q(t,me,i=>n(0,r=i));const l=i=>{ye(me,r.difficulty=Te[i.target.value],r)};function o(){r.colours.user=this.value,me.set(r)}function s(){r.colours.computer=this.value,me.set(r)}return[r,l,o,s]}class ai extends K{constructor(e){super(),X(this,e,ci,si,V,{})}}function hn(t){let e,n,r,l,o,s,i,a,c,f,u,g,p,v,y,M,U;const C=[ui,fi],R=[];function O($,T){return $[1]===Ke.SETTINGS?0:$[1]===Ke.LEADERBOARD?1:-1}return~(c=O(t))&&(f=R[c]=C[c](t)),{c(){e=w("div"),n=w("div"),r=w("button"),r.textContent="\u2717",l=I(),o=w("h2"),s=Z(t[1]),i=I(),a=w("div"),f&&f.c(),u=I(),g=w("div"),p=w("button"),p.textContent="OK",_(r,"class","absolute right-4 top-4 flex text-3xl text-gray-400 transition-colors hover:text-gray-800"),_(o,"class","m-auto text-4xl font-bold"),_(a,"class","mt-5 min-h-[400px] w-full flex-grow"),_(p,"class","sliding-underline sliding-underline-small m-auto"),_(g,"class","mt-5 flex w-full flex-shrink text-2xl"),_(n,"class","pointer-events-auto relative flex min-h-fit min-w-[40%] flex-col rounded-md bg-white p-6"),_(e,"role","dialog"),_(e,"class","pointer-events-none fixed z-50 flex h-full w-full items-center justify-center bg-[#333333BB]")},m($,T){S($,e,T),d(e,n),d(n,r),d(n,l),d(n,o),d(o,s),d(n,i),d(n,a),~c&&R[c].m(a,null),d(n,u),d(n,g),d(g,p),y=!0,M||(U=[pe(r,"click",Ot),pe(p,"click",Ot)],M=!0)},p($,T){(!y||T&2)&&oe(s,$[1]);let B=c;c=O($),c!==B&&(f&&(q(),k(R[B],1,1,()=>{R[B]=null}),W()),~c?(f=R[c],f||(f=R[c]=C[c]($),f.c()),b(f,1),f.m(a,null)):f=null)},i($){y||(b(f),be(()=>{v||(v=Tt(e,at,{duration:150},!0)),v.run(1)}),y=!0)},o($){k(f),v||(v=Tt(e,at,{duration:150},!1)),v.run(0),y=!1},d($){$&&j(e),~c&&R[c].d(),$&&v&&v.end(),M=!1,we(U)}}}function fi(t){let e,n;return e=new oi({}),{c(){Y(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){H(e,r)}}}function ui(t){let e,n;return e=new ai({}),{c(){Y(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},i(r){n||(b(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){H(e,r)}}}function _i(t){let e,n,r=t[0]&&hn(t);return{c(){r&&r.c(),e=ue()},m(l,o){r&&r.m(l,o),S(l,e,o),n=!0},p(l,[o]){l[0]?r?(r.p(l,o),o&1&&b(r,1)):(r=hn(l),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(q(),k(r,1,1,()=>{r=null}),W())},i(l){n||(b(r),n=!0)},o(l){k(r),n=!1},d(l){r&&r.d(l),l&&j(e)}}}function di(t,e,n){let{isOpen:r}=e,{event:l}=e;return t.$$set=o=>{"isOpen"in o&&n(0,r=o.isOpen),"event"in o&&n(1,l=o.event)},[r,l]}class gi extends K{constructor(e){super(),X(this,e,di,_i,V,{isOpen:0,event:1})}}function hi(t){let e,n,r,l;return{c(){e=w("button"),n=Z(t[0]),_(e,"class","sliding-underline sliding-underline-medium m-0 border-none bg-none p-0")},m(o,s){S(o,e,s),d(e,n),r||(l=pe(e,"click",t[1]),r=!0)},p(o,[s]){s&1&&oe(n,o[0])},i:A,o:A,d(o){o&&j(e),r=!1,l()}}}function mi(t,e,n){let{label:r}=e;const l=En(),o=()=>l("navigationClick",r);return t.$$set=s=>{"label"in s&&n(0,r=s.label)},[r,o]}class mn extends K{constructor(e){super(),X(this,e,mi,hi,V,{label:0})}}function pi(t){let e,n,r,l,o,s,i,a;return l=new mn({props:{label:Ke.SETTINGS}}),l.$on("navigationClick",t[0]),i=new mn({props:{label:Ke.LEADERBOARD}}),i.$on("navigationClick",t[1]),{c(){e=w("nav"),n=w("div"),r=w("span"),Y(l.$$.fragment),o=I(),s=w("span"),Y(i.$$.fragment),_(r,"class","mb-[0.9rem]"),_(n,"class","flex flex-col text-right text-xl"),_(e,"class","absolute right-[2.95em] top-[2.95em]")},m(c,f){S(c,e,f),d(e,n),d(n,r),G(l,r,null),d(n,o),d(n,s),G(i,s,null),a=!0},p:A,i(c){a||(b(l.$$.fragment,c),b(i.$$.fragment,c),a=!0)},o(c){k(l.$$.fragment,c),k(i.$$.fragment,c),a=!1},d(c){c&&j(e),H(l),H(i)}}}function bi(t){function e(r){$t.call(this,t,r)}function n(r){$t.call(this,t,r)}return[e,n]}class wi extends K{constructor(e){super(),X(this,e,bi,pi,V,{})}}function yi(t){let e,n,r,l,o,s,i,a,c,f,u;return n=new wi({}),n.$on("navigationClick",t[0]),l=new Cr({}),f=new ni({}),{c(){e=w("div"),Y(n.$$.fragment),r=I(),Y(l.$$.fragment),o=I(),s=w("div"),i=w("div"),i.innerHTML='<h1 class="title title-large m-auto w-fit text-4xl md:text-5xl">Dots &amp; Boxes</h1>',a=I(),c=w("div"),Y(f.$$.fragment),_(i,"class","flex w-full"),_(c,"class","bg mt-4 flex w-full md:mt-6"),_(s,"class","relative m-auto flex h-full flex-col justify-center"),_(e,"class","bg-paper relative flex h-full w-full after:md:absolute after:md:left-32 after:md:h-full after:md:w-[0.1em] after:md:bg-red-500 svelte-1mjiqwt")},m(g,p){S(g,e,p),G(n,e,null),d(e,r),G(l,e,null),d(e,o),d(e,s),d(s,i),d(s,a),d(s,c),G(f,c,null),u=!0},p:A,i(g){u||(b(n.$$.fragment,g),b(l.$$.fragment,g),b(f.$$.fragment,g),u=!0)},o(g){k(n.$$.fragment,g),k(l.$$.fragment,g),k(f.$$.fragment,g),u=!1},d(g){g&&j(e),H(n),H(l),H(f)}}}function vi(t){return[n=>{_r(gi,{event:n.detail})}]}class ki extends K{constructor(e){super(),X(this,e,vi,yi,V,{})}}function $i(t){let e,n,r;return n=new ki({}),{c(){e=w("main"),Y(n.$$.fragment),_(e,"class","font-body box-border flex h-screen flex-1 bg-white")},m(l,o){S(l,e,o),G(n,e,null),r=!0},p:A,i(l){r||(b(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&j(e),H(n)}}}class Mi extends K{constructor(e){super(),X(this,e,null,$i,V,{})}}new Mi({target:document.getElementById("app")});
