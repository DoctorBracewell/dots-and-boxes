(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function A(){}const yt=t=>t;function vt(t,e){for(const n in e)t[n]=e[n];return t}function sr(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function jn(t){return t()}function Pt(){return Object.create(null)}function Me(t){t.forEach(jn)}function ct(t){return typeof t=="function"}function Y(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Je;function ze(t,e){return Je||(Je=document.createElement("a")),Je.href=e,t===Je.href}function cr(t){return Object.keys(t).length===0}function An(t,...e){if(t==null)return A;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ge(t){let e;return An(t,n=>e=n)(),e}function Q(t,e,n){t.$$.on_destroy.push(An(e,n))}function kt(t,e,n,r){if(t){const l=Un(t,e,n,r);return t[0](l)}}function Un(t,e,n,r){return t[1]&&r?vt(n.ctx.slice(),t[1](r(e))):n.ctx}function $t(t,e,n,r){if(t[2]&&r){const l=t[2](r(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const i=[],s=Math.max(e.dirty.length,l.length);for(let o=0;o<s;o+=1)i[o]=e.dirty[o]|l[o];return i}return e.dirty|l}return e.dirty}function Mt(t,e,n,r,l,i){if(l){const s=Un(e,n,r,i);t.p(s,l)}}function Ct(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function pe(t,e,n){return t.set(n),e}const Ln=typeof window<"u";let Bn=Ln?()=>window.performance.now():()=>Date.now(),Tt=Ln?t=>requestAnimationFrame(t):A;const De=new Set;function Pn(t){De.forEach(e=>{e.c(t)||(De.delete(e),e.f())}),De.size!==0&&Tt(Pn)}function In(t){let e;return De.size===0&&Tt(Pn),{promise:new Promise(n=>{De.add(e={c:t,f:n})}),abort(){De.delete(e)}}}function _(t,e){t.appendChild(e)}function Nn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ar(t){const e=m("style");return ur(Nn(t),e),e.sheet}function ur(t,e){return _(t.head||t,e),e.sheet}function x(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function he(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function oe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t){return document.createTextNode(t)}function S(){return J(" ")}function me(){return J("")}function ce(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function u(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function fr(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function fe(t,e){t.value=e??""}function I(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function zn(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,r,e),l}function lt(t,e){return new t(e)}const it=new Map;let ot=0;function _r(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function dr(t,e){const n={stylesheet:ar(e),rules:{}};return it.set(t,n),n}function gt(t,e,n,r,l,i,s,o=0){const c=16.666/r;let a=`{
`;for(let $=0;$<=1;$+=c){const U=e+(n-e)*i($);a+=$*100+`%{${s(U,1-U)}}
`}const f=a+`100% {${s(n,1-n)}}
}`,d=`__svelte_${_r(f)}_${o}`,g=Nn(t),{stylesheet:b,rules:w}=it.get(g)||dr(g,t);w[d]||(w[d]=!0,b.insertRule(`@keyframes ${d} ${f}`,b.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${d} ${r}ms linear ${l}ms 1 both`,ot+=1,d}function ht(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),l=n.length-r.length;l&&(t.style.animation=r.join(", "),ot-=l,ot||gr())}function gr(){Tt(()=>{ot||(it.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&E(e)}),it.clear())})}let Ze;function we(t){Ze=t}function Et(){if(!Ze)throw new Error("Function called outside component initialization");return Ze}function hr(t){Et().$$.on_mount.push(t)}function Fn(){const t=Et();return(e,n,{cancelable:r=!1}={})=>{const l=t.$$.callbacks[e];if(l){const i=zn(e,n,{cancelable:r});return l.slice().forEach(s=>{s.call(t,i)}),!i.defaultPrevented}return!0}}function mr(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Ne=[],It=[],tt=[],Nt=[],br=Promise.resolve();let mt=!1;function pr(){mt||(mt=!0,br.then(Ot))}function ke(t){tt.push(t)}const ut=new Set;let Pe=0;function Ot(){if(Pe!==0)return;const t=Ze;do{try{for(;Pe<Ne.length;){const e=Ne[Pe];Pe++,we(e),wr(e.$$)}}catch(e){throw Ne.length=0,Pe=0,e}for(we(null),Ne.length=0,Pe=0;It.length;)It.pop()();for(let e=0;e<tt.length;e+=1){const n=tt[e];ut.has(n)||(ut.add(n),n())}tt.length=0}while(Ne.length);for(;Nt.length;)Nt.pop()();mt=!1,ut.clear(),we(t)}function wr(t){if(t.fragment!==null){t.update(),Me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ke)}}let He;function Dn(){return He||(He=Promise.resolve(),He.then(()=>{He=null})),He}function Ve(t,e,n){t.dispatchEvent(zn(`${e?"intro":"outro"}${n}`))}const nt=new Set;let ye;function G(){ye={r:0,c:[],p:ye}}function H(){ye.r||Me(ye.c),ye=ye.p}function y(t,e){t&&t.i&&(nt.delete(t),t.i(e))}function k(t,e,n,r){if(t&&t.o){if(nt.has(t))return;nt.add(t),ye.c.push(()=>{nt.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Gn={duration:0};function xt(t,e,n){const r={direction:"in"};let l=e(t,n,r),i=!1,s,o,c=0;function a(){s&&ht(t,s)}function f(){const{delay:g=0,duration:b=300,easing:w=yt,tick:v=A,css:$}=l||Gn;$&&(s=gt(t,0,1,b,g,w,$,c++)),v(0,1);const U=Bn()+g,O=U+b;o&&o.abort(),i=!0,ke(()=>Ve(t,!0,"start")),o=In(B=>{if(i){if(B>=O)return v(1,0),Ve(t,!0,"end"),a(),i=!1;if(B>=U){const j=w((B-U)/b);v(j,1-j)}}return i})}let d=!1;return{start(){d||(d=!0,ht(t),ct(l)?(l=l(r),Dn().then(f)):f())},invalidate(){d=!1},end(){i&&(a(),i=!1)}}}function zt(t,e,n,r){const l={direction:"both"};let i=e(t,n,l),s=r?0:1,o=null,c=null,a=null;function f(){a&&ht(t,a)}function d(b,w){const v=b.b-s;return w*=Math.abs(v),{a:s,b:b.b,d:v,duration:w,start:b.start,end:b.start+w,group:b.group}}function g(b){const{delay:w=0,duration:v=300,easing:$=yt,tick:U=A,css:O}=i||Gn,B={start:Bn()+w,b};b||(B.group=ye,ye.r+=1),o||c?c=B:(O&&(f(),a=gt(t,s,b,v,w,$,O)),b&&U(0,1),o=d(B,v),ke(()=>Ve(t,b,"start")),In(j=>{if(c&&j>c.start&&(o=d(c,v),c=null,Ve(t,o.b,"start"),O&&(f(),a=gt(t,s,o.b,o.duration,0,$,i.css))),o){if(j>=o.end)U(s=o.b,1-s),Ve(t,o.b,"end"),c||(o.b?f():--o.group.r||Me(o.group.c)),o=null;else if(j>=o.start){const C=j-o.start;s=o.a+o.d*$(C/o.duration),U(s,1-s)}}return!!(o||c)}))}return{run(b){ct(i)?Dn().then(()=>{i=i(l),g(b)}):g(b)},end(){f(),o=c=null}}}function Ft(t,e){const n=e.token={};function r(l,i,s,o){if(e.token!==n)return;e.resolved=o;let c=e.ctx;s!==void 0&&(c=c.slice(),c[s]=o);const a=l&&(e.current=l)(c);let f=!1;e.block&&(e.blocks?e.blocks.forEach((d,g)=>{g!==i&&d&&(G(),k(d,1,1,()=>{e.blocks[g]===d&&(e.blocks[g]=null)}),H())}):e.block.d(1),a.c(),y(a,1),a.m(e.mount(),e.anchor),f=!0),e.block=a,e.blocks&&(e.blocks[i]=a),f&&Ot()}if(sr(t)){const l=Et();if(t.then(i=>{we(l),r(e.then,1,e.value,i),we(null)},i=>{if(we(l),r(e.catch,2,e.error,i),we(null),!e.hasCatch)throw i}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function yr(t,e,n){const r=e.slice(),{resolved:l}=t;t.current===t.then&&(r[t.value]=l),t.current===t.catch&&(r[t.error]=l),t.block.p(r,n)}function vr(t,e){k(t,1,1,()=>{e.delete(t.key)})}function kr(t,e,n,r,l,i,s,o,c,a,f,d){let g=t.length,b=i.length,w=g;const v={};for(;w--;)v[t[w].key]=w;const $=[],U=new Map,O=new Map;for(w=b;w--;){const L=d(l,i,w),P=n(L);let R=s.get(P);R?r&&R.p(L,e):(R=a(P,L),R.c()),U.set(P,$[w]=R),P in v&&O.set(P,Math.abs(w-v[P]))}const B=new Set,j=new Set;function C(L){y(L,1),L.m(o,f),s.set(L.key,L),f=L.first,b--}for(;g&&b;){const L=$[b-1],P=t[g-1],R=L.key,Z=P.key;L===P?(f=L.first,g--,b--):U.has(Z)?!s.has(R)||B.has(R)?C(L):j.has(Z)?g--:O.get(R)>O.get(Z)?(j.add(R),C(L)):(B.add(Z),g--):(c(P,s),g--)}for(;g--;){const L=t[g];U.has(L.key)||c(L,s)}for(;b;)C($[b-1]);return $}function Hn(t,e){const n={},r={},l={$$scope:1};let i=t.length;for(;i--;){const s=t[i],o=e[i];if(o){for(const c in s)c in o||(r[c]=1);for(const c in o)l[c]||(n[c]=o[c],l[c]=1);t[i]=o}else for(const c in s)l[c]=1}for(const s in r)s in n||(n[s]=void 0);return n}function Wn(t){return typeof t=="object"&&t!==null?t:{}}function V(t){t&&t.c()}function W(t,e,n,r){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,n),r||ke(()=>{const s=t.$$.on_mount.map(jn).filter(ct);t.$$.on_destroy?t.$$.on_destroy.push(...s):Me(s),t.$$.on_mount=[]}),i.forEach(ke)}function q(t,e){const n=t.$$;n.fragment!==null&&(Me(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function $r(t,e){t.$$.dirty[0]===-1&&(Ne.push(t),pr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ee(t,e,n,r,l,i,s,o=[-1]){const c=Ze;we(t);const a=t.$$={fragment:null,ctx:[],props:i,update:A,not_equal:l,bound:Pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Pt(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};s&&s(a.root);let f=!1;if(a.ctx=n?n(t,e.props||{},(d,g,...b)=>{const w=b.length?b[0]:g;return a.ctx&&l(a.ctx[d],a.ctx[d]=w)&&(!a.skip_bound&&a.bound[d]&&a.bound[d](w),f&&$r(t,d)),g}):[],a.update(),f=!0,Me(a.before_update),a.fragment=r?r(a.ctx):!1,e.target){if(e.hydrate){const d=fr(e.target);a.fragment&&a.fragment.l(d),d.forEach(E)}else a.fragment&&a.fragment.c();e.intro&&y(t.$$.fragment),W(t,e.target,e.anchor,e.customElement),Ot()}we(c)}class te{$destroy(){q(this,1),this.$destroy=A}$on(e,n){if(!ct(n))return A;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!cr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ie=[];function Ae(t,e=A){let n;const r=new Set;function l(o){if(Y(t,o)&&(t=o,n)){const c=!Ie.length;for(const a of r)a[1](),Ie.push(a,t);if(c){for(let a=0;a<Ie.length;a+=2)Ie[a][0](Ie[a+1]);Ie.length=0}}}function i(o){l(o(t))}function s(o,c=A){const a=[o,c];return r.add(a),r.size===1&&(n=e(l)||A),o(t),()=>{r.delete(a),r.size===0&&(n(),n=null)}}return{set:l,update:i,subscribe:s}}const Oe=Ae(!1),xe=Ae(null),Se=Ae([]),qn=Ae(null);function Mr(t=1){const e=ge(Se).length,n=ge(Se)[e-1];return ge(xe)||n?.callbacks?.onBeforeClose&&n?.callbacks?.onBeforeClose()===!1?!1:(ge(Oe)&&e>0&&xe.set(!0),Oe.set(!1),qn.set("pop"),Tr(t),!0)}function Dt(){return Mr(1)}function Cr(t,e,n){ge(xe)||(qn.set("push"),ge(Oe)&&ge(Se).length&&xe.set(!0),Oe.set(!1),n?.replace?Se.update(r=>[...r.slice(0,r.length-1),{component:t,props:e}]):Se.update(r=>[...r,{component:t,props:e}]))}function Tr(t=1){Se.update(e=>e.slice(0,Math.max(0,e.length-t)))}function Gt(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}const Er=t=>({}),Ht=t=>({}),Or=t=>({}),Wt=t=>({});function qt(t){let e;const n=t[4].backdrop,r=kt(n,t,t[3],Wt);return{c(){r&&r.c()},m(l,i){r&&r.m(l,i),e=!0},p(l,i){r&&r.p&&(!e||i&8)&&Mt(r,n,l,l[3],e?$t(n,l[3],i,Or):Ct(l[3]),Wt)},i(l){e||(y(r,l),e=!0)},o(l){k(r,l),e=!1},d(l){r&&r.d(l)}}}function xr(t){let e,n,r;const l=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var i=t[9].component;function s(o){let c={};for(let a=0;a<l.length;a+=1)c=vt(c,l[a]);return{props:c}}return i&&(e=lt(i,s()),e.$on("introstart",t[7]),e.$on("outroend",t[8])),{c(){e&&V(e.$$.fragment),n=me()},m(o,c){e&&W(e,o,c),x(o,n,c),r=!0},p(o,c){const a=c&3?Hn(l,[{isOpen:o[11]===o[0].length-1&&!o[1]},c&1&&Wn(o[9].props)]):{};if(i!==(i=o[9].component)){if(e){G();const f=e;k(f.$$.fragment,1,0,()=>{q(f,1)}),H()}i?(e=lt(i,s()),e.$on("introstart",o[7]),e.$on("outroend",o[8]),V(e.$$.fragment),y(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else i&&e.$set(a)},i(o){r||(e&&y(e.$$.fragment,o),r=!0)},o(o){e&&k(e.$$.fragment,o),r=!1},d(o){o&&E(n),e&&q(e,o)}}}function Sr(t){let e,n,r,l={ctx:t,current:null,token:null,hasCatch:!1,pending:Ar,then:jr,catch:Rr,value:12,blocks:[,,,]};return Ft(n=Vt(t[9].component),l),{c(){e=me(),l.block.c()},m(i,s){x(i,e,s),l.block.m(i,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,r=!0},p(i,s){t=i,l.ctx=t,s&1&&n!==(n=Vt(t[9].component))&&Ft(n,l)||yr(l,t,s)},i(i){r||(y(l.block),r=!0)},o(i){for(let s=0;s<3;s+=1){const o=l.blocks[s];k(o)}r=!1},d(i){i&&E(e),l.block.d(i),l.token=null,l=null}}}function Rr(t){return{c:A,m:A,p:A,i:A,o:A,d:A}}function jr(t){let e,n,r;const l=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var i=t[12];function s(o){let c={};for(let a=0;a<l.length;a+=1)c=vt(c,l[a]);return{props:c}}return i&&(e=lt(i,s()),e.$on("introstart",t[5]),e.$on("outroend",t[6])),{c(){e&&V(e.$$.fragment),n=S()},m(o,c){e&&W(e,o,c),x(o,n,c),r=!0},p(o,c){const a=c&3?Hn(l,[{isOpen:o[11]===o[0].length-1&&!o[1]},c&1&&Wn(o[9].props)]):{};if(i!==(i=o[12])){if(e){G();const f=e;k(f.$$.fragment,1,0,()=>{q(f,1)}),H()}i?(e=lt(i,s()),e.$on("introstart",o[5]),e.$on("outroend",o[6]),V(e.$$.fragment),y(e.$$.fragment,1),W(e,n.parentNode,n)):e=null}else i&&e.$set(a)},i(o){r||(e&&y(e.$$.fragment,o),r=!0)},o(o){e&&k(e.$$.fragment,o),r=!1},d(o){e&&q(e,o),o&&E(n)}}}function Ar(t){let e,n;const r=t[4].loading,l=kt(r,t,t[3],Ht);return{c(){l&&l.c(),e=S()},m(i,s){l&&l.m(i,s),x(i,e,s),n=!0},p(i,s){l&&l.p&&(!n||s&8)&&Mt(l,r,i,i[3],n?$t(r,i[3],s,Er):Ct(i[3]),Ht)},i(i){n||(y(l,i),n=!0)},o(i){k(l,i),n=!1},d(i){l&&l.d(i),i&&E(e)}}}function Yt(t,e){let n,r,l,i,s,o;const c=[Sr,xr],a=[];function f(d,g){return g&1&&(r=null),r==null&&(r=!!Br(d[9].component)),r?0:1}return l=f(e,-1),i=a[l]=c[l](e),{key:t,first:null,c(){n=me(),i.c(),s=me(),this.first=n},m(d,g){x(d,n,g),a[l].m(d,g),x(d,s,g),o=!0},p(d,g){e=d;let b=l;l=f(e,g),l===b?a[l].p(e,g):(G(),k(a[b],1,1,()=>{a[b]=null}),H(),i=a[l],i?i.p(e,g):(i=a[l]=c[l](e),i.c()),y(i,1),i.m(s.parentNode,s))},i(d){o||(y(i),o=!0)},o(d){k(i),o=!1},d(d){d&&E(n),a[l].d(d),d&&E(s)}}}function Ur(t){let e=[],n=new Map,r,l,i=t[0];const s=o=>o[11];for(let o=0;o<i.length;o+=1){let c=Gt(t,i,o),a=s(c);n.set(a,e[o]=Yt(a,c))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();r=me()},m(o,c){for(let a=0;a<e.length;a+=1)e[a].m(o,c);x(o,r,c),l=!0},p(o,c){c&15&&(i=o[0],G(),e=kr(e,c,s,1,o,i,n,r.parentNode,vr,Yt,r,Gt),H())},i(o){if(!l){for(let c=0;c<i.length;c+=1)y(e[c]);l=!0}},o(o){for(let c=0;c<e.length;c+=1)k(e[c]);l=!1},d(o){for(let c=0;c<e.length;c+=1)e[c].d(o);o&&E(r)}}}function Lr(t){let e,n,r=t[0].length>0&&qt(t);const l=t[4].default,i=kt(l,t,t[3],null),s=i||Ur(t);return{c(){r&&r.c(),e=S(),s&&s.c()},m(o,c){r&&r.m(o,c),x(o,e,c),s&&s.m(o,c),n=!0},p(o,[c]){o[0].length>0?r?(r.p(o,c),c&1&&y(r,1)):(r=qt(o),r.c(),y(r,1),r.m(e.parentNode,e)):r&&(G(),k(r,1,1,()=>{r=null}),H()),i?i.p&&(!n||c&8)&&Mt(i,l,o,o[3],n?$t(l,o[3],c,null):Ct(o[3]),null):s&&s.p&&(!n||c&15)&&s.p(o,n?c:-1)},i(o){n||(y(r),y(s,o),n=!0)},o(o){k(r),k(s,o),n=!1},d(o){r&&r.d(o),o&&E(e),s&&s.d(o)}}}function Br(t){return typeof t.prototype>"u"}async function Vt(t){return t().then(e=>e.default)}function Pr(t,e,n){let r,l,i;Q(t,Se,g=>n(0,r=g)),Q(t,xe,g=>n(1,l=g)),Q(t,Oe,g=>n(2,i=g));let{$$slots:s={},$$scope:o}=e;const c=()=>{pe(Oe,i=!0,i)},a=()=>{pe(xe,l=!1,l)},f=()=>{pe(Oe,i=!0,i)},d=()=>{pe(xe,l=!1,l)};return t.$$set=g=>{"$$scope"in g&&n(3,o=g.$$scope)},[r,l,i,o,s,c,a,f,d]}class Ir extends te{constructor(e){super(),ee(this,e,Pr,Lr,Y,{})}}var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nr(t,e,n){var r=-1,l=t.length;e<0&&(e=-e>l?0:l+e),n=n>l?l:n,n<0&&(n+=l),l=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(l);++r<l;)i[r]=t[r+e];return i}var zr=Nr;function Fr(t,e){return t===e||t!==t&&e!==e}var Dr=Fr,Gr=typeof Qe=="object"&&Qe&&Qe.Object===Object&&Qe,Hr=Gr,Wr=Hr,qr=typeof self=="object"&&self&&self.Object===Object&&self,Yr=Wr||qr||Function("return this")(),Vr=Yr,Zr=Vr,Xr=Zr.Symbol,Yn=Xr,Zt=Yn,Vn=Object.prototype,Kr=Vn.hasOwnProperty,Jr=Vn.toString,We=Zt?Zt.toStringTag:void 0;function Qr(t){var e=Kr.call(t,We),n=t[We];try{t[We]=void 0;var r=!0}catch{}var l=Jr.call(t);return r&&(e?t[We]=n:delete t[We]),l}var el=Qr,tl=Object.prototype,nl=tl.toString;function rl(t){return nl.call(t)}var ll=rl,Xt=Yn,il=el,ol=ll,sl="[object Null]",cl="[object Undefined]",Kt=Xt?Xt.toStringTag:void 0;function al(t){return t==null?t===void 0?cl:sl:Kt&&Kt in Object(t)?il(t):ol(t)}var Zn=al;function ul(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var St=ul,fl=Zn,_l=St,dl="[object AsyncFunction]",gl="[object Function]",hl="[object GeneratorFunction]",ml="[object Proxy]";function bl(t){if(!_l(t))return!1;var e=fl(t);return e==gl||e==hl||e==dl||e==ml}var pl=bl,wl=9007199254740991;function yl(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wl}var vl=yl,kl=pl,$l=vl;function Ml(t){return t!=null&&$l(t.length)&&!kl(t)}var Cl=Ml,Tl=9007199254740991,El=/^(?:0|[1-9]\d*)$/;function Ol(t,e){var n=typeof t;return e=e??Tl,!!e&&(n=="number"||n!="symbol"&&El.test(t))&&t>-1&&t%1==0&&t<e}var xl=Ol,Sl=Dr,Rl=Cl,jl=xl,Al=St;function Ul(t,e,n){if(!Al(n))return!1;var r=typeof e;return(r=="number"?Rl(n)&&jl(e,n.length):r=="string"&&e in n)?Sl(n[e],t):!1}var Xn=Ul,Ll=/\s/;function Bl(t){for(var e=t.length;e--&&Ll.test(t.charAt(e)););return e}var Pl=Bl,Il=Pl,Nl=/^\s+/;function zl(t){return t&&t.slice(0,Il(t)+1).replace(Nl,"")}var Fl=zl;function Dl(t){return t!=null&&typeof t=="object"}var Gl=Dl,Hl=Zn,Wl=Gl,ql="[object Symbol]";function Yl(t){return typeof t=="symbol"||Wl(t)&&Hl(t)==ql}var Vl=Yl,Zl=Fl,Jt=St,Xl=Vl,Qt=0/0,Kl=/^[-+]0x[0-9a-f]+$/i,Jl=/^0b[01]+$/i,Ql=/^0o[0-7]+$/i,ei=parseInt;function ti(t){if(typeof t=="number")return t;if(Xl(t))return Qt;if(Jt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Jt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Zl(t);var n=Jl.test(t);return n||Ql.test(t)?ei(t.slice(2),n?2:8):Kl.test(t)?Qt:+t}var ni=ti,ri=ni,en=1/0,li=17976931348623157e292;function ii(t){if(!t)return t===0?t:0;if(t=ri(t),t===en||t===-en){var e=t<0?-1:1;return e*li}return t===t?t:0}var Kn=ii,oi=Kn;function si(t){var e=oi(t),n=e%1;return e===e?n?e-n:e:0}var ci=si,ai=zr,ui=Xn,fi=ci,_i=Math.ceil,di=Math.max;function gi(t,e,n){(n?ui(t,e,n):e===void 0)?e=1:e=di(fi(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var l=0,i=0,s=Array(_i(r/e));l<r;)s[i++]=ai(t,l,l+=e);return s}var Ee=gi;function hi(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function bt(t,{delay:e=0,duration:n=400,easing:r=yt}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:i=>`opacity: ${i*l}`}}function Jn(t,{delay:e=0,speed:n,duration:r,easing:l=hi}={}){let i=t.getTotalLength();const s=getComputedStyle(t);return s.strokeLinecap!=="butt"&&(i+=parseInt(s.strokeWidth)),r===void 0?n===void 0?r=800:r=i/n:typeof r=="function"&&(r=r(i)),{delay:e,duration:r,easing:l,css:(o,c)=>`
			stroke-dasharray: ${i};
			stroke-dashoffset: ${c*i};
		`}}const je={EASY:"easy",MEDIUM:"medium",HARD:"hard"},de={HORIZONTAL:"horizontal",VERTICAL:"vertical"},z={USER:"user",COMPUTER:"computer"},le={USER:"user",COMPUTER:"computer",EMPTY:"hover"},pt={SETTINGS:"settings",LEADERBOARD:"leaderboard"},wt=t=>t===void 0?le.EMPTY:Object.values(le)[t],Re=(t,e)=>Object.values(t)[e],ae=(t,e)=>Object.values(t).indexOf(e);let T;function mi(t){const e=T.__externref_table_alloc();return T.__wbindgen_externrefs.set(e,t),e}function Qn(t,e){return t=t>>>0,er().subarray(t/4,t/4+e)}function bi(t,e){return t=t>>>0,tr().subarray(t/1,t/1+e)}function ft(t,e){return t=t>>>0,vi(t,e)}let qe=null;function er(){return(qe===null||qe.byteLength===0)&&(qe=new Uint32Array(T.memory.buffer)),qe}let Ye=null;function tr(){return(Ye===null||Ye.byteLength===0)&&(Ye=new Uint8Array(T.memory.buffer)),Ye}function be(t,e){try{return t.apply(this,e)}catch(n){const r=mi(n);T.__wbindgen_exn_store(r)}}function pi(t){return t==null}function wi(t,e){const n=e(t.length*4,4)>>>0;return er().set(t,n/4),nr=t.length,n}let rt=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});rt.decode();const yi=2146435072;let _t=0;function vi(t,e){return _t+=e,_t>=yi&&(rt=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),rt.decode(),_t=e),rt.decode(tr().subarray(t,t+e))}let nr=0;const tn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>T.__wbg_game_free(t>>>0,1)),ki=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>T.__wbg_gamebox_free(t>>>0,1)),dt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>T.__wbg_turninformation_free(t>>>0,1));Object.freeze({Easy:0,0:"Easy",Medium:1,1:"Medium",Hard:2,2:"Hard"});class st{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,tn.unregister(this),e}free(){const e=this.__destroy_into_raw();T.__wbg_game_free(e,0)}board_full(){return T.game_board_full(this.__wbg_ptr)!==0}get difficulty(){return T.game_difficulty(this.__wbg_ptr)}set height(e){T.game_set_height(this.__wbg_ptr,e)}count_boxes(e){return T.game_count_boxes(this.__wbg_ptr,e)>>>0}computer_turn(){const e=T.game_computer_turn(this.__wbg_ptr);return Xe.__wrap(e)}interact_edge(e,n){const r=T.game_interact_edge(this.__wbg_ptr,e,n);var l=Qn(r[0],r[1]).slice();return T.__wbindgen_free(r[0],r[1]*4,4),l}switch_player(){T.game_switch_player(this.__wbg_ptr)}get current_player(){return T.game_current_player(this.__wbg_ptr)}set difficulty(e){T.game_set_difficulty(this.__wbg_ptr,e)}count_open_boxes(){return T.game_count_open_boxes(this.__wbg_ptr)>>>0}set current_player(e){T.game_set_current_player(this.__wbg_ptr,e)}handle_edge_interact(e,n){return T.game_handle_edge_interact(this.__wbg_ptr,e,n)}constructor(e,n){const r=T.game_new(e,n);return this.__wbg_ptr=r>>>0,tn.register(this,this.__wbg_ptr,this),this}get width(){return T.game_width(this.__wbg_ptr)>>>0}get height(){return T.game_height(this.__wbg_ptr)>>>0}get_box(e,n){const r=T.game_get_box(this.__wbg_ptr,e,n);return r===2?void 0:r}get_edge(e,n){const r=T.game_get_edge(this.__wbg_ptr,e,n);return r===2?void 0:r}set width(e){T.game_set_width(this.__wbg_ptr,e)}}Symbol.dispose&&(st.prototype[Symbol.dispose]=st.prototype.free);class nn{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ki.unregister(this),e}free(){const e=this.__destroy_into_raw();T.__wbg_gamebox_free(e,0)}get claimed(){const e=T.__wbg_get_gamebox_claimed(this.__wbg_ptr);return e===2?void 0:e}set claimed(e){T.__wbg_set_gamebox_claimed(this.__wbg_ptr,pi(e)?2:e)}}Symbol.dispose&&(nn.prototype[Symbol.dispose]=nn.prototype.free);Object.freeze({Ground:0,0:"Ground",Box:1,1:"Box"});Object.freeze({Horizontal:0,0:"Horizontal",Vertical:1,1:"Vertical"});Object.freeze({User:0,0:"User",Computer:1,1:"Computer"});class Xe{static __wrap(e){e=e>>>0;const n=Object.create(Xe.prototype);return n.__wbg_ptr=e,dt.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,dt.unregister(this),e}free(){const e=this.__destroy_into_raw();T.__wbg_turninformation_free(e,0)}get affected_boxes(){const e=T.turninformation_affected_boxes(this.__wbg_ptr);var n=Qn(e[0],e[1]).slice();return T.__wbindgen_free(e[0],e[1]*4,4),n}constructor(e,n,r){const l=wi(r,T.__wbindgen_malloc),i=nr,s=T.turninformation_new(e,n,l,i);return this.__wbg_ptr=s>>>0,dt.register(this,this.__wbg_ptr,this),this}get 0(){return T.__wbg_get_turninformation_0(this.__wbg_ptr)>>>0}set 0(e){T.__wbg_set_turninformation_0(this.__wbg_ptr,e)}get 1(){return T.__wbg_get_turninformation_1(this.__wbg_ptr)}set 1(e){T.__wbg_set_turninformation_1(this.__wbg_ptr,e)}}Symbol.dispose&&(Xe.prototype[Symbol.dispose]=Xe.prototype.free);const $i=new Set(["basic","cors","default"]);async function Mi(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.ok&&$i.has(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function Ci(){const t={};return t.wbg={},t.wbg.__wbg___wbindgen_is_function_8d400b8b1af978cd=function(e){return typeof e=="function"},t.wbg.__wbg___wbindgen_is_object_ce774f3490692386=function(e){const n=e;return typeof n=="object"&&n!==null},t.wbg.__wbg___wbindgen_is_string_704ef9c8fc131030=function(e){return typeof e=="string"},t.wbg.__wbg___wbindgen_is_undefined_f6b95eab589e0269=function(e){return e===void 0},t.wbg.__wbg___wbindgen_memory_a342e963fbcabd68=function(){return T.memory},t.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(e,n){throw new Error(ft(e,n))},t.wbg.__wbg_buffer_80c3d21a2d45e1d1=function(e){return e.buffer},t.wbg.__wbg_call_2d27a686049b7329=function(){return be(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_call_7a87541c0ea791e9=function(){return be(function(e,n,r){return e.call(n,r)},arguments)},t.wbg.__wbg_crypto_c04548ccb24f7ce9=function(e){return e.crypto},t.wbg.__wbg_getRandomValues_4edf1a0f54074f30=function(){return be(function(e,n){e.getRandomValues(n)},arguments)},t.wbg.__wbg_globalThis_6a98c9913c48e3ca=function(){return be(function(){return globalThis.globalThis},arguments)},t.wbg.__wbg_global_b3963c6297f9f68b=function(){return be(function(){return global.global},arguments)},t.wbg.__wbg_length_51b58c9eed7b7afc=function(e){return e.length},t.wbg.__wbg_msCrypto_934ced21f090f024=function(e){return e.msCrypto},t.wbg.__wbg_new_06e55014b923c22a=function(e){return new Uint8Array(e)},t.wbg.__wbg_new_d53733adbdd47b56=function(e){return new Uint32Array(e)},t.wbg.__wbg_new_no_args_eeac0ed8084900e6=function(e,n){return new Function(ft(e,n))},t.wbg.__wbg_new_with_byte_offset_and_length_d0029d7ade2366a0=function(e,n,r){return new Uint32Array(e,n>>>0,r>>>0)},t.wbg.__wbg_new_with_length_7f9321ff5802a733=function(e){return new Uint8Array(e>>>0)},t.wbg.__wbg_node_87ef4705476fb343=function(e){return e.node},t.wbg.__wbg_process_076f12943f758ab2=function(e){return e.process},t.wbg.__wbg_randomFillSync_f7951b455cdc00e2=function(){return be(function(e,n,r){e.randomFillSync(bi(n,r))},arguments)},t.wbg.__wbg_require_f465b26dd408e4e2=function(){return be(function(){return module.require},arguments)},t.wbg.__wbg_self_2efb7671af9d2628=function(){return be(function(){return self.self},arguments)},t.wbg.__wbg_set_3b37eef9a13e43eb=function(e,n,r){e.set(n,r>>>0)},t.wbg.__wbg_subarray_757963017a3faafe=function(e,n,r){return e.subarray(n>>>0,r>>>0)},t.wbg.__wbg_versions_f44347dfacce697f=function(e){return e.versions},t.wbg.__wbg_window_9ac3bc28e30c1352=function(){return be(function(){return window.window},arguments)},t.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,n){return ft(e,n)},t.wbg.__wbindgen_init_externref_table=function(){const e=T.__wbindgen_externrefs,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t}function Ti(t,e){return T=t.exports,rr.__wbindgen_wasm_module=e,qe=null,Ye=null,T.__wbindgen_start(),T}async function rr(t){if(T!==void 0)return T;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL(""+new URL("wasm_bg.24c1de93.wasm",import.meta.url).href,self.location));const e=Ci();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await Mi(await t,e);return Ti(n,r)}const Ei="#F50400",Oi="#2892D7",lr="todo",ir=3e3;await rr();const $e=Ae(new st(4,4)),Fe=Ae({affectedBoxes:[],affectedLines:[],currentPlayer:z.USER}),ve=Ae({get difficulty(){return Re(je,ge($e).difficulty)},set difficulty(t){ge($e).difficulty=ae(je,t)},colours:{user:Oi,computer:Ei}}),xi=ge(ve);xi.difficulty=je.MEDIUM;function Si(t){let e,n,r,l;return{c(){e=oe("svg"),n=oe("g"),r=oe("path"),u(r,"d","M 0 0 C 0 0 0 0 0 0 M 0 0 C 0 0 0 0 0 0 M 1.5 12.2 C 3.8 8.7 4.1 6.4 11.3 -0.7 M -0.3 11.9 C 2.1 9.3 5 5.9 10.9 0.6 M -1.1 24.5 C 8 14.1 17 4 22.7 -0.5 M 1 23.3 C 5.9 18.3 11.5 11.5 21.7 -0.3 M -2 36.8 C 7 27.3 15.8 18.8 33.2 1.2 M 0.6 37 C 7.7 27.3 17.1 16.2 32.2 -0.9 M -0.7 50.3 C 14.5 32.5 29 15.1 42.5 -1.6 M -1.1 49.3 C 11.3 35.8 23 21.1 42.1 -0.5 M 1.3 59.7 C 20.2 38.2 40.6 15 54.4 -0.3 M 1 61.7 C 12.9 47.6 24.9 31.4 52.3 0.2 M -0.5 73.2 C 13.8 57.1 24.4 43.9 62.6 1 M -0.3 73.9 C 15.8 52.9 33.6 32.7 64.5 0 M 0 85.6 C 23.9 58.1 46.7 33.4 75.3 0.5 M 0.6 85.4 C 23.2 59.3 44.7 34.6 73.6 -0.1 M -0.9 98.2 C 24.5 70.1 46.4 44.6 84.9 -0.5 M -0.6 98.8 C 27.1 67.7 53.5 35.6 85.3 -0.6 M -0.2 108.7 C 28.9 77.3 54.4 44.2 96.7 0.7 M 0 109.4 C 26.6 80.4 52.2 50.6 95.9 -0.7 M 0.8 122.2 C 29.5 87.6 60.4 51.7 106.9 -2.2 M -0.6 122.1 C 31.5 84.9 63.3 50.1 106.3 0.6 M 6.1 126.3 C 41 87.3 75.5 48.6 117.7 -1.4 M 6.9 126.6 C 50.3 79.5 93.2 30.3 115.7 0.9 M 16.6 125.9 C 52 87.5 89.6 42.7 125.1 0.9 M 17.5 127.4 C 43.2 97.1 69.2 67.5 125.2 3.4 M 27.3 127.5 C 55.8 95.2 84.6 63.9 123.5 15.4 M 26.7 126.3 C 62.1 87 98.8 47.8 124.2 14.3 M 39.8 128.8 C 67.9 94.1 98 58.3 126.8 28.4 M 38.9 127.6 C 59 104.8 77.8 80 125.7 25.9 M 47.9 128.8 C 64.7 104.8 86.7 86 123.7 41.4 M 48.5 126.1 C 69.8 104 90.7 79.1 124.1 39.8 M 57.5 126.8 C 84.9 100 106.8 71 126.4 51.1 M 59.9 127.5 C 76.3 109.3 90.8 90.2 125.6 51 M 69.1 126.8 C 79.6 113.5 91.1 101.2 123.9 65.1 M 69 127.6 C 87.7 106.4 105.9 87.5 124.5 62.6 M 82 125.1 C 96 109.5 109.2 96.9 125.7 74.9 M 80.1 126.1 C 95.3 109.6 109.4 92.6 125.5 75.8 M 92 126.1 C 100.7 116.5 111 102.8 126 88.2 M 90.4 127.8 C 99.5 116.7 108.8 105.6 125.4 88.6 M 100.4 126 C 105.3 120.6 113.5 116.4 125.3 102 M 101.2 126.7 C 107.3 119.7 113.7 114.2 123.8 100 M 111.4 125 C 117.3 119.3 121.7 114.8 124.7 110.9 M 113 127.1 C 116.2 121.3 120.8 116.5 124.2 112.8"),u(r,"stroke-width","1"),u(r,"stroke",t[0]),u(r,"fill","none"),u(n,"stroke-linecap","round"),u(n,"transform","matrix(1,0,0,1,10,10)"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"version","1.1"),u(e,"viewBox","7.28 7.34 130.04 131.98"),u(e,"class","absolute h-full w-full")},m(i,s){x(i,e,s),_(e,n),_(n,r)},p(i,[s]){s&1&&u(r,"stroke",i[0])},i(i){l||ke(()=>{l=xt(e,bt,{duration:400}),l.start()})},o:A,d(i){i&&E(e)}}}function Ri(t,e,n){let r;Q(t,ve,s=>n(2,r=s));let{claimedBy:l}=e,i="";return t.$$set=s=>{"claimedBy"in s&&n(1,l=s.claimedBy)},t.$$.update=()=>{if(t.$$.dirty&6){const s={[le.USER]:r.colours.user,[le.COMPUTER]:r.colours.computer};n(0,i=s[l])}},[i,l,r]}class ji extends te{constructor(e){super(),ee(this,e,Ri,Si,Y,{claimedBy:1})}}function rn(t){let e,n,r,l=t[2][t[1]]+"",i,s;return e=new ji({props:{claimedBy:t[1]}}),{c(){V(e.$$.fragment),n=S(),r=m("span"),i=J(l),u(r,"class","z-10 m-auto text-xl")},m(o,c){W(e,o,c),x(o,n,c),x(o,r,c),_(r,i),s=!0},p(o,c){const a={};c&2&&(a.claimedBy=o[1]),e.$set(a),(!s||c&2)&&l!==(l=o[2][o[1]]+"")&&se(i,l)},i(o){s||(y(e.$$.fragment,o),s=!0)},o(o){k(e.$$.fragment,o),s=!1},d(o){q(e,o),o&&E(n),o&&E(r)}}}function ln(t){let e,n,r=`${t[0]}em`,l=`${t[0]}em`,i,s=t[1]!==le.EMPTY&&rn(t);return{c(){e=m("div"),n=m("div"),s&&s.c(),u(n,"class","box relative flex"),I(n,"width",r),I(n,"height",l),u(e,"class","relative")},m(o,c){x(o,e,c),_(e,n),s&&s.m(n,null),i=!0},p(o,c){o[1]!==le.EMPTY?s?(s.p(o,c),c&2&&y(s,1)):(s=rn(o),s.c(),y(s,1),s.m(n,null)):s&&(G(),k(s,1,1,()=>{s=null}),H()),c&1&&r!==(r=`${o[0]}em`)&&I(n,"width",r),c&1&&l!==(l=`${o[0]}em`)&&I(n,"height",l)},i(o){i||(y(s),i=!0)},o(o){k(s),i=!1},d(o){o&&E(e),s&&s.d()}}}function Ai(t){let e=t[1],n,r,l=ln(t);return{c(){l.c(),n=me()},m(i,s){l.m(i,s),x(i,n,s),r=!0},p(i,[s]){s&2&&Y(e,e=i[1])?(G(),k(l,1,1,A),H(),l=ln(i),l.c(),y(l,1),l.m(n.parentNode,n)):l.p(i,s)},i(i){r||(y(l),r=!0)},o(i){k(l),r=!1},d(i){i&&E(n),l.d(i)}}}function Ui(t,e,n){let r,l;Q(t,$e,f=>n(5,r=f)),Q(t,Fe,f=>n(6,l=f));let{average:i}=e,{x:s}=e,{y:o}=e,c=le.EMPTY;const a={[le.USER]:"You",[le.COMPUTER]:"Me"};return t.$$set=f=>{"average"in f&&n(0,i=f.average),"x"in f&&n(3,s=f.x),"y"in f&&n(4,o=f.y)},t.$$.update=()=>{t.$$.dirty&120&&l.affectedBoxes.some(([f,d])=>s===d&&o===f)&&n(1,c=wt(r.get_box(s,o)))},[i,c,a,s,o,r,l]}class Li extends te{constructor(e){super(),ee(this,e,Ui,Ai,Y,{average:0,x:3,y:4})}}var Bi=Math.floor,Pi=Math.random;function Ii(t,e){return t+Bi(Pi()*(e-t+1))}var Ni=Ii,zi=Ni,Fi=Xn,on=Kn,Di=parseFloat,Gi=Math.min,Hi=Math.random;function Wi(t,e,n){if(n&&typeof n!="boolean"&&Fi(t,e,n)&&(e=n=void 0),n===void 0&&(typeof e=="boolean"?(n=e,e=void 0):typeof t=="boolean"&&(n=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=on(t),e===void 0?(e=t,t=0):e=on(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var l=Hi();return Gi(t+l*(e-t+Di("1e-"+((l+"").length-1))),e)}return zi(t,e)}var qi=Wi;const Yi=""+new URL("dot.94a44de9.svg",import.meta.url).href;function Vi(t){let e,n,r,l,i=`rotate(${qi(360)}deg)`,s=`${t[0]}em`,o=`${t[0]}em`;return{c(){e=m("div"),n=m("div"),r=m("img"),u(r,"class","absolute top-[-1em] left-[-1em] z-[45] h-[2em] w-[2em] select-none"),ze(r.src,l=Yi)||u(r,"src",l),u(r,"alt",""),I(r,"transform",i),u(n,"class","flex"),I(n,"width",s),I(n,"height",o),u(e,"class","relative")},m(c,a){x(c,e,a),_(e,n),_(n,r)},p(c,[a]){a&1&&s!==(s=`${c[0]}em`)&&I(n,"width",s),a&1&&o!==(o=`${c[0]}em`)&&I(n,"height",o)},i:A,o:A,d(c){c&&E(e)}}}function Zi(t,e,n){let{average:r}=e,[l,i]=[0,0],{x:s=l,y:o=i}=e;return t.$$set=c=>{"average"in c&&n(0,r=c.average),"x"in c&&n(1,s=c.x),"y"in c&&n(2,o=c.y)},[r,s,o]}class Xi extends te{constructor(e){super(),ee(this,e,Zi,Vi,Y,{average:0,x:1,y:2})}}function Ki(t){let e,n,r,l,i;return{c(){e=oe("svg"),n=oe("g"),r=oe("g"),l=oe("path"),u(l,"d","M1.59 0.9 C27.11 -0.51, 51.83 0.13, 94.29 -0.48 M0.22 0.06 C27.95 1.45, 58.25 0.65, 95.06 0.31"),u(l,"stroke",t[0]),u(l,"stroke-width","2"),u(l,"fill","none"),u(r,"transform","translate(9.775308895856142 10.47896108776331) rotate(0 47.64395874267936 0.21186067909002304)"),u(n,"stroke-linecap","round"),u(e,"class","h-full w-full"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"version","1.1"),u(e,"viewBox","9 9 96.84 3.38")},m(s,o){x(s,e,o),_(e,n),_(n,r),_(r,l)},p(s,[o]){o&1&&u(l,"stroke",s[0])},i(s){s&&(i||ke(()=>{i=xt(l,Jn,{delay:0,duration:500}),i.start()}))},o:A,d(s){s&&E(e)}}}function Ji(t,e,n){let{stroke:r}=e;return t.$$set=l=>{"stroke"in l&&n(0,r=l.stroke)},[r]}class Qi extends te{constructor(e){super(),ee(this,e,Ji,Ki,Y,{stroke:0})}}const eo=""+new URL("horizontal.13765606.svg",import.meta.url).href,to=""+new URL("vertical.0b423cab.svg",import.meta.url).href;function no(t){let e,n,r,l;return{c(){e=m("div"),n=m("img"),ze(n.src,r=t[1]?eo:to)||u(n,"src",r),u(n,"alt",""),u(n,"class","h-full w-full"),u(e,"class",l="hover-line "+(t[1]?"-mt-4 h-8 w-full":"-ml-4 h-full w-8")+" z-40 opacity-0 selection:z-40 "+(Re(z,t[0].current_player)!==z.COMPUTER&&"cursor-pointer hover:opacity-100")+" svelte-bznvrl")},m(i,s){x(i,e,s),_(e,n)},p(i,[s]){s&1&&l!==(l="hover-line "+(i[1]?"-mt-4 h-8 w-full":"-ml-4 h-full w-8")+" z-40 opacity-0 selection:z-40 "+(Re(z,i[0].current_player)!==z.COMPUTER&&"cursor-pointer hover:opacity-100")+" svelte-bznvrl")&&u(e,"class",l)},i:A,o:A,d(i){i&&E(e)}}}function ro(t,e,n){let r;Q(t,$e,s=>n(0,r=s));let{lineType:l}=e;const i=l===de.HORIZONTAL;return t.$$set=s=>{"lineType"in s&&n(2,l=s.lineType)},t.$$.update=()=>{t.$$.dirty&1&&(Re(z,r.current_player),z.COMPUTER)},[r,i,l]}class lo extends te{constructor(e){super(),ee(this,e,ro,no,Y,{lineType:2})}}function io(t){let e,n,r,l,i,s;return{c(){e=oe("svg"),n=oe("g"),r=oe("g"),l=oe("path"),s=oe("mask"),u(l,"d","M0.02 -1.01 C-0.52 28.78, -0.68 53.42, -0.47 69.07 M0.02 0.77 C0.32 26.53, 0.81 52.93, -0.63 68.54"),u(l,"stroke",t[0]),u(l,"stroke-width","2"),u(l,"fill","none"),u(r,"transform","translate(10.634629119187593 11.012141920626163) rotate(0 -0.14224320622906816 34.02681378884024)"),u(n,"stroke-linecap","round"),u(e,"class","h-full w-full"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"version","1.1"),u(e,"viewBox","9 9 2.98 72.08")},m(o,c){x(o,e,c),_(e,n),_(n,r),_(r,l),_(e,s)},p(o,[c]){c&1&&u(l,"stroke",o[0])},i(o){i||ke(()=>{i=xt(l,Jn,{delay:0,duration:500}),i.start()})},o:A,d(o){o&&E(e)}}}function oo(t,e,n){let{stroke:r}=e;return t.$$set=l=>{"stroke"in l&&n(0,r=l.stroke)},[r]}class so extends te{constructor(e){super(),ee(this,e,oo,io,Y,{stroke:0})}}function co(t){let e,n,r;return n=new so({props:{stroke:t[4]}}),{c(){e=m("div"),V(n.$$.fragment),u(e,"class","z-40 -ml-4 h-full w-8")},m(l,i){x(l,e,i),W(n,e,null),r=!0},p(l,i){const s={};i&16&&(s.stroke=l[4]),n.$set(s)},i(l){r||(y(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&E(e),q(n)}}}function ao(t){let e,n,r;return n=new Qi({props:{stroke:t[4]}}),{c(){e=m("div"),V(n.$$.fragment),u(e,"class","z-40 -mt-2 h-4 w-full")},m(l,i){x(l,e,i),W(n,e,null),r=!0},p(l,i){const s={};i&16&&(s.stroke=l[4]),n.$set(s)},i(l){r||(y(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&E(e),q(n)}}}function uo(t){let e,n;return e=new lo({props:{lineType:t[1]}}),{c(){V(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,l){const i={};l&2&&(i.lineType=r[1]),e.$set(i)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function sn(t){let e,n,r,l=`${t[0]}em`,i=`${t[0]}em`,s,o,c;const a=[uo,ao,co],f=[];function d(g,b){return g[2]===le.EMPTY?0:g[1]===de.HORIZONTAL?1:g[1]===de.VERTICAL?2:-1}return~(n=d(t))&&(r=f[n]=a[n](t)),{c(){e=m("div"),r&&r.c(),u(e,"class","line flex bg-transparent"),u(e,"title","line"),I(e,"width",l),I(e,"height",i)},m(g,b){x(g,e,b),~n&&f[n].m(e,null),s=!0,o||(c=[ce(e,"click",t[5]),ce(e,"keypress",t[5])],o=!0)},p(g,b){let w=n;n=d(g),n===w?~n&&f[n].p(g,b):(r&&(G(),k(f[w],1,1,()=>{f[w]=null}),H()),~n?(r=f[n],r?r.p(g,b):(r=f[n]=a[n](g),r.c()),y(r,1),r.m(e,null)):r=null),b&1&&l!==(l=`${g[0]}em`)&&I(e,"width",l),b&1&&i!==(i=`${g[0]}em`)&&I(e,"height",i)},i(g){s||(y(r),s=!0)},o(g){k(r),s=!1},d(g){g&&E(e),~n&&f[n].d(),o=!1,Me(c)}}}function fo(t){let e=t[3],n,r,l=sn(t);return{c(){l.c(),n=me()},m(i,s){l.m(i,s),x(i,n,s),r=!0},p(i,[s]){s&8&&Y(e,e=i[3])?(G(),k(l,1,1,A),H(),l=sn(i),l.c(),y(l,1),l.m(n.parentNode,n)):l.p(i,s)},i(i){r||(y(l),r=!0)},o(i){k(l),r=!1},d(i){i&&E(n),l.d(i)}}}function _o(t,e,n){let r,l,i;Q(t,ve,$=>n(7,r=$)),Q(t,Fe,$=>n(8,l=$)),Q(t,$e,$=>n(9,i=$));let{average:s}=e,{lineType:o}=e,{index:c}=e;const a=Fn();let f,d=!1;const g=()=>n(2,f=wt(i.get_edge(c,ae(de,o)))),b=$=>{const O=Ee($,2).filter(([B,j])=>wt(i.get_box(j,B))!==le.EMPTY);pe(Fe,l.affectedBoxes=O,l),pe(Fe,l.currentPlayer=Re(z,i.current_player),l),g()},w=async()=>{if(i.current_player!==ae(z,z.COMPUTER)&&f===le.EMPTY){if(b(i.handle_edge_interact(c,ae(de,o))),i.board_full())return a("gameend");for(;i.current_player===ae(z,z.COMPUTER);){await new Promise(j=>setTimeout(j,500));const{0:$,1:U,affected_boxes:O}=i.computer_turn(),B=Re(de,U);if(b(O),pe(Fe,l.affectedLines=[[B===de.HORIZONTAL?$:$-i.width*(i.height+1),Re(de,B)]],l),i.board_full())return a("gameend")}}};let v="";return t.$$set=$=>{"average"in $&&n(0,s=$.average),"lineType"in $&&n(1,o=$.lineType),"index"in $&&n(6,c=$.index)},t.$$.update=()=>{if(t.$$.dirty&322&&(n(3,d=l.affectedLines.some($=>c===$[0]&&o===$[1])),g()),t.$$.dirty&132){const $={[le.USER]:r.colours.user,[le.COMPUTER]:r.colours.computer};n(4,v=$[f])}},[s,o,f,d,v,w,c,r,l]}class or extends te{constructor(e){super(),ee(this,e,_o,fo,Y,{average:0,lineType:1,index:6})}}function go(t){let e,n,r=t[1].count_boxes(ae(z,z.USER))+"",l,i,s,o,c,a=t[1].count_boxes(ae(z,z.COMPUTER))+"",f;return{c(){e=m("div"),n=m("span"),l=J(r),i=S(),s=m("span"),s.textContent="-",o=S(),c=m("span"),f=J(a),u(n,"class","text-lg font-bold md:text-2xl"),I(n,"color",t[0].colours.user),u(s,"class","mx-3"),u(c,"class","text-lg font-bold md:text-2xl"),I(c,"color",t[0].colours.computer),u(e,"class","flex")},m(d,g){x(d,e,g),_(e,n),_(n,l),_(e,i),_(e,s),_(e,o),_(e,c),_(c,f)},p(d,[g]){g&2&&r!==(r=d[1].count_boxes(ae(z,z.USER))+"")&&se(l,r),g&1&&I(n,"color",d[0].colours.user),g&2&&a!==(a=d[1].count_boxes(ae(z,z.COMPUTER))+"")&&se(f,a),g&1&&I(c,"color",d[0].colours.computer)},i:A,o:A,d(d){d&&E(e)}}}function ho(t,e,n){let r,l;return Q(t,ve,i=>n(0,r=i)),Q(t,$e,i=>n(1,l=i)),[r,l]}class mo extends te{constructor(e){super(),ee(this,e,ho,go,Y,{})}}function*_e(t,e,n=1){for(let r=t;r<e;r+=n)yield r}function bo(t){return[{check:t.length>=1,string:"Username too short"},{check:t.length<=20,string:"Username too long"},{check:/^[a-zA-Z0-9_]+$/.test(t),string:"Username uses invalid characters"}].filter(n=>!n.check)}function cn(t,e,n){const r=t.slice();return r[8]=e[n],r}function an(t,e,n){const r=t.slice();return r[11]=e[n],r}function un(t,e,n){const r=t.slice();return r[8]=e[n],r}function fn(t,e,n){const r=t.slice();return r[16]=e[n],r}function _n(t,e,n){const r=t.slice();return r[8]=e[n],r}function dn(t,e,n){const r=t.slice();return r[16]=e[n],r}function gn(t,e,n){const r=t.slice();return r[23]=e[n],r}function hn(t,e,n){const r=t.slice();return r[26]=e[n],r}function mn(t){let e,n,r;return n=new mo({}),{c(){e=m("div"),V(n.$$.fragment),u(e,"class","score mx-auto mb-5 md:mb-6")},m(l,i){x(l,e,i),W(n,e,null),r=!0},p:A,i(l){r||(y(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&E(e),q(n)}}}function bn(t){let e,n;return e=new Li({props:{x:t[26],y:t[23],average:t[3]}}),{c(){V(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,l){const i={};l&1&&(i.x=r[26]),l&2&&(i.y=r[23]),l&8&&(i.average=r[3]),e.$set(i)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function pn(t){let e,n,r,l=[..._e(0,t[0])],i=[];for(let o=0;o<l.length;o+=1)i[o]=bn(hn(t,l,o));const s=o=>k(i[o],1,1,()=>{i[o]=null});return{c(){e=m("div");for(let o=0;o<i.length;o+=1)i[o].c();n=S(),u(e,"class","flex")},m(o,c){x(o,e,c);for(let a=0;a<i.length;a+=1)i[a].m(e,null);_(e,n),r=!0},p(o,c){if(c&11){l=[..._e(0,o[0])];let a;for(a=0;a<l.length;a+=1){const f=hn(o,l,a);i[a]?(i[a].p(f,c),y(i[a],1)):(i[a]=bn(f),i[a].c(),y(i[a],1),i[a].m(e,n))}for(G(),a=l.length;a<i.length;a+=1)s(a);H()}},i(o){if(!r){for(let c=0;c<l.length;c+=1)y(i[c]);r=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)k(i[c]);r=!1},d(o){o&&E(e),he(i,o)}}}function wn(t){let e,n;return e=new or({props:{index:t[16],average:t[3],lineType:de.HORIZONTAL}}),e.$on("gameend",t[7]),{c(){V(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,l){const i={};l&20&&(i.index=r[16]),l&8&&(i.average=r[3]),e.$set(i)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function yn(t){let e,n,r,l=t[8],i=[];for(let o=0;o<l.length;o+=1)i[o]=wn(dn(t,l,o));const s=o=>k(i[o],1,1,()=>{i[o]=null});return{c(){e=m("div");for(let o=0;o<i.length;o+=1)i[o].c();n=S(),u(e,"class","flex")},m(o,c){x(o,e,c);for(let a=0;a<i.length;a+=1)i[a].m(e,null);_(e,n),r=!0},p(o,c){if(c&156){l=o[8];let a;for(a=0;a<l.length;a+=1){const f=dn(o,l,a);i[a]?(i[a].p(f,c),y(i[a],1)):(i[a]=wn(f),i[a].c(),y(i[a],1),i[a].m(e,n))}for(G(),a=l.length;a<i.length;a+=1)s(a);H()}},i(o){if(!r){for(let c=0;c<l.length;c+=1)y(i[c]);r=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)k(i[c]);r=!1},d(o){o&&E(e),he(i,o)}}}function vn(t){let e,n;return e=new or({props:{index:t[16],average:t[3],lineType:de.VERTICAL}}),e.$on("gameend",t[7]),{c(){V(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,l){const i={};l&36&&(i.index=r[16]),l&8&&(i.average=r[3]),e.$set(i)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function kn(t){let e,n,r,l=t[8],i=[];for(let o=0;o<l.length;o+=1)i[o]=vn(fn(t,l,o));const s=o=>k(i[o],1,1,()=>{i[o]=null});return{c(){e=m("div");for(let o=0;o<i.length;o+=1)i[o].c();n=S(),u(e,"class","flex")},m(o,c){x(o,e,c);for(let a=0;a<i.length;a+=1)i[a].m(e,null);_(e,n),r=!0},p(o,c){if(c&172){l=o[8];let a;for(a=0;a<l.length;a+=1){const f=fn(o,l,a);i[a]?(i[a].p(f,c),y(i[a],1)):(i[a]=vn(f),i[a].c(),y(i[a],1),i[a].m(e,n))}for(G(),a=l.length;a<i.length;a+=1)s(a);H()}},i(o){if(!r){for(let c=0;c<l.length;c+=1)y(i[c]);r=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)k(i[c]);r=!1},d(o){o&&E(e),he(i,o)}}}function $n(t){let e,n;return e=new Xi({props:{average:t[3]}}),{c(){V(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},p(r,l){const i={};l&8&&(i.average=r[3]),e.$set(i)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function Mn(t){let e,n,r,l=t[8],i=[];for(let o=0;o<l.length;o+=1)i[o]=$n(an(t,l,o));const s=o=>k(i[o],1,1,()=>{i[o]=null});return{c(){e=m("div");for(let o=0;o<i.length;o+=1)i[o].c();n=S(),u(e,"class","flex")},m(o,c){x(o,e,c);for(let a=0;a<i.length;a+=1)i[a].m(e,null);_(e,n),r=!0},p(o,c){if(c&15){l=o[8];let a;for(a=0;a<l.length;a+=1){const f=an(o,l,a);i[a]?(i[a].p(f,c),y(i[a],1)):(i[a]=$n(f),i[a].c(),y(i[a],1),i[a].m(e,n))}for(G(),a=l.length;a<i.length;a+=1)s(a);H()}},i(o){if(!r){for(let c=0;c<l.length;c+=1)y(i[c]);r=!0}},o(o){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)k(i[c]);r=!1},d(o){o&&E(e),he(i,o)}}}function po(t){let e,n=t[6].affectedBoxes,r,l,i,s,o,c,a,f,d,g,b=mn(),w=[..._e(0,t[1])],v=[];for(let p=0;p<w.length;p+=1)v[p]=pn(gn(t,w,p));const $=p=>k(v[p],1,1,()=>{v[p]=null});let U=Ee([..._e(0,t[4])],t[2].width),O=[];for(let p=0;p<U.length;p+=1)O[p]=yn(_n(t,U,p));const B=p=>k(O[p],1,1,()=>{O[p]=null});let j=Ee([..._e(0,t[5])],t[2].height+1),C=[];for(let p=0;p<j.length;p+=1)C[p]=kn(un(t,j,p));const L=p=>k(C[p],1,1,()=>{C[p]=null});let P=Ee([..._e(0,(t[0]+1)*(t[1]+1))],t[2].width+1),R=[];for(let p=0;p<P.length;p+=1)R[p]=Mn(cn(t,P,p));const Z=p=>k(R[p],1,1,()=>{R[p]=null});return{c(){e=m("main"),b.c(),r=S(),l=m("div"),i=m("div");for(let p=0;p<v.length;p+=1)v[p].c();s=S(),o=m("div");for(let p=0;p<O.length;p+=1)O[p].c();c=S(),a=m("div");for(let p=0;p<C.length;p+=1)C[p].c();f=S(),d=m("div");for(let p=0;p<R.length;p+=1)R[p].c();u(i,"class","m-auto"),u(o,"class","horizontal-edges absolute"),u(a,"class","vertical-edges absolute"),u(d,"class","dots absolute"),u(l,"class","relative m-auto flex h-full flex-col"),u(e,"class","relative flex h-full w-full select-none flex-col bg-transparent")},m(p,M){x(p,e,M),b.m(e,null),_(e,r),_(e,l),_(l,i);for(let h=0;h<v.length;h+=1)v[h].m(i,null);_(l,s),_(l,o);for(let h=0;h<O.length;h+=1)O[h].m(o,null);_(l,c),_(l,a);for(let h=0;h<C.length;h+=1)C[h].m(a,null);_(l,f),_(l,d);for(let h=0;h<R.length;h+=1)R[h].m(d,null);g=!0},p(p,[M]){if(M&64&&Y(n,n=p[6].affectedBoxes)?(G(),k(b,1,1,A),H(),b=mn(),b.c(),y(b,1),b.m(e,r)):b.p(p,M),M&11){w=[..._e(0,p[1])];let h;for(h=0;h<w.length;h+=1){const X=gn(p,w,h);v[h]?(v[h].p(X,M),y(v[h],1)):(v[h]=pn(X),v[h].c(),y(v[h],1),v[h].m(i,null))}for(G(),h=w.length;h<v.length;h+=1)$(h);H()}if(M&156){U=Ee([..._e(0,p[4])],p[2].width);let h;for(h=0;h<U.length;h+=1){const X=_n(p,U,h);O[h]?(O[h].p(X,M),y(O[h],1)):(O[h]=yn(X),O[h].c(),y(O[h],1),O[h].m(o,null))}for(G(),h=U.length;h<O.length;h+=1)B(h);H()}if(M&172){j=Ee([..._e(0,p[5])],p[2].height+1);let h;for(h=0;h<j.length;h+=1){const X=un(p,j,h);C[h]?(C[h].p(X,M),y(C[h],1)):(C[h]=kn(X),C[h].c(),y(C[h],1),C[h].m(a,null))}for(G(),h=j.length;h<C.length;h+=1)L(h);H()}if(M&15){P=Ee([..._e(0,(p[0]+1)*(p[1]+1))],p[2].width+1);let h;for(h=0;h<P.length;h+=1){const X=cn(p,P,h);R[h]?(R[h].p(X,M),y(R[h],1)):(R[h]=Mn(X),R[h].c(),y(R[h],1),R[h].m(d,null))}for(G(),h=P.length;h<R.length;h+=1)Z(h);H()}},i(p){if(!g){y(b);for(let M=0;M<w.length;M+=1)y(v[M]);for(let M=0;M<U.length;M+=1)y(O[M]);for(let M=0;M<j.length;M+=1)y(C[M]);for(let M=0;M<P.length;M+=1)y(R[M]);g=!0}},o(p){k(b),v=v.filter(Boolean);for(let M=0;M<v.length;M+=1)k(v[M]);O=O.filter(Boolean);for(let M=0;M<O.length;M+=1)k(O[M]);C=C.filter(Boolean);for(let M=0;M<C.length;M+=1)k(C[M]);R=R.filter(Boolean);for(let M=0;M<R.length;M+=1)k(R[M]);g=!1},d(p){p&&E(e),b.d(p),he(v,p),he(O,p),he(C,p),he(R,p)}}}function wo(t,e,n){let r,l;Q(t,$e,d=>n(2,r=d)),Q(t,Fe,d=>n(6,l=d));let i,s,o,c,a;const f=async()=>{await new Promise(w=>setTimeout(w,300));const d=prompt("Please enter your name:"),g=bo(d);if(d===null)return;if(g.length>0)return alert(`${g.map(w=>w.string).join(`.
`)}.

Please try again!`),f();const b={username:d,result:{user:await r.count_boxes(ae(z,z.USER)),computer:await r.count_boxes(ae(z,z.COMPUTER))},board:{width:r.width,height:r.height}};await fetch(`${lr}:${ir}/matches`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})};return t.$$.update=()=>{t.$$.dirty&7&&(n(0,i=r.width),n(1,s=r.height),n(3,o=11/Math.sqrt((i+s)/2)),n(4,c=(s+1)*i),n(5,a=(i+1)*s))},[i,s,r,o,c,a,l,f]}class yo extends te{constructor(e){super(),ee(this,e,wo,po,Y,{})}}function Cn(t,e,n){const r=t.slice();return r[6]=e[n].username,r[7]=e[n].result,r[8]=e[n].board,r[9]=e[n].game_time,r[11]=n,r}function Tn(t){let e;return{c(){e=m("span"),u(e,"class","mx-auto min-h-[1.5px] w-full flex-grow-0 rounded-lg bg-black")},m(n,r){x(n,e,r)},d(n){n&&E(e)}}}function En(t){let e,n,r,l,i=t[6]+"",s,o,c,a,f,d=t[7].user+"",g,b,w,v,$,U=t[7].computer+"",O,B,j,C=t[8].width+"",L,P,R=t[8].height+"",Z,p,M,h=t[4](t[9])+"",X,ie,Ce,K=t[11]!==t[0].length-1&&Tn();return{c(){e=m("div"),n=m("span"),r=m("span"),r.textContent="\u{1F3C6}",l=S(),s=J(i),o=S(),c=J(`\u2502
				`),a=m("div"),f=m("span"),g=J(d),b=S(),w=m("span"),w.textContent="-",v=S(),$=m("span"),O=J(U),B=J(`
				\u2502
				`),j=m("span"),L=J(C),P=J(" \xD7 "),Z=J(R),p=J(`
				\u2502
				`),M=m("span"),X=J(h),ie=S(),K&&K.c(),Ce=me(),I(r,"opacity",t[7].user>t[7].computer?"1":"0"),I(f,"color",t[3].colours.user),I($,"color",t[3].colours.computer),u(a,"class","inline-flex justify-center gap-1"),u(e,"class","m-auto flex h-fit w-full justify-center gap-5 align-middle")},m(N,D){x(N,e,D),_(e,n),_(n,r),_(n,l),_(n,s),_(n,o),_(e,c),_(e,a),_(a,f),_(f,g),_(a,b),_(a,w),_(a,v),_(a,$),_($,O),_(e,B),_(e,j),_(j,L),_(j,P),_(j,Z),_(e,p),_(e,M),_(M,X),x(N,ie,D),K&&K.m(N,D),x(N,Ce,D)},p(N,D){D&4&&I(r,"opacity",N[7].user>N[7].computer?"1":"0"),D&4&&i!==(i=N[6]+"")&&se(s,i),D&4&&d!==(d=N[7].user+"")&&se(g,d),D&8&&I(f,"color",N[3].colours.user),D&4&&U!==(U=N[7].computer+"")&&se(O,U),D&8&&I($,"color",N[3].colours.computer),D&4&&C!==(C=N[8].width+"")&&se(L,C),D&4&&R!==(R=N[8].height+"")&&se(Z,R),D&4&&h!==(h=N[4](N[9])+"")&&se(X,h),N[11]!==N[0].length-1?K||(K=Tn(),K.c(),K.m(Ce.parentNode,Ce)):K&&(K.d(1),K=null)},d(N){N&&E(e),N&&E(ie),K&&K.d(N),N&&E(Ce)}}}function vo(t){let e,n,r,l,i,s,o=t[2].sort(On),c=[];for(let a=0;a<o.length;a+=1)c[a]=En(Cn(t,o,a));return{c(){e=m("div"),n=m("input"),r=S(),l=m("div");for(let a=0;a<c.length;a+=1)c[a].c();u(n,"class","mb-5 w-full rounded-md border-2 border-black p-3"),u(n,"type","text"),u(n,"placeholder","Search for a specific player"),u(l,"class","flex max-h-[300px] w-full flex-col gap-3 overflow-y-scroll rounded-md border-2 border-black p-10")},m(a,f){x(a,e,f),_(e,n),fe(n,t[1]),_(e,r),_(e,l);for(let d=0;d<c.length;d+=1)c[d].m(l,null);i||(s=ce(n,"input",t[5]),i=!0)},p(a,[f]){if(f&2&&n.value!==a[1]&&fe(n,a[1]),f&29){o=a[2].sort(On);let d;for(d=0;d<o.length;d+=1){const g=Cn(a,o,d);c[d]?c[d].p(g,f):(c[d]=En(g),c[d].c(),c[d].m(l,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=o.length}},i:A,o:A,d(a){a&&E(e),he(c,a),i=!1,s()}}}const On=(t,e)=>e.result.user-t.result.user;function ko(t,e,n){let r;Q(t,ve,a=>n(3,r=a));let l=[],i=l,s="";const o=a=>{const f=new Date(a);return`${f.getHours()}:${f.getMinutes()} ${f.getDate()}/${f.getMonth()}/${f.getFullYear()}`};hr(async()=>{const a=await fetch(`${lr}:${ir}/matches`);n(0,l=(await a.json())[0].result)});function c(){s=this.value,n(1,s)}return t.$$.update=()=>{t.$$.dirty&3&&n(2,i=s.length===0?l:l.filter(a=>a.username.toLowerCase().includes(s)))},[l,s,i,r,o,c]}class $o extends te{constructor(e){super(),ee(this,e,ko,vo,Y,{})}}const et=""+new URL("box.ae332b57.svg",import.meta.url).href;function xn(t,e,n){const r=t.slice();return r[11]=e[n][0],r[12]=e[n][1],r[14]=n,r}function Mo(t){let e;return{c(){e=m("span"),e.textContent="\u2502"},m(n,r){x(n,e,r)},d(n){n&&E(e)}}}function Sn(t){let e,n,r,l,i,s=t[12]+"",o,c,a=t[14]!==Object.keys(je).length-1,f,d,g,b=a&&Mo();return{c(){e=m("div"),n=m("input"),l=S(),i=m("label"),o=J(s),c=S(),b&&b.c(),f=me(),u(n,"type","radio"),u(n,"name","difficulty"),n.checked=r=t[2].difficulty===t[12],n.value=t[11],u(n,"id",t[11]),u(n,"class","peer hidden"),u(i,"for",t[11]),u(i,"class","sliding-underline sliding-underline-small cursor-pointer transition-colors peer-checked:after:w-0"),u(e,"class","inline-block")},m(w,v){x(w,e,v),_(e,n),_(e,l),_(e,i),_(i,o),x(w,c,v),b&&b.m(w,v),x(w,f,v),d||(g=ce(n,"click",t[3]),d=!0)},p(w,v){v&4&&r!==(r=w[2].difficulty===w[12])&&(n.checked=r)},d(w){w&&E(e),w&&E(c),b&&b.d(w),w&&E(f),d=!1,g()}}}function Co(t){let e,n,r,l,i,s,o,c,a,f,d,g,b,w,v,$,U,O,B,j,C,L,P,R,Z,p,M,h,X,ie,Ce,K,N,D,Ue,Rt,jt,Te,At,Le,Ke,Ut,Ge,at,Lt,Be=Object.entries(je),re=[];for(let F=0;F<Be.length;F+=1)re[F]=Sn(xn(t,Be,F));return{c(){e=m("div"),n=m("div"),r=m("span"),r.textContent="colours:",l=S(),i=m("div"),s=m("div"),o=m("img"),a=S(),f=m("div"),d=m("input"),g=S(),b=m("span"),b.textContent="\u2502",w=S(),v=m("div"),$=m("img"),O=S(),B=m("div"),j=m("input"),C=S(),L=m("div"),P=m("span"),P.textContent="board\u3164size:",R=S(),Z=m("div"),p=m("div"),M=m("img"),X=S(),ie=m("input"),Ce=S(),K=m("span"),K.textContent="\u2502",N=S(),D=m("div"),Ue=m("img"),jt=S(),Te=m("input"),At=S(),Le=m("div"),Ke=m("span"),Ke.textContent="difficulty:",Ut=S(),Ge=m("div");for(let F=0;F<re.length;F+=1)re[F].c();u(r,"class","my-auto flex-shrink"),u(o,"class","absolute h-full w-full"),ze(o.src,c=et)||u(o,"src",c),u(o,"alt",""),u(d,"class","h-full w-full rounded-md border-none bg-transparent opacity-0"),u(d,"type","color"),u(f,"class","m-auto h-[91%] w-[91%]"),I(f,"background-color",t[2].colours.user),u(s,"class","relative flex h-20 w-20"),u(b,"class","my-auto"),u($,"class","absolute h-full w-full rotate-90"),ze($.src,U=et)||u($,"src",U),u($,"alt",""),u(j,"class","h-full w-full rounded-md border-none bg-transparent opacity-0"),u(j,"type","color"),u(B,"class","m-auto h-[91%] w-[91%]"),I(B,"background-color",t[2].colours.computer),u(v,"class","relative flex h-20 w-20"),u(i,"class","inline-flex w-full flex-grow justify-center gap-3"),u(n,"class","colours flex"),u(P,"class","my-auto flex-shrink"),u(M,"class","absolute h-full w-full"),ze(M.src,h=et)||u(M,"src",h),u(M,"alt",""),u(ie,"class","relative z-10 m-auto h-full w-full rounded-md border-none bg-transparent text-center outline-none"),u(ie,"type","text"),u(p,"class","relative flex h-20 w-20"),u(K,"class","my-auto"),u(Ue,"class","absolute h-full w-full"),ze(Ue.src,Rt=et)||u(Ue,"src",Rt),u(Ue,"alt",""),u(Te,"class","relative z-10 m-auto h-full w-full rounded-md border-none bg-transparent text-center outline-none"),u(Te,"type","text"),u(D,"class","relative flex h-20 w-20"),u(Z,"class","inline-flex w-full flex-grow justify-center gap-3"),u(L,"class","colours flex"),u(Ke,"class","my-auto flex-shrink"),u(Ge,"class","inline-flex w-full flex-grow justify-center gap-3"),u(Le,"class","difficulty flex"),u(e,"class","flex flex-col justify-between gap-10 text-xl")},m(F,ue){x(F,e,ue),_(e,n),_(n,r),_(n,l),_(n,i),_(i,s),_(s,o),_(s,a),_(s,f),_(f,d),fe(d,t[2].colours.user),_(i,g),_(i,b),_(i,w),_(i,v),_(v,$),_(v,O),_(v,B),_(B,j),fe(j,t[2].colours.computer),_(e,C),_(e,L),_(L,P),_(L,R),_(L,Z),_(Z,p),_(p,M),_(p,X),_(p,ie),fe(ie,t[0]),_(Z,Ce),_(Z,K),_(Z,N),_(Z,D),_(D,Ue),_(D,jt),_(D,Te),fe(Te,t[1]),_(e,At),_(e,Le),_(Le,Ke),_(Le,Ut),_(Le,Ge);for(let ne=0;ne<re.length;ne+=1)re[ne].m(Ge,null);at||(Lt=[ce(d,"input",t[6]),ce(j,"input",t[7]),ce(ie,"input",t[8]),ce(Te,"input",t[9])],at=!0)},p(F,[ue]){if(ue&4&&fe(d,F[2].colours.user),ue&4&&I(f,"background-color",F[2].colours.user),ue&4&&fe(j,F[2].colours.computer),ue&4&&I(B,"background-color",F[2].colours.computer),ue&1&&ie.value!==F[0]&&fe(ie,F[0]),ue&2&&Te.value!==F[1]&&fe(Te,F[1]),ue&12){Be=Object.entries(je);let ne;for(ne=0;ne<Be.length;ne+=1){const Bt=xn(F,Be,ne);re[ne]?re[ne].p(Bt,ue):(re[ne]=Sn(Bt),re[ne].c(),re[ne].m(Ge,null))}for(;ne<re.length;ne+=1)re[ne].d(1);re.length=Be.length}},i:A,o:A,d(F){F&&E(e),he(re,F),at=!1,Me(Lt)}}}function To(t,e,n){let r,l;Q(t,$e,w=>n(10,r=w)),Q(t,ve,w=>n(2,l=w));let i=r.width,s=r.height,o,c;const a=w=>{pe(ve,l.difficulty=je[w.target.value],l)};function f(){l.colours.user=this.value,ve.set(l)}function d(){l.colours.computer=this.value,ve.set(l)}function g(){i=this.value,n(0,i)}function b(){s=this.value,n(1,s)}return t.$$.update=()=>{t.$$.dirty&51&&(n(4,o=i>0?i:1),n(5,c=s>0?s:1),pe($e,r=new st(o,c),r))},[i,s,l,a,o,c,f,d,g,b]}class Eo extends te{constructor(e){super(),ee(this,e,To,Co,Y,{})}}function Rn(t){let e,n,r,l,i,s,o,c,a,f,d,g,b,w,v,$,U;const O=[xo,Oo],B=[];function j(C,L){return C[1]===pt.SETTINGS?0:C[1]===pt.LEADERBOARD?1:-1}return~(a=j(t))&&(f=B[a]=O[a](t)),{c(){e=m("div"),n=m("div"),r=m("button"),r.textContent="\u2717",l=S(),i=m("h2"),s=J(t[1]),o=S(),c=m("div"),f&&f.c(),d=S(),g=m("div"),b=m("button"),b.textContent="OK",u(r,"class","absolute right-4 top-4 flex text-3xl text-gray-400 transition-colors hover:text-gray-800"),u(i,"class","m-auto text-4xl font-bold"),u(c,"class","mt-5 w-full flex-grow"),u(b,"class","sliding-underline sliding-underline-small m-auto"),u(g,"class","mt-5 flex w-full flex-shrink text-2xl"),u(n,"class","pointer-events-auto relative flex min-h-fit min-w-[40%] flex-col rounded-md bg-white p-6"),u(e,"role","dialog"),u(e,"class","pointer-events-none fixed z-50 flex h-full w-full items-center justify-center bg-[#333333BB]")},m(C,L){x(C,e,L),_(e,n),_(n,r),_(n,l),_(n,i),_(i,s),_(n,o),_(n,c),~a&&B[a].m(c,null),_(n,d),_(n,g),_(g,b),v=!0,$||(U=[ce(r,"click",Dt),ce(b,"click",Dt)],$=!0)},p(C,L){(!v||L&2)&&se(s,C[1]);let P=a;a=j(C),a!==P&&(f&&(G(),k(B[P],1,1,()=>{B[P]=null}),H()),~a?(f=B[a],f||(f=B[a]=O[a](C),f.c()),y(f,1),f.m(c,null)):f=null)},i(C){v||(y(f),ke(()=>{w||(w=zt(e,bt,{duration:150},!0)),w.run(1)}),v=!0)},o(C){k(f),w||(w=zt(e,bt,{duration:150},!1)),w.run(0),v=!1},d(C){C&&E(e),~a&&B[a].d(),C&&w&&w.end(),$=!1,Me(U)}}}function Oo(t){let e,n;return e=new $o({}),{c(){V(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function xo(t){let e,n;return e=new Eo({}),{c(){V(e.$$.fragment)},m(r,l){W(e,r,l),n=!0},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function So(t){let e,n,r=t[0]&&Rn(t);return{c(){r&&r.c(),e=me()},m(l,i){r&&r.m(l,i),x(l,e,i),n=!0},p(l,[i]){l[0]?r?(r.p(l,i),i&1&&y(r,1)):(r=Rn(l),r.c(),y(r,1),r.m(e.parentNode,e)):r&&(G(),k(r,1,1,()=>{r=null}),H())},i(l){n||(y(r),n=!0)},o(l){k(r),n=!1},d(l){r&&r.d(l),l&&E(e)}}}function Ro(t,e,n){let{isOpen:r}=e,{event:l}=e;return t.$$set=i=>{"isOpen"in i&&n(0,r=i.isOpen),"event"in i&&n(1,l=i.event)},[r,l]}class jo extends te{constructor(e){super(),ee(this,e,Ro,So,Y,{isOpen:0,event:1})}}function Ao(t){let e,n,r,l;return{c(){e=m("button"),n=J(t[0]),u(e,"class","sliding-underline sliding-underline-medium m-0 border-none bg-none p-0")},m(i,s){x(i,e,s),_(e,n),r||(l=ce(e,"click",t[1]),r=!0)},p(i,[s]){s&1&&se(n,i[0])},i:A,o:A,d(i){i&&E(e),r=!1,l()}}}function Uo(t,e,n){let{label:r}=e;const l=Fn(),i=()=>l("navigationClick",r);return t.$$set=s=>{"label"in s&&n(0,r=s.label)},[r,i]}class Lo extends te{constructor(e){super(),ee(this,e,Uo,Ao,Y,{label:0})}}function Bo(t){let e,n,r,l,i,s,o;return l=new Lo({props:{label:pt.SETTINGS}}),l.$on("navigationClick",t[0]),{c(){e=m("nav"),n=m("div"),r=m("span"),V(l.$$.fragment),i=S(),s=m("div"),s.innerHTML='<a href="https://github.com/DoctorBracewell/dots-and-boxes">source<a></a></a>',u(r,"class","mb-[0.9rem]"),u(s,"class","sliding-underline sliding-underline-medium m-0 border-none bg-none p-0 w-fit"),u(n,"class","flex flex-col text-right text-xl items-end"),u(e,"class","absolute right-[2.95em] top-[2.95em]")},m(c,a){x(c,e,a),_(e,n),_(n,r),W(l,r,null),_(n,i),_(n,s),o=!0},p:A,i(c){o||(y(l.$$.fragment,c),o=!0)},o(c){k(l.$$.fragment,c),o=!1},d(c){c&&E(e),q(l)}}}function Po(t){function e(n){mr.call(this,t,n)}return[e]}class Io extends te{constructor(e){super(),ee(this,e,Po,Bo,Y,{})}}function No(t){let e,n,r,l,i,s,o,c,a,f,d;return n=new Io({}),n.$on("navigationClick",t[0]),l=new Ir({}),f=new yo({}),{c(){e=m("div"),V(n.$$.fragment),r=S(),V(l.$$.fragment),i=S(),s=m("div"),o=m("div"),o.innerHTML='<h1 class="title title-large m-auto w-fit text-4xl md:text-5xl">Dots &amp; Boxes</h1>',c=S(),a=m("div"),V(f.$$.fragment),u(o,"class","flex w-full"),u(a,"class","bg mt-4 flex w-full md:mt-6"),u(s,"class","relative m-auto flex h-full flex-col justify-center"),u(e,"class","bg-paper relative flex h-full w-full after:md:absolute after:md:left-32 after:md:h-full after:md:w-[0.1em] after:md:bg-red-500 svelte-1mjiqwt")},m(g,b){x(g,e,b),W(n,e,null),_(e,r),W(l,e,null),_(e,i),_(e,s),_(s,o),_(s,c),_(s,a),W(f,a,null),d=!0},p:A,i(g){d||(y(n.$$.fragment,g),y(l.$$.fragment,g),y(f.$$.fragment,g),d=!0)},o(g){k(n.$$.fragment,g),k(l.$$.fragment,g),k(f.$$.fragment,g),d=!1},d(g){g&&E(e),q(n),q(l),q(f)}}}function zo(t){return[n=>{Cr(jo,{event:n.detail})}]}class Fo extends te{constructor(e){super(),ee(this,e,zo,No,Y,{})}}function Do(t){let e,n,r;return n=new Fo({}),{c(){e=m("main"),V(n.$$.fragment),u(e,"class","font-body box-border flex h-screen flex-1 bg-white")},m(l,i){x(l,e,i),W(n,e,null),r=!0},p:A,i(l){r||(y(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&E(e),q(n)}}}class Go extends te{constructor(e){super(),ee(this,e,null,Do,Y,{})}}new Go({target:document.getElementById("app")});
