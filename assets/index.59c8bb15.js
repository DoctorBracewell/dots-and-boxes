(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function A(){}const $t=t=>t;function Mt(t,e){for(const n in e)t[n]=e[n];return t}function _r(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Ln(t){return t()}function zt(){return Object.create(null)}function Ee(t){t.forEach(Ln)}function gt(t){return typeof t=="function"}function X(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let et;function He(t,e){return et||(et=document.createElement("a")),et.href=e,t===et.href}function dr(t){return Object.keys(t).length===0}function In(t,...e){if(t==null)return A;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function me(t){let e;return In(t,n=>e=n)(),e}function te(t,e,n){t.$$.on_destroy.push(In(e,n))}function Ct(t,e,n,r){if(t){const l=Bn(t,e,n,r);return t[0](l)}}function Bn(t,e,n,r){return t[1]&&r?Mt(n.ctx.slice(),t[1](r(e))):n.ctx}function Tt(t,e,n,r){if(t[2]&&r){const l=t[2](r(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const o=[],s=Math.max(e.dirty.length,l.length);for(let i=0;i<s;i+=1)o[i]=e.dirty[i]|l[i];return o}return e.dirty|l}return e.dirty}function Et(t,e,n,r,l,o){if(l){const s=Bn(e,n,r,o);t.p(s,l)}}function Ot(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function ve(t,e,n){return t.set(n),e}const Nn=typeof window<"u";let Pn=Nn?()=>window.performance.now():()=>Date.now(),jt=Nn?t=>requestAnimationFrame(t):A;const qe=new Set;function zn(t){qe.forEach(e=>{e.c(t)||(qe.delete(e),e.f())}),qe.size!==0&&jt(zn)}function Fn(t){let e;return qe.size===0&&jt(zn),{promise:new Promise(n=>{qe.add(e={c:t,f:n})}),abort(){qe.delete(e)}}}function _(t,e){t.appendChild(e)}function Dn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function gr(t){const e=m("style");return hr(Dn(t),e),e.sheet}function hr(t,e){return _(t.head||t,e),e.sheet}function O(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function pe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function ce(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ee(t){return document.createTextNode(t)}function j(){return ee(" ")}function be(){return ee("")}function ue(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function f(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function mr(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function de(t,e){t.value=e??""}function P(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Hn(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,r,e),l}function ct(t,e){return new t(e)}const at=new Map;let ut=0;function pr(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function br(t,e){const n={stylesheet:gr(e),rules:{}};return at.set(t,n),n}function bt(t,e,n,r,l,o,s,i=0){const a=16.666/r;let c=`{
`;for(let $=0;$<=1;$+=a){const U=e+(n-e)*o($);c+=$*100+`%{${s(U,1-U)}}
`}const u=c+`100% {${s(n,1-n)}}
}`,d=`__svelte_${pr(u)}_${i}`,g=Dn(t),{stylesheet:p,rules:w}=at.get(g)||br(g,t);w[d]||(w[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${d} ${r}ms linear ${l}ms 1 both`,ut+=1,d}function wt(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),l=n.length-r.length;l&&(t.style.animation=r.join(", "),ut-=l,ut||wr())}function wr(){jt(()=>{ut||(at.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),at.clear())})}let Ke;function ke(t){Ke=t}function xt(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function yr(t){xt().$$.on_mount.push(t)}function Gn(){const t=xt();return(e,n,{cancelable:r=!1}={})=>{const l=t.$$.callbacks[e];if(l){const o=Hn(e,n,{cancelable:r});return l.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}function Ft(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const De=[],Dt=[],rt=[],Ht=[],vr=Promise.resolve();let yt=!1;function kr(){yt||(yt=!0,vr.then(Rt))}function Ce(t){rt.push(t)}const mt=new Set;let ze=0;function Rt(){if(ze!==0)return;const t=Ke;do{try{for(;ze<De.length;){const e=De[ze];ze++,ke(e),$r(e.$$)}}catch(e){throw De.length=0,ze=0,e}for(ke(null),De.length=0,ze=0;Dt.length;)Dt.pop()();for(let e=0;e<rt.length;e+=1){const n=rt[e];mt.has(n)||(mt.add(n),n())}rt.length=0}while(De.length);for(;Ht.length;)Ht.pop()();yt=!1,mt.clear(),ke(t)}function $r(t){if(t.fragment!==null){t.update(),Ee(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ce)}}let Ye;function qn(){return Ye||(Ye=Promise.resolve(),Ye.then(()=>{Ye=null})),Ye}function Ze(t,e,n){t.dispatchEvent(Hn(`${e?"intro":"outro"}${n}`))}const lt=new Set;let $e;function Y(){$e={r:0,c:[],p:$e}}function V(){$e.r||Ee($e.c),$e=$e.p}function y(t,e){t&&t.i&&(lt.delete(t),t.i(e))}function k(t,e,n,r){if(t&&t.o){if(lt.has(t))return;lt.add(t),$e.c.push(()=>{lt.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Wn={duration:0};function St(t,e,n){const r={direction:"in"};let l=e(t,n,r),o=!1,s,i,a=0;function c(){s&&wt(t,s)}function u(){const{delay:g=0,duration:p=300,easing:w=$t,tick:v=A,css:$}=l||Wn;$&&(s=bt(t,0,1,p,g,w,$,a++)),v(0,1);const U=Pn()+g,E=U+p;i&&i.abort(),o=!0,Ce(()=>Ze(t,!0,"start")),i=Fn(I=>{if(o){if(I>=E)return v(1,0),Ze(t,!0,"end"),c(),o=!1;if(I>=U){const S=w((I-U)/p);v(S,1-S)}}return o})}let d=!1;return{start(){d||(d=!0,wt(t),gt(l)?(l=l(r),qn().then(u)):u())},invalidate(){d=!1},end(){o&&(c(),o=!1)}}}function Gt(t,e,n,r){const l={direction:"both"};let o=e(t,n,l),s=r?0:1,i=null,a=null,c=null;function u(){c&&wt(t,c)}function d(p,w){const v=p.b-s;return w*=Math.abs(v),{a:s,b:p.b,d:v,duration:w,start:p.start,end:p.start+w,group:p.group}}function g(p){const{delay:w=0,duration:v=300,easing:$=$t,tick:U=A,css:E}=o||Wn,I={start:Pn()+w,b:p};p||(I.group=$e,$e.r+=1),i||a?a=I:(E&&(u(),c=bt(t,s,p,v,w,$,E)),p&&U(0,1),i=d(I,v),Ce(()=>Ze(t,p,"start")),Fn(S=>{if(a&&S>a.start&&(i=d(a,v),a=null,Ze(t,i.b,"start"),E&&(u(),c=bt(t,s,i.b,i.duration,0,$,o.css))),i){if(S>=i.end)U(s=i.b,1-s),Ze(t,i.b,"end"),a||(i.b?u():--i.group.r||Ee(i.group.c)),i=null;else if(S>=i.start){const C=S-i.start;s=i.a+i.d*$(C/i.duration),U(s,1-s)}}return!!(i||a)}))}return{run(p){gt(o)?qn().then(()=>{o=o(l),g(p)}):g(p)},end(){u(),i=a=null}}}function qt(t,e){const n=e.token={};function r(l,o,s,i){if(e.token!==n)return;e.resolved=i;let a=e.ctx;s!==void 0&&(a=a.slice(),a[s]=i);const c=l&&(e.current=l)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,g)=>{g!==o&&d&&(Y(),k(d,1,1,()=>{e.blocks[g]===d&&(e.blocks[g]=null)}),V())}):e.block.d(1),c.c(),y(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[o]=c),u&&Rt()}if(_r(t)){const l=xt();if(t.then(o=>{ke(l),r(e.then,1,e.value,o),ke(null)},o=>{if(ke(l),r(e.catch,2,e.error,o),ke(null),!e.hasCatch)throw o}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function Mr(t,e,n){const r=e.slice(),{resolved:l}=t;t.current===t.then&&(r[t.value]=l),t.current===t.catch&&(r[t.error]=l),t.block.p(r,n)}function Cr(t,e){k(t,1,1,()=>{e.delete(t.key)})}function Tr(t,e,n,r,l,o,s,i,a,c,u,d){let g=t.length,p=o.length,w=g;const v={};for(;w--;)v[t[w].key]=w;const $=[],U=new Map,E=new Map;for(w=p;w--;){const L=d(l,o,w),B=n(L);let x=s.get(B);x?r&&x.p(L,e):(x=c(B,L),x.c()),U.set(B,$[w]=x),B in v&&E.set(B,Math.abs(w-v[B]))}const I=new Set,S=new Set;function C(L){y(L,1),L.m(i,u),s.set(L.key,L),u=L.first,p--}for(;g&&p;){const L=$[p-1],B=t[g-1],x=L.key,K=B.key;L===B?(u=L.first,g--,p--):U.has(K)?!s.has(x)||I.has(x)?C(L):S.has(K)?g--:E.get(x)>E.get(K)?(S.add(x),C(L)):(I.add(K),g--):(a(B,s),g--)}for(;g--;){const L=t[g];U.has(L.key)||a(L,s)}for(;p;)C($[p-1]);return $}function Yn(t,e){const n={},r={},l={$$scope:1};let o=t.length;for(;o--;){const s=t[o],i=e[o];if(i){for(const a in s)a in i||(r[a]=1);for(const a in i)l[a]||(n[a]=i[a],l[a]=1);t[o]=i}else for(const a in s)l[a]=1}for(const s in r)s in n||(n[s]=void 0);return n}function Vn(t){return typeof t=="object"&&t!==null?t:{}}function Z(t){t&&t.c()}function G(t,e,n,r){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,n),r||Ce(()=>{const s=t.$$.on_mount.map(Ln).filter(gt);t.$$.on_destroy?t.$$.on_destroy.push(...s):Ee(s),t.$$.on_mount=[]}),o.forEach(Ce)}function q(t,e){const n=t.$$;n.fragment!==null&&(Ee(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Er(t,e){t.$$.dirty[0]===-1&&(De.push(t),kr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ne(t,e,n,r,l,o,s,i=[-1]){const a=Ke;ke(t);const c=t.$$={fragment:null,ctx:[],props:o,update:A,not_equal:l,bound:zt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:zt(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};s&&s(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(d,g,...p)=>{const w=p.length?p[0]:g;return c.ctx&&l(c.ctx[d],c.ctx[d]=w)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](w),u&&Er(t,d)),g}):[],c.update(),u=!0,Ee(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const d=mr(e.target);c.fragment&&c.fragment.l(d),d.forEach(T)}else c.fragment&&c.fragment.c();e.intro&&y(t.$$.fragment),G(t,e.target,e.anchor,e.customElement),Rt()}ke(a)}class re{$destroy(){q(this,1),this.$destroy=A}$on(e,n){if(!gt(n))return A;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!dr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Fe=[];function Ie(t,e=A){let n;const r=new Set;function l(i){if(X(t,i)&&(t=i,n)){const a=!Fe.length;for(const c of r)c[1](),Fe.push(c,t);if(a){for(let c=0;c<Fe.length;c+=2)Fe[c][0](Fe[c+1]);Fe.length=0}}}function o(i){l(i(t))}function s(i,a=A){const c=[i,a];return r.add(c),r.size===1&&(n=e(l)||A),i(t),()=>{r.delete(c),r.size===0&&(n(),n=null)}}return{set:l,update:o,subscribe:s}}const Re=Ie(!1),Se=Ie(null),Ae=Ie([]),Zn=Ie(null);function Or(t=1){const e=me(Ae).length,n=me(Ae)[e-1];return me(Se)||n?.callbacks?.onBeforeClose&&n?.callbacks?.onBeforeClose()===!1?!1:(me(Re)&&e>0&&Se.set(!0),Re.set(!1),Zn.set("pop"),xr(t),!0)}function Wt(){return Or(1)}function jr(t,e,n){me(Se)||(Zn.set("push"),me(Re)&&me(Ae).length&&Se.set(!0),Re.set(!1),n?.replace?Ae.update(r=>[...r.slice(0,r.length-1),{component:t,props:e}]):Ae.update(r=>[...r,{component:t,props:e}]))}function xr(t=1){Ae.update(e=>e.slice(0,Math.max(0,e.length-t)))}function Yt(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}const Rr=t=>({}),Vt=t=>({}),Sr=t=>({}),Zt=t=>({});function Xt(t){let e;const n=t[4].backdrop,r=Ct(n,t,t[3],Zt);return{c(){r&&r.c()},m(l,o){r&&r.m(l,o),e=!0},p(l,o){r&&r.p&&(!e||o&8)&&Et(r,n,l,l[3],e?Tt(n,l[3],o,Sr):Ot(l[3]),Zt)},i(l){e||(y(r,l),e=!0)},o(l){k(r,l),e=!1},d(l){r&&r.d(l)}}}function Ar(t){let e,n,r;const l=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var o=t[9].component;function s(i){let a={};for(let c=0;c<l.length;c+=1)a=Mt(a,l[c]);return{props:a}}return o&&(e=ct(o,s()),e.$on("introstart",t[7]),e.$on("outroend",t[8])),{c(){e&&Z(e.$$.fragment),n=be()},m(i,a){e&&G(e,i,a),O(i,n,a),r=!0},p(i,a){const c=a&3?Yn(l,[{isOpen:i[11]===i[0].length-1&&!i[1]},a&1&&Vn(i[9].props)]):{};if(o!==(o=i[9].component)){if(e){Y();const u=e;k(u.$$.fragment,1,0,()=>{q(u,1)}),V()}o?(e=ct(o,s()),e.$on("introstart",i[7]),e.$on("outroend",i[8]),Z(e.$$.fragment),y(e.$$.fragment,1),G(e,n.parentNode,n)):e=null}else o&&e.$set(c)},i(i){r||(e&&y(e.$$.fragment,i),r=!0)},o(i){e&&k(e.$$.fragment,i),r=!1},d(i){i&&T(n),e&&q(e,i)}}}function Ur(t){let e,n,r,l={ctx:t,current:null,token:null,hasCatch:!1,pending:Br,then:Ir,catch:Lr,value:12,blocks:[,,,]};return qt(n=Jt(t[9].component),l),{c(){e=be(),l.block.c()},m(o,s){O(o,e,s),l.block.m(o,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,r=!0},p(o,s){t=o,l.ctx=t,s&1&&n!==(n=Jt(t[9].component))&&qt(n,l)||Mr(l,t,s)},i(o){r||(y(l.block),r=!0)},o(o){for(let s=0;s<3;s+=1){const i=l.blocks[s];k(i)}r=!1},d(o){o&&T(e),l.block.d(o),l.token=null,l=null}}}function Lr(t){return{c:A,m:A,p:A,i:A,o:A,d:A}}function Ir(t){let e,n,r;const l=[{isOpen:t[11]===t[0].length-1&&!t[1]},t[9].props];var o=t[12];function s(i){let a={};for(let c=0;c<l.length;c+=1)a=Mt(a,l[c]);return{props:a}}return o&&(e=ct(o,s()),e.$on("introstart",t[5]),e.$on("outroend",t[6])),{c(){e&&Z(e.$$.fragment),n=j()},m(i,a){e&&G(e,i,a),O(i,n,a),r=!0},p(i,a){const c=a&3?Yn(l,[{isOpen:i[11]===i[0].length-1&&!i[1]},a&1&&Vn(i[9].props)]):{};if(o!==(o=i[12])){if(e){Y();const u=e;k(u.$$.fragment,1,0,()=>{q(u,1)}),V()}o?(e=ct(o,s()),e.$on("introstart",i[5]),e.$on("outroend",i[6]),Z(e.$$.fragment),y(e.$$.fragment,1),G(e,n.parentNode,n)):e=null}else o&&e.$set(c)},i(i){r||(e&&y(e.$$.fragment,i),r=!0)},o(i){e&&k(e.$$.fragment,i),r=!1},d(i){e&&q(e,i),i&&T(n)}}}function Br(t){let e,n;const r=t[4].loading,l=Ct(r,t,t[3],Vt);return{c(){l&&l.c(),e=j()},m(o,s){l&&l.m(o,s),O(o,e,s),n=!0},p(o,s){l&&l.p&&(!n||s&8)&&Et(l,r,o,o[3],n?Tt(r,o[3],s,Rr):Ot(o[3]),Vt)},i(o){n||(y(l,o),n=!0)},o(o){k(l,o),n=!1},d(o){l&&l.d(o),o&&T(e)}}}function Kt(t,e){let n,r,l,o,s,i;const a=[Ur,Ar],c=[];function u(d,g){return g&1&&(r=null),r==null&&(r=!!zr(d[9].component)),r?0:1}return l=u(e,-1),o=c[l]=a[l](e),{key:t,first:null,c(){n=be(),o.c(),s=be(),this.first=n},m(d,g){O(d,n,g),c[l].m(d,g),O(d,s,g),i=!0},p(d,g){e=d;let p=l;l=u(e,g),l===p?c[l].p(e,g):(Y(),k(c[p],1,1,()=>{c[p]=null}),V(),o=c[l],o?o.p(e,g):(o=c[l]=a[l](e),o.c()),y(o,1),o.m(s.parentNode,s))},i(d){i||(y(o),i=!0)},o(d){k(o),i=!1},d(d){d&&T(n),c[l].d(d),d&&T(s)}}}function Nr(t){let e=[],n=new Map,r,l,o=t[0];const s=i=>i[11];for(let i=0;i<o.length;i+=1){let a=Yt(t,o,i),c=s(a);n.set(c,e[i]=Kt(c,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();r=be()},m(i,a){for(let c=0;c<e.length;c+=1)e[c].m(i,a);O(i,r,a),l=!0},p(i,a){a&15&&(o=i[0],Y(),e=Tr(e,a,s,1,i,o,n,r.parentNode,Cr,Kt,r,Yt),V())},i(i){if(!l){for(let a=0;a<o.length;a+=1)y(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)k(e[a]);l=!1},d(i){for(let a=0;a<e.length;a+=1)e[a].d(i);i&&T(r)}}}function Pr(t){let e,n,r=t[0].length>0&&Xt(t);const l=t[4].default,o=Ct(l,t,t[3],null),s=o||Nr(t);return{c(){r&&r.c(),e=j(),s&&s.c()},m(i,a){r&&r.m(i,a),O(i,e,a),s&&s.m(i,a),n=!0},p(i,[a]){i[0].length>0?r?(r.p(i,a),a&1&&y(r,1)):(r=Xt(i),r.c(),y(r,1),r.m(e.parentNode,e)):r&&(Y(),k(r,1,1,()=>{r=null}),V()),o?o.p&&(!n||a&8)&&Et(o,l,i,i[3],n?Tt(l,i[3],a,null):Ot(i[3]),null):s&&s.p&&(!n||a&15)&&s.p(i,n?a:-1)},i(i){n||(y(r),y(s,i),n=!0)},o(i){k(r),k(s,i),n=!1},d(i){r&&r.d(i),i&&T(e),s&&s.d(i)}}}function zr(t){return typeof t.prototype>"u"}async function Jt(t){return t().then(e=>e.default)}function Fr(t,e,n){let r,l,o;te(t,Ae,g=>n(0,r=g)),te(t,Se,g=>n(1,l=g)),te(t,Re,g=>n(2,o=g));let{$$slots:s={},$$scope:i}=e;const a=()=>{ve(Re,o=!0,o)},c=()=>{ve(Se,l=!1,l)},u=()=>{ve(Re,o=!0,o)},d=()=>{ve(Se,l=!1,l)};return t.$$set=g=>{"$$scope"in g&&n(3,i=g.$$scope)},[r,l,o,i,s,a,c,u,d]}class Dr extends re{constructor(e){super(),ne(this,e,Fr,Pr,X,{})}}var tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hr(t,e,n){var r=-1,l=t.length;e<0&&(e=-e>l?0:l+e),n=n>l?l:n,n<0&&(n+=l),l=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(l);++r<l;)o[r]=t[r+e];return o}var Gr=Hr;function qr(t,e){return t===e||t!==t&&e!==e}var Wr=qr,Yr=typeof tt=="object"&&tt&&tt.Object===Object&&tt,Vr=Yr,Zr=Vr,Xr=typeof self=="object"&&self&&self.Object===Object&&self,Kr=Zr||Xr||Function("return this")(),Jr=Kr,Qr=Jr,el=Qr.Symbol,Xn=el,Qt=Xn,Kn=Object.prototype,tl=Kn.hasOwnProperty,nl=Kn.toString,Ve=Qt?Qt.toStringTag:void 0;function rl(t){var e=tl.call(t,Ve),n=t[Ve];try{t[Ve]=void 0;var r=!0}catch{}var l=nl.call(t);return r&&(e?t[Ve]=n:delete t[Ve]),l}var ll=rl,ol=Object.prototype,il=ol.toString;function sl(t){return il.call(t)}var cl=sl,en=Xn,al=ll,ul=cl,fl="[object Null]",_l="[object Undefined]",tn=en?en.toStringTag:void 0;function dl(t){return t==null?t===void 0?_l:fl:tn&&tn in Object(t)?al(t):ul(t)}var Jn=dl;function gl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var At=gl,hl=Jn,ml=At,pl="[object AsyncFunction]",bl="[object Function]",wl="[object GeneratorFunction]",yl="[object Proxy]";function vl(t){if(!ml(t))return!1;var e=hl(t);return e==bl||e==wl||e==pl||e==yl}var kl=vl,$l=9007199254740991;function Ml(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=$l}var Cl=Ml,Tl=kl,El=Cl;function Ol(t){return t!=null&&El(t.length)&&!Tl(t)}var jl=Ol,xl=9007199254740991,Rl=/^(?:0|[1-9]\d*)$/;function Sl(t,e){var n=typeof t;return e=e??xl,!!e&&(n=="number"||n!="symbol"&&Rl.test(t))&&t>-1&&t%1==0&&t<e}var Al=Sl,Ul=Wr,Ll=jl,Il=Al,Bl=At;function Nl(t,e,n){if(!Bl(n))return!1;var r=typeof e;return(r=="number"?Ll(n)&&Il(e,n.length):r=="string"&&e in n)?Ul(n[e],t):!1}var Qn=Nl,Pl=/\s/;function zl(t){for(var e=t.length;e--&&Pl.test(t.charAt(e)););return e}var Fl=zl,Dl=Fl,Hl=/^\s+/;function Gl(t){return t&&t.slice(0,Dl(t)+1).replace(Hl,"")}var ql=Gl;function Wl(t){return t!=null&&typeof t=="object"}var Yl=Wl,Vl=Jn,Zl=Yl,Xl="[object Symbol]";function Kl(t){return typeof t=="symbol"||Zl(t)&&Vl(t)==Xl}var Jl=Kl,Ql=ql,nn=At,eo=Jl,rn=0/0,to=/^[-+]0x[0-9a-f]+$/i,no=/^0b[01]+$/i,ro=/^0o[0-7]+$/i,lo=parseInt;function oo(t){if(typeof t=="number")return t;if(eo(t))return rn;if(nn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=nn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ql(t);var n=no.test(t);return n||ro.test(t)?lo(t.slice(2),n?2:8):to.test(t)?rn:+t}var io=oo,so=io,ln=1/0,co=17976931348623157e292;function ao(t){if(!t)return t===0?t:0;if(t=so(t),t===ln||t===-ln){var e=t<0?-1:1;return e*co}return t===t?t:0}var er=ao,uo=er;function fo(t){var e=uo(t),n=e%1;return e===e?n?e-n:e:0}var _o=fo,go=Gr,ho=Qn,mo=_o,po=Math.ceil,bo=Math.max;function wo(t,e,n){(n?ho(t,e,n):e===void 0)?e=1:e=bo(mo(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var l=0,o=0,s=Array(po(r/e));l<r;)s[o++]=go(t,l,l+=e);return s}var xe=wo;function yo(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function vt(t,{delay:e=0,duration:n=400,easing:r=$t}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:o=>`opacity: ${o*l}`}}function tr(t,{delay:e=0,speed:n,duration:r,easing:l=yo}={}){let o=t.getTotalLength();const s=getComputedStyle(t);return s.strokeLinecap!=="butt"&&(o+=parseInt(s.strokeWidth)),r===void 0?n===void 0?r=800:r=o/n:typeof r=="function"&&(r=r(o)),{delay:e,duration:r,easing:l,css:(i,a)=>`
			stroke-dasharray: ${o};
			stroke-dashoffset: ${a*o};
		`}}const Le={EASY:"easy",MEDIUM:"medium",HARD:"hard"},he={HORIZONTAL:"horizontal",VERTICAL:"vertical"},F={USER:"user",COMPUTER:"computer"},ie={USER:"user",COMPUTER:"computer",EMPTY:"hover"},ft={SETTINGS:"settings",LEADERBOARD:"leaderboard"},kt=t=>t===void 0?ie.EMPTY:Object.values(ie)[t],Ue=(t,e)=>Object.values(t)[e],fe=(t,e)=>Object.values(t).indexOf(e);let R;const ye=new Array(32).fill(void 0);ye.push(void 0,null,!0,!1);function N(t){return ye[t]}let Xe=ye.length;function vo(t){t<36||(ye[t]=Xe,Xe=t)}function nr(t){const e=N(t);return vo(t),e}const rr=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});rr.decode();let ot=new Uint8Array;function lr(){return ot.byteLength===0&&(ot=new Uint8Array(R.memory.buffer)),ot}function pt(t,e){return rr.decode(lr().subarray(t,t+e))}function H(t){Xe===ye.length&&ye.push(ye.length+1);const e=Xe;return Xe=ye[e],ye[e]=t,e}let it=new Int32Array;function _t(){return it.byteLength===0&&(it=new Int32Array(R.memory.buffer)),it}let st=new Uint32Array;function or(){return st.byteLength===0&&(st=new Uint32Array(R.memory.buffer)),st}function ir(t,e){return or().subarray(t/4,t/4+e)}let sr=0;function ko(t,e){const n=e(t.length*4);return or().set(t,n/4),sr=t.length,n}function we(t,e){try{return t.apply(this,e)}catch(n){R.__wbindgen_exn_store(H(n))}}function $o(t,e){return lr().subarray(t/1,t/1+e)}Object.freeze({Easy:0,0:"Easy",Medium:1,1:"Medium",Hard:2,2:"Hard"});Object.freeze({Horizontal:0,0:"Horizontal",Vertical:1,1:"Vertical"});Object.freeze({Ground:0,0:"Ground",Box:1,1:"Box"});Object.freeze({User:0,0:"User",Computer:1,1:"Computer"});class Je{static __wrap(e){const n=Object.create(Je.prototype);return n.ptr=e,n}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();R.__wbg_game_free(e)}constructor(e,n){const r=R.game_new(e,n);return Je.__wrap(r)}interact_edge(e,n){try{const s=R.__wbindgen_add_to_stack_pointer(-16);R.game_interact_edge(s,this.ptr,e,n);var r=_t()[s/4+0],l=_t()[s/4+1],o=ir(r,l).slice();return R.__wbindgen_free(r,l*4),o}finally{R.__wbindgen_add_to_stack_pointer(16)}}handle_edge_interact(e,n){const r=R.game_handle_edge_interact(this.ptr,e,n);return nr(r)}computer_turn(){const e=R.game_computer_turn(this.ptr);return dt.__wrap(e)}get height(){return R.game_height(this.ptr)>>>0}get width(){return R.game_width(this.ptr)>>>0}get difficulty(){return R.game_difficulty(this.ptr)>>>0}get current_player(){return R.game_current_player(this.ptr)>>>0}set height(e){R.game_set_height(this.ptr,e)}set width(e){R.game_set_width(this.ptr,e)}set difficulty(e){R.game_set_difficulty(this.ptr,e)}set current_player(e){R.game_set_current_player(this.ptr,e)}get_edge(e,n){const r=R.game_get_edge(this.ptr,e,n);return r===2?void 0:r}get_box(e,n){const r=R.game_get_box(this.ptr,e,n);return r===2?void 0:r}switch_player(){R.game_switch_player(this.ptr)}board_full(){return R.game_board_full(this.ptr)!==0}count_boxes(e){return R.game_count_boxes(this.ptr,e)>>>0}count_open_boxes(){return R.game_count_open_boxes(this.ptr)>>>0}}class dt{static __wrap(e){const n=Object.create(dt.prototype);return n.ptr=e,n}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();R.__wbg_turninformation_free(e)}get 0(){return R.__wbg_get_turninformation_0(this.ptr)>>>0}set 0(e){R.__wbg_set_turninformation_0(this.ptr,e)}get 1(){return R.__wbg_get_turninformation_1(this.ptr)>>>0}set 1(e){R.__wbg_set_turninformation_1(this.ptr,e)}constructor(e,n,r){const l=ko(r,R.__wbindgen_malloc),o=sr,s=R.turninformation_new(e,n,l,o);return dt.__wrap(s)}get affected_boxes(){try{const l=R.__wbindgen_add_to_stack_pointer(-16);R.turninformation_affected_boxes(l,this.ptr);var e=_t()[l/4+0],n=_t()[l/4+1],r=ir(e,n).slice();return R.__wbindgen_free(e,n*4),r}finally{R.__wbindgen_add_to_stack_pointer(16)}}}async function Mo(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function Co(){const t={};return t.wbg={},t.wbg.__wbindgen_object_drop_ref=function(e){nr(e)},t.wbg.__wbg_randomFillSync_6894564c2c334c42=function(){return we(function(e,n,r){N(e).randomFillSync($o(n,r))},arguments)},t.wbg.__wbg_getRandomValues_805f1c3d65988a5a=function(){return we(function(e,n){N(e).getRandomValues(N(n))},arguments)},t.wbg.__wbg_crypto_e1d53a1d73fb10b8=function(e){const n=N(e).crypto;return H(n)},t.wbg.__wbindgen_is_object=function(e){const n=N(e);return typeof n=="object"&&n!==null},t.wbg.__wbg_process_038c26bf42b093f8=function(e){const n=N(e).process;return H(n)},t.wbg.__wbg_versions_ab37218d2f0b24a8=function(e){const n=N(e).versions;return H(n)},t.wbg.__wbg_node_080f4b19d15bc1fe=function(e){const n=N(e).node;return H(n)},t.wbg.__wbindgen_is_string=function(e){return typeof N(e)=="string"},t.wbg.__wbg_msCrypto_6e7d3e1f92610cbb=function(e){const n=N(e).msCrypto;return H(n)},t.wbg.__wbg_require_78a3dcfbdba9cbce=function(){return we(function(){const e=module.require;return H(e)},arguments)},t.wbg.__wbindgen_is_function=function(e){return typeof N(e)=="function"},t.wbg.__wbindgen_string_new=function(e,n){const r=pt(e,n);return H(r)},t.wbg.__wbg_newnoargs_b5b063fc6c2f0376=function(e,n){const r=new Function(pt(e,n));return H(r)},t.wbg.__wbg_call_97ae9d8645dc388b=function(){return we(function(e,n){const r=N(e).call(N(n));return H(r)},arguments)},t.wbg.__wbindgen_object_clone_ref=function(e){const n=N(e);return H(n)},t.wbg.__wbg_self_6d479506f72c6a71=function(){return we(function(){const e=self.self;return H(e)},arguments)},t.wbg.__wbg_window_f2557cc78490aceb=function(){return we(function(){const e=window.window;return H(e)},arguments)},t.wbg.__wbg_globalThis_7f206bda628d5286=function(){return we(function(){const e=globalThis.globalThis;return H(e)},arguments)},t.wbg.__wbg_global_ba75c50d1cf384f4=function(){return we(function(){const e=global.global;return H(e)},arguments)},t.wbg.__wbindgen_is_undefined=function(e){return N(e)===void 0},t.wbg.__wbg_call_168da88779e35f61=function(){return we(function(e,n,r){const l=N(e).call(N(n),N(r));return H(l)},arguments)},t.wbg.__wbg_buffer_3f3d764d4747d564=function(e){const n=N(e).buffer;return H(n)},t.wbg.__wbg_new_8c3f0052272a457a=function(e){const n=new Uint8Array(N(e));return H(n)},t.wbg.__wbg_set_83db9690f9353e79=function(e,n,r){N(e).set(N(n),r>>>0)},t.wbg.__wbg_length_9e1ae1900cb0fbd5=function(e){return N(e).length},t.wbg.__wbg_newwithbyteoffsetandlength_9cc9adccd861aa26=function(e,n,r){const l=new Uint32Array(N(e),n>>>0,r>>>0);return H(l)},t.wbg.__wbg_new_949418f5ed1e29f7=function(e){const n=new Uint32Array(N(e));return H(n)},t.wbg.__wbg_newwithlength_f5933855e4f48a19=function(e){const n=new Uint8Array(e>>>0);return H(n)},t.wbg.__wbg_subarray_58ad4efbb5bcb886=function(e,n,r){const l=N(e).subarray(n>>>0,r>>>0);return H(l)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(pt(e,n))},t.wbg.__wbindgen_memory=function(){const e=R.memory;return H(e)},t}function To(t,e){return R=t.exports,cr.__wbindgen_wasm_module=e,it=new Int32Array,st=new Uint32Array,ot=new Uint8Array,R}async function cr(t){typeof t>"u"&&(t=new URL(""+new URL("wasm_bg.7559583d.wasm",import.meta.url).href,self.location));const e=Co();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await Mo(await t,e);return To(n,r)}const Eo="#F50400",Oo="#2892D7",ar="todo",ur=3e3;await cr();const Te=Ie(new Je(4,4)),Ge=Ie({affectedBoxes:[],affectedLines:[],currentPlayer:F.USER}),Me=Ie({get difficulty(){return Ue(Le,me(Te).difficulty)},set difficulty(t){me(Te).difficulty=fe(Le,t)},colours:{user:Oo,computer:Eo}}),jo=me(Me);jo.difficulty=Le.MEDIUM;function xo(t){let e,n,r,l;return{c(){e=ce("svg"),n=ce("g"),r=ce("path"),f(r,"d","M 0 0 C 0 0 0 0 0 0 M 0 0 C 0 0 0 0 0 0 M 1.5 12.2 C 3.8 8.7 4.1 6.4 11.3 -0.7 M -0.3 11.9 C 2.1 9.3 5 5.9 10.9 0.6 M -1.1 24.5 C 8 14.1 17 4 22.7 -0.5 M 1 23.3 C 5.9 18.3 11.5 11.5 21.7 -0.3 M -2 36.8 C 7 27.3 15.8 18.8 33.2 1.2 M 0.6 37 C 7.7 27.3 17.1 16.2 32.2 -0.9 M -0.7 50.3 C 14.5 32.5 29 15.1 42.5 -1.6 M -1.1 49.3 C 11.3 35.8 23 21.1 42.1 -0.5 M 1.3 59.7 C 20.2 38.2 40.6 15 54.4 -0.3 M 1 61.7 C 12.9 47.6 24.9 31.4 52.3 0.2 M -0.5 73.2 C 13.8 57.1 24.4 43.9 62.6 1 M -0.3 73.9 C 15.8 52.9 33.6 32.7 64.5 0 M 0 85.6 C 23.9 58.1 46.7 33.4 75.3 0.5 M 0.6 85.4 C 23.2 59.3 44.7 34.6 73.6 -0.1 M -0.9 98.2 C 24.5 70.1 46.4 44.6 84.9 -0.5 M -0.6 98.8 C 27.1 67.7 53.5 35.6 85.3 -0.6 M -0.2 108.7 C 28.9 77.3 54.4 44.2 96.7 0.7 M 0 109.4 C 26.6 80.4 52.2 50.6 95.9 -0.7 M 0.8 122.2 C 29.5 87.6 60.4 51.7 106.9 -2.2 M -0.6 122.1 C 31.5 84.9 63.3 50.1 106.3 0.6 M 6.1 126.3 C 41 87.3 75.5 48.6 117.7 -1.4 M 6.9 126.6 C 50.3 79.5 93.2 30.3 115.7 0.9 M 16.6 125.9 C 52 87.5 89.6 42.7 125.1 0.9 M 17.5 127.4 C 43.2 97.1 69.2 67.5 125.2 3.4 M 27.3 127.5 C 55.8 95.2 84.6 63.9 123.5 15.4 M 26.7 126.3 C 62.1 87 98.8 47.8 124.2 14.3 M 39.8 128.8 C 67.9 94.1 98 58.3 126.8 28.4 M 38.9 127.6 C 59 104.8 77.8 80 125.7 25.9 M 47.9 128.8 C 64.7 104.8 86.7 86 123.7 41.4 M 48.5 126.1 C 69.8 104 90.7 79.1 124.1 39.8 M 57.5 126.8 C 84.9 100 106.8 71 126.4 51.1 M 59.9 127.5 C 76.3 109.3 90.8 90.2 125.6 51 M 69.1 126.8 C 79.6 113.5 91.1 101.2 123.9 65.1 M 69 127.6 C 87.7 106.4 105.9 87.5 124.5 62.6 M 82 125.1 C 96 109.5 109.2 96.9 125.7 74.9 M 80.1 126.1 C 95.3 109.6 109.4 92.6 125.5 75.8 M 92 126.1 C 100.7 116.5 111 102.8 126 88.2 M 90.4 127.8 C 99.5 116.7 108.8 105.6 125.4 88.6 M 100.4 126 C 105.3 120.6 113.5 116.4 125.3 102 M 101.2 126.7 C 107.3 119.7 113.7 114.2 123.8 100 M 111.4 125 C 117.3 119.3 121.7 114.8 124.7 110.9 M 113 127.1 C 116.2 121.3 120.8 116.5 124.2 112.8"),f(r,"stroke-width","1"),f(r,"stroke",t[0]),f(r,"fill","none"),f(n,"stroke-linecap","round"),f(n,"transform","matrix(1,0,0,1,10,10)"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"version","1.1"),f(e,"viewBox","7.28 7.34 130.04 131.98"),f(e,"class","absolute h-full w-full")},m(o,s){O(o,e,s),_(e,n),_(n,r)},p(o,[s]){s&1&&f(r,"stroke",o[0])},i(o){l||Ce(()=>{l=St(e,vt,{duration:400}),l.start()})},o:A,d(o){o&&T(e)}}}function Ro(t,e,n){let r;te(t,Me,s=>n(2,r=s));let{claimedBy:l}=e,o="";return t.$$set=s=>{"claimedBy"in s&&n(1,l=s.claimedBy)},t.$$.update=()=>{if(t.$$.dirty&6){const s={[ie.USER]:r.colours.user,[ie.COMPUTER]:r.colours.computer};n(0,o=s[l])}},[o,l,r]}class So extends re{constructor(e){super(),ne(this,e,Ro,xo,X,{claimedBy:1})}}function on(t){let e,n,r,l=t[2][t[1]]+"",o,s;return e=new So({props:{claimedBy:t[1]}}),{c(){Z(e.$$.fragment),n=j(),r=m("span"),o=ee(l),f(r,"class","z-10 m-auto text-xl")},m(i,a){G(e,i,a),O(i,n,a),O(i,r,a),_(r,o),s=!0},p(i,a){const c={};a&2&&(c.claimedBy=i[1]),e.$set(c),(!s||a&2)&&l!==(l=i[2][i[1]]+"")&&ae(o,l)},i(i){s||(y(e.$$.fragment,i),s=!0)},o(i){k(e.$$.fragment,i),s=!1},d(i){q(e,i),i&&T(n),i&&T(r)}}}function sn(t){let e,n,r=`${t[0]}em`,l=`${t[0]}em`,o,s=t[1]!==ie.EMPTY&&on(t);return{c(){e=m("div"),n=m("div"),s&&s.c(),f(n,"class","box relative flex"),P(n,"width",r),P(n,"height",l),f(e,"class","relative")},m(i,a){O(i,e,a),_(e,n),s&&s.m(n,null),o=!0},p(i,a){i[1]!==ie.EMPTY?s?(s.p(i,a),a&2&&y(s,1)):(s=on(i),s.c(),y(s,1),s.m(n,null)):s&&(Y(),k(s,1,1,()=>{s=null}),V()),a&1&&r!==(r=`${i[0]}em`)&&P(n,"width",r),a&1&&l!==(l=`${i[0]}em`)&&P(n,"height",l)},i(i){o||(y(s),o=!0)},o(i){k(s),o=!1},d(i){i&&T(e),s&&s.d()}}}function Ao(t){let e=t[1],n,r,l=sn(t);return{c(){l.c(),n=be()},m(o,s){l.m(o,s),O(o,n,s),r=!0},p(o,[s]){s&2&&X(e,e=o[1])?(Y(),k(l,1,1,A),V(),l=sn(o),l.c(),y(l,1),l.m(n.parentNode,n)):l.p(o,s)},i(o){r||(y(l),r=!0)},o(o){k(l),r=!1},d(o){o&&T(n),l.d(o)}}}function Uo(t,e,n){let r,l;te(t,Te,u=>n(5,r=u)),te(t,Ge,u=>n(6,l=u));let{average:o}=e,{x:s}=e,{y:i}=e,a=ie.EMPTY;const c={[ie.USER]:"You",[ie.COMPUTER]:"Me"};return t.$$set=u=>{"average"in u&&n(0,o=u.average),"x"in u&&n(3,s=u.x),"y"in u&&n(4,i=u.y)},t.$$.update=()=>{t.$$.dirty&120&&l.affectedBoxes.some(([u,d])=>s===d&&i===u)&&n(1,a=kt(r.get_box(s,i)))},[o,a,c,s,i,r,l]}class Lo extends re{constructor(e){super(),ne(this,e,Uo,Ao,X,{average:0,x:3,y:4})}}var Io=Math.floor,Bo=Math.random;function No(t,e){return t+Io(Bo()*(e-t+1))}var Po=No,zo=Po,Fo=Qn,cn=er,Do=parseFloat,Ho=Math.min,Go=Math.random;function qo(t,e,n){if(n&&typeof n!="boolean"&&Fo(t,e,n)&&(e=n=void 0),n===void 0&&(typeof e=="boolean"?(n=e,e=void 0):typeof t=="boolean"&&(n=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=cn(t),e===void 0?(e=t,t=0):e=cn(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var l=Go();return Ho(t+l*(e-t+Do("1e-"+((l+"").length-1))),e)}return zo(t,e)}var Wo=qo;const Yo=""+new URL("dot.94a44de9.svg",import.meta.url).href;function Vo(t){let e,n,r,l,o=`rotate(${Wo(360)}deg)`,s=`${t[0]}em`,i=`${t[0]}em`;return{c(){e=m("div"),n=m("div"),r=m("img"),f(r,"class","absolute top-[-1em] left-[-1em] z-[45] h-[2em] w-[2em] select-none"),He(r.src,l=Yo)||f(r,"src",l),f(r,"alt",""),P(r,"transform",o),f(n,"class","flex"),P(n,"width",s),P(n,"height",i),f(e,"class","relative")},m(a,c){O(a,e,c),_(e,n),_(n,r)},p(a,[c]){c&1&&s!==(s=`${a[0]}em`)&&P(n,"width",s),c&1&&i!==(i=`${a[0]}em`)&&P(n,"height",i)},i:A,o:A,d(a){a&&T(e)}}}function Zo(t,e,n){let{average:r}=e,[l,o]=[0,0],{x:s=l,y:i=o}=e;return t.$$set=a=>{"average"in a&&n(0,r=a.average),"x"in a&&n(1,s=a.x),"y"in a&&n(2,i=a.y)},[r,s,i]}class Xo extends re{constructor(e){super(),ne(this,e,Zo,Vo,X,{average:0,x:1,y:2})}}function Ko(t){let e,n,r,l,o;return{c(){e=ce("svg"),n=ce("g"),r=ce("g"),l=ce("path"),f(l,"d","M1.59 0.9 C27.11 -0.51, 51.83 0.13, 94.29 -0.48 M0.22 0.06 C27.95 1.45, 58.25 0.65, 95.06 0.31"),f(l,"stroke",t[0]),f(l,"stroke-width","2"),f(l,"fill","none"),f(r,"transform","translate(9.775308895856142 10.47896108776331) rotate(0 47.64395874267936 0.21186067909002304)"),f(n,"stroke-linecap","round"),f(e,"class","h-full w-full"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"version","1.1"),f(e,"viewBox","9 9 96.84 3.38")},m(s,i){O(s,e,i),_(e,n),_(n,r),_(r,l)},p(s,[i]){i&1&&f(l,"stroke",s[0])},i(s){s&&(o||Ce(()=>{o=St(l,tr,{delay:0,duration:500}),o.start()}))},o:A,d(s){s&&T(e)}}}function Jo(t,e,n){let{stroke:r}=e;return t.$$set=l=>{"stroke"in l&&n(0,r=l.stroke)},[r]}class Qo extends re{constructor(e){super(),ne(this,e,Jo,Ko,X,{stroke:0})}}const ei=""+new URL("horizontal.13765606.svg",import.meta.url).href,ti=""+new URL("vertical.0b423cab.svg",import.meta.url).href;function ni(t){let e,n,r,l;return{c(){e=m("div"),n=m("img"),He(n.src,r=t[1]?ei:ti)||f(n,"src",r),f(n,"alt",""),f(n,"class","h-full w-full"),f(e,"class",l="hover-line "+(t[1]?"-mt-4 h-8 w-full":"-ml-4 h-full w-8")+" z-40 opacity-0 selection:z-40 "+(Ue(F,t[0].current_player)!==F.COMPUTER&&"cursor-pointer hover:opacity-100")+" svelte-bznvrl")},m(o,s){O(o,e,s),_(e,n)},p(o,[s]){s&1&&l!==(l="hover-line "+(o[1]?"-mt-4 h-8 w-full":"-ml-4 h-full w-8")+" z-40 opacity-0 selection:z-40 "+(Ue(F,o[0].current_player)!==F.COMPUTER&&"cursor-pointer hover:opacity-100")+" svelte-bznvrl")&&f(e,"class",l)},i:A,o:A,d(o){o&&T(e)}}}function ri(t,e,n){let r;te(t,Te,s=>n(0,r=s));let{lineType:l}=e;const o=l===he.HORIZONTAL;return t.$$set=s=>{"lineType"in s&&n(2,l=s.lineType)},t.$$.update=()=>{t.$$.dirty&1&&(Ue(F,r.current_player),F.COMPUTER)},[r,o,l]}class li extends re{constructor(e){super(),ne(this,e,ri,ni,X,{lineType:2})}}function oi(t){let e,n,r,l,o,s;return{c(){e=ce("svg"),n=ce("g"),r=ce("g"),l=ce("path"),s=ce("mask"),f(l,"d","M0.02 -1.01 C-0.52 28.78, -0.68 53.42, -0.47 69.07 M0.02 0.77 C0.32 26.53, 0.81 52.93, -0.63 68.54"),f(l,"stroke",t[0]),f(l,"stroke-width","2"),f(l,"fill","none"),f(r,"transform","translate(10.634629119187593 11.012141920626163) rotate(0 -0.14224320622906816 34.02681378884024)"),f(n,"stroke-linecap","round"),f(e,"class","h-full w-full"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"version","1.1"),f(e,"viewBox","9 9 2.98 72.08")},m(i,a){O(i,e,a),_(e,n),_(n,r),_(r,l),_(e,s)},p(i,[a]){a&1&&f(l,"stroke",i[0])},i(i){o||Ce(()=>{o=St(l,tr,{delay:0,duration:500}),o.start()})},o:A,d(i){i&&T(e)}}}function ii(t,e,n){let{stroke:r}=e;return t.$$set=l=>{"stroke"in l&&n(0,r=l.stroke)},[r]}class si extends re{constructor(e){super(),ne(this,e,ii,oi,X,{stroke:0})}}function ci(t){let e,n,r;return n=new si({props:{stroke:t[4]}}),{c(){e=m("div"),Z(n.$$.fragment),f(e,"class","z-40 -ml-4 h-full w-8")},m(l,o){O(l,e,o),G(n,e,null),r=!0},p(l,o){const s={};o&16&&(s.stroke=l[4]),n.$set(s)},i(l){r||(y(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&T(e),q(n)}}}function ai(t){let e,n,r;return n=new Qo({props:{stroke:t[4]}}),{c(){e=m("div"),Z(n.$$.fragment),f(e,"class","z-40 -mt-2 h-4 w-full")},m(l,o){O(l,e,o),G(n,e,null),r=!0},p(l,o){const s={};o&16&&(s.stroke=l[4]),n.$set(s)},i(l){r||(y(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&T(e),q(n)}}}function ui(t){let e,n;return e=new li({props:{lineType:t[1]}}),{c(){Z(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},p(r,l){const o={};l&2&&(o.lineType=r[1]),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function an(t){let e,n,r,l=`${t[0]}em`,o=`${t[0]}em`,s,i,a;const c=[ui,ai,ci],u=[];function d(g,p){return g[2]===ie.EMPTY?0:g[1]===he.HORIZONTAL?1:g[1]===he.VERTICAL?2:-1}return~(n=d(t))&&(r=u[n]=c[n](t)),{c(){e=m("div"),r&&r.c(),f(e,"class","line flex bg-transparent"),f(e,"title","line"),P(e,"width",l),P(e,"height",o)},m(g,p){O(g,e,p),~n&&u[n].m(e,null),s=!0,i||(a=[ue(e,"click",t[5]),ue(e,"keypress",t[5])],i=!0)},p(g,p){let w=n;n=d(g),n===w?~n&&u[n].p(g,p):(r&&(Y(),k(u[w],1,1,()=>{u[w]=null}),V()),~n?(r=u[n],r?r.p(g,p):(r=u[n]=c[n](g),r.c()),y(r,1),r.m(e,null)):r=null),p&1&&l!==(l=`${g[0]}em`)&&P(e,"width",l),p&1&&o!==(o=`${g[0]}em`)&&P(e,"height",o)},i(g){s||(y(r),s=!0)},o(g){k(r),s=!1},d(g){g&&T(e),~n&&u[n].d(),i=!1,Ee(a)}}}function fi(t){let e=t[3],n,r,l=an(t);return{c(){l.c(),n=be()},m(o,s){l.m(o,s),O(o,n,s),r=!0},p(o,[s]){s&8&&X(e,e=o[3])?(Y(),k(l,1,1,A),V(),l=an(o),l.c(),y(l,1),l.m(n.parentNode,n)):l.p(o,s)},i(o){r||(y(l),r=!0)},o(o){k(l),r=!1},d(o){o&&T(n),l.d(o)}}}function _i(t,e,n){let r,l,o;te(t,Me,$=>n(7,r=$)),te(t,Ge,$=>n(8,l=$)),te(t,Te,$=>n(9,o=$));let{average:s}=e,{lineType:i}=e,{index:a}=e;const c=Gn();let u,d=!1;const g=()=>n(2,u=kt(o.get_edge(a,fe(he,i)))),p=$=>{const E=xe($,2).filter(([I,S])=>kt(o.get_box(S,I))!==ie.EMPTY);ve(Ge,l.affectedBoxes=E,l),ve(Ge,l.currentPlayer=Ue(F,o.current_player),l),g()},w=async()=>{if(o.current_player!==fe(F,F.COMPUTER)&&u===ie.EMPTY){if(p(o.handle_edge_interact(a,fe(he,i))),o.board_full())return c("gameend");for(;o.current_player===fe(F,F.COMPUTER);){await new Promise(S=>setTimeout(S,500));const{0:$,1:U,affected_boxes:E}=o.computer_turn(),I=Ue(he,U);if(p(E),ve(Ge,l.affectedLines=[[I===he.HORIZONTAL?$:$-o.width*(o.height+1),Ue(he,I)]],l),o.board_full())return c("gameend")}}};let v="";return t.$$set=$=>{"average"in $&&n(0,s=$.average),"lineType"in $&&n(1,i=$.lineType),"index"in $&&n(6,a=$.index)},t.$$.update=()=>{if(t.$$.dirty&322&&(n(3,d=l.affectedLines.some($=>a===$[0]&&i===$[1])),g()),t.$$.dirty&132){const $={[ie.USER]:r.colours.user,[ie.COMPUTER]:r.colours.computer};n(4,v=$[u])}},[s,i,u,d,v,w,a,r,l]}class fr extends re{constructor(e){super(),ne(this,e,_i,fi,X,{average:0,lineType:1,index:6})}}function di(t){let e,n,r=t[1].count_boxes(fe(F,F.USER))+"",l,o,s,i,a,c=t[1].count_boxes(fe(F,F.COMPUTER))+"",u;return{c(){e=m("div"),n=m("span"),l=ee(r),o=j(),s=m("span"),s.textContent="-",i=j(),a=m("span"),u=ee(c),f(n,"class","text-lg font-bold md:text-2xl"),P(n,"color",t[0].colours.user),f(s,"class","mx-3"),f(a,"class","text-lg font-bold md:text-2xl"),P(a,"color",t[0].colours.computer),f(e,"class","flex")},m(d,g){O(d,e,g),_(e,n),_(n,l),_(e,o),_(e,s),_(e,i),_(e,a),_(a,u)},p(d,[g]){g&2&&r!==(r=d[1].count_boxes(fe(F,F.USER))+"")&&ae(l,r),g&1&&P(n,"color",d[0].colours.user),g&2&&c!==(c=d[1].count_boxes(fe(F,F.COMPUTER))+"")&&ae(u,c),g&1&&P(a,"color",d[0].colours.computer)},i:A,o:A,d(d){d&&T(e)}}}function gi(t,e,n){let r,l;return te(t,Me,o=>n(0,r=o)),te(t,Te,o=>n(1,l=o)),[r,l]}class hi extends re{constructor(e){super(),ne(this,e,gi,di,X,{})}}function*ge(t,e,n=1){for(let r=t;r<e;r+=n)yield r}function mi(t){return[{check:t.length>=1,string:"Username too short"},{check:t.length<=20,string:"Username too long"},{check:/^[a-zA-Z0-9_]+$/.test(t),string:"Username uses invalid characters"}].filter(n=>!n.check)}function un(t,e,n){const r=t.slice();return r[8]=e[n],r}function fn(t,e,n){const r=t.slice();return r[11]=e[n],r}function _n(t,e,n){const r=t.slice();return r[8]=e[n],r}function dn(t,e,n){const r=t.slice();return r[16]=e[n],r}function gn(t,e,n){const r=t.slice();return r[8]=e[n],r}function hn(t,e,n){const r=t.slice();return r[16]=e[n],r}function mn(t,e,n){const r=t.slice();return r[23]=e[n],r}function pn(t,e,n){const r=t.slice();return r[26]=e[n],r}function bn(t){let e,n,r;return n=new hi({}),{c(){e=m("div"),Z(n.$$.fragment),f(e,"class","score mx-auto mb-5 md:mb-6")},m(l,o){O(l,e,o),G(n,e,null),r=!0},p:A,i(l){r||(y(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&T(e),q(n)}}}function wn(t){let e,n;return e=new Lo({props:{x:t[26],y:t[23],average:t[3]}}),{c(){Z(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},p(r,l){const o={};l&1&&(o.x=r[26]),l&2&&(o.y=r[23]),l&8&&(o.average=r[3]),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function yn(t){let e,n,r,l=[...ge(0,t[0])],o=[];for(let i=0;i<l.length;i+=1)o[i]=wn(pn(t,l,i));const s=i=>k(o[i],1,1,()=>{o[i]=null});return{c(){e=m("div");for(let i=0;i<o.length;i+=1)o[i].c();n=j(),f(e,"class","flex")},m(i,a){O(i,e,a);for(let c=0;c<o.length;c+=1)o[c].m(e,null);_(e,n),r=!0},p(i,a){if(a&11){l=[...ge(0,i[0])];let c;for(c=0;c<l.length;c+=1){const u=pn(i,l,c);o[c]?(o[c].p(u,a),y(o[c],1)):(o[c]=wn(u),o[c].c(),y(o[c],1),o[c].m(e,n))}for(Y(),c=l.length;c<o.length;c+=1)s(c);V()}},i(i){if(!r){for(let a=0;a<l.length;a+=1)y(o[a]);r=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);r=!1},d(i){i&&T(e),pe(o,i)}}}function vn(t){let e,n;return e=new fr({props:{index:t[16],average:t[3],lineType:he.HORIZONTAL}}),e.$on("gameend",t[7]),{c(){Z(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},p(r,l){const o={};l&20&&(o.index=r[16]),l&8&&(o.average=r[3]),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function kn(t){let e,n,r,l=t[8],o=[];for(let i=0;i<l.length;i+=1)o[i]=vn(hn(t,l,i));const s=i=>k(o[i],1,1,()=>{o[i]=null});return{c(){e=m("div");for(let i=0;i<o.length;i+=1)o[i].c();n=j(),f(e,"class","flex")},m(i,a){O(i,e,a);for(let c=0;c<o.length;c+=1)o[c].m(e,null);_(e,n),r=!0},p(i,a){if(a&156){l=i[8];let c;for(c=0;c<l.length;c+=1){const u=hn(i,l,c);o[c]?(o[c].p(u,a),y(o[c],1)):(o[c]=vn(u),o[c].c(),y(o[c],1),o[c].m(e,n))}for(Y(),c=l.length;c<o.length;c+=1)s(c);V()}},i(i){if(!r){for(let a=0;a<l.length;a+=1)y(o[a]);r=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);r=!1},d(i){i&&T(e),pe(o,i)}}}function $n(t){let e,n;return e=new fr({props:{index:t[16],average:t[3],lineType:he.VERTICAL}}),e.$on("gameend",t[7]),{c(){Z(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},p(r,l){const o={};l&36&&(o.index=r[16]),l&8&&(o.average=r[3]),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function Mn(t){let e,n,r,l=t[8],o=[];for(let i=0;i<l.length;i+=1)o[i]=$n(dn(t,l,i));const s=i=>k(o[i],1,1,()=>{o[i]=null});return{c(){e=m("div");for(let i=0;i<o.length;i+=1)o[i].c();n=j(),f(e,"class","flex")},m(i,a){O(i,e,a);for(let c=0;c<o.length;c+=1)o[c].m(e,null);_(e,n),r=!0},p(i,a){if(a&172){l=i[8];let c;for(c=0;c<l.length;c+=1){const u=dn(i,l,c);o[c]?(o[c].p(u,a),y(o[c],1)):(o[c]=$n(u),o[c].c(),y(o[c],1),o[c].m(e,n))}for(Y(),c=l.length;c<o.length;c+=1)s(c);V()}},i(i){if(!r){for(let a=0;a<l.length;a+=1)y(o[a]);r=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);r=!1},d(i){i&&T(e),pe(o,i)}}}function Cn(t){let e,n;return e=new Xo({props:{average:t[3]}}),{c(){Z(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},p(r,l){const o={};l&8&&(o.average=r[3]),e.$set(o)},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function Tn(t){let e,n,r,l=t[8],o=[];for(let i=0;i<l.length;i+=1)o[i]=Cn(fn(t,l,i));const s=i=>k(o[i],1,1,()=>{o[i]=null});return{c(){e=m("div");for(let i=0;i<o.length;i+=1)o[i].c();n=j(),f(e,"class","flex")},m(i,a){O(i,e,a);for(let c=0;c<o.length;c+=1)o[c].m(e,null);_(e,n),r=!0},p(i,a){if(a&15){l=i[8];let c;for(c=0;c<l.length;c+=1){const u=fn(i,l,c);o[c]?(o[c].p(u,a),y(o[c],1)):(o[c]=Cn(u),o[c].c(),y(o[c],1),o[c].m(e,n))}for(Y(),c=l.length;c<o.length;c+=1)s(c);V()}},i(i){if(!r){for(let a=0;a<l.length;a+=1)y(o[a]);r=!0}},o(i){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)k(o[a]);r=!1},d(i){i&&T(e),pe(o,i)}}}function pi(t){let e,n=t[6].affectedBoxes,r,l,o,s,i,a,c,u,d,g,p=bn(),w=[...ge(0,t[1])],v=[];for(let b=0;b<w.length;b+=1)v[b]=yn(mn(t,w,b));const $=b=>k(v[b],1,1,()=>{v[b]=null});let U=xe([...ge(0,t[4])],t[2].width),E=[];for(let b=0;b<U.length;b+=1)E[b]=kn(gn(t,U,b));const I=b=>k(E[b],1,1,()=>{E[b]=null});let S=xe([...ge(0,t[5])],t[2].height+1),C=[];for(let b=0;b<S.length;b+=1)C[b]=Mn(_n(t,S,b));const L=b=>k(C[b],1,1,()=>{C[b]=null});let B=xe([...ge(0,(t[0]+1)*(t[1]+1))],t[2].width+1),x=[];for(let b=0;b<B.length;b+=1)x[b]=Tn(un(t,B,b));const K=b=>k(x[b],1,1,()=>{x[b]=null});return{c(){e=m("main"),p.c(),r=j(),l=m("div"),o=m("div");for(let b=0;b<v.length;b+=1)v[b].c();s=j(),i=m("div");for(let b=0;b<E.length;b+=1)E[b].c();a=j(),c=m("div");for(let b=0;b<C.length;b+=1)C[b].c();u=j(),d=m("div");for(let b=0;b<x.length;b+=1)x[b].c();f(o,"class","m-auto"),f(i,"class","horizontal-edges absolute"),f(c,"class","vertical-edges absolute"),f(d,"class","dots absolute"),f(l,"class","relative m-auto flex h-full flex-col"),f(e,"class","relative flex h-full w-full select-none flex-col bg-transparent")},m(b,M){O(b,e,M),p.m(e,null),_(e,r),_(e,l),_(l,o);for(let h=0;h<v.length;h+=1)v[h].m(o,null);_(l,s),_(l,i);for(let h=0;h<E.length;h+=1)E[h].m(i,null);_(l,a),_(l,c);for(let h=0;h<C.length;h+=1)C[h].m(c,null);_(l,u),_(l,d);for(let h=0;h<x.length;h+=1)x[h].m(d,null);g=!0},p(b,[M]){if(M&64&&X(n,n=b[6].affectedBoxes)?(Y(),k(p,1,1,A),V(),p=bn(),p.c(),y(p,1),p.m(e,r)):p.p(b,M),M&11){w=[...ge(0,b[1])];let h;for(h=0;h<w.length;h+=1){const J=mn(b,w,h);v[h]?(v[h].p(J,M),y(v[h],1)):(v[h]=yn(J),v[h].c(),y(v[h],1),v[h].m(o,null))}for(Y(),h=w.length;h<v.length;h+=1)$(h);V()}if(M&156){U=xe([...ge(0,b[4])],b[2].width);let h;for(h=0;h<U.length;h+=1){const J=gn(b,U,h);E[h]?(E[h].p(J,M),y(E[h],1)):(E[h]=kn(J),E[h].c(),y(E[h],1),E[h].m(i,null))}for(Y(),h=U.length;h<E.length;h+=1)I(h);V()}if(M&172){S=xe([...ge(0,b[5])],b[2].height+1);let h;for(h=0;h<S.length;h+=1){const J=_n(b,S,h);C[h]?(C[h].p(J,M),y(C[h],1)):(C[h]=Mn(J),C[h].c(),y(C[h],1),C[h].m(c,null))}for(Y(),h=S.length;h<C.length;h+=1)L(h);V()}if(M&15){B=xe([...ge(0,(b[0]+1)*(b[1]+1))],b[2].width+1);let h;for(h=0;h<B.length;h+=1){const J=un(b,B,h);x[h]?(x[h].p(J,M),y(x[h],1)):(x[h]=Tn(J),x[h].c(),y(x[h],1),x[h].m(d,null))}for(Y(),h=B.length;h<x.length;h+=1)K(h);V()}},i(b){if(!g){y(p);for(let M=0;M<w.length;M+=1)y(v[M]);for(let M=0;M<U.length;M+=1)y(E[M]);for(let M=0;M<S.length;M+=1)y(C[M]);for(let M=0;M<B.length;M+=1)y(x[M]);g=!0}},o(b){k(p),v=v.filter(Boolean);for(let M=0;M<v.length;M+=1)k(v[M]);E=E.filter(Boolean);for(let M=0;M<E.length;M+=1)k(E[M]);C=C.filter(Boolean);for(let M=0;M<C.length;M+=1)k(C[M]);x=x.filter(Boolean);for(let M=0;M<x.length;M+=1)k(x[M]);g=!1},d(b){b&&T(e),p.d(b),pe(v,b),pe(E,b),pe(C,b),pe(x,b)}}}function bi(t,e,n){let r,l;te(t,Te,d=>n(2,r=d)),te(t,Ge,d=>n(6,l=d));let o,s,i,a,c;const u=async()=>{await new Promise(w=>setTimeout(w,300));const d=prompt("Please enter your name:"),g=mi(d);if(d===null)return;if(g.length>0)return alert(`${g.map(w=>w.string).join(`.
`)}.

Please try again!`),u();const p={username:d,result:{user:await r.count_boxes(fe(F,F.USER)),computer:await r.count_boxes(fe(F,F.COMPUTER))},board:{width:r.width,height:r.height}};await fetch(`${ar}:${ur}/matches`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})};return t.$$.update=()=>{t.$$.dirty&7&&(n(0,o=r.width),n(1,s=r.height),n(3,i=11/Math.sqrt((o+s)/2)),n(4,a=(s+1)*o),n(5,c=(o+1)*s))},[o,s,r,i,a,c,l,u]}class wi extends re{constructor(e){super(),ne(this,e,bi,pi,X,{})}}function En(t,e,n){const r=t.slice();return r[6]=e[n].username,r[7]=e[n].result,r[8]=e[n].board,r[9]=e[n].game_time,r[11]=n,r}function On(t){let e;return{c(){e=m("span"),f(e,"class","mx-auto min-h-[1.5px] w-full flex-grow-0 rounded-lg bg-black")},m(n,r){O(n,e,r)},d(n){n&&T(e)}}}function jn(t){let e,n,r,l,o=t[6]+"",s,i,a,c,u,d=t[7].user+"",g,p,w,v,$,U=t[7].computer+"",E,I,S,C=t[8].width+"",L,B,x=t[8].height+"",K,b,M,h=t[4](t[9])+"",J,se,Oe,Q=t[11]!==t[0].length-1&&On();return{c(){e=m("div"),n=m("span"),r=m("span"),r.textContent="\u{1F3C6}",l=j(),s=ee(o),i=j(),a=ee(`\u2502
				`),c=m("div"),u=m("span"),g=ee(d),p=j(),w=m("span"),w.textContent="-",v=j(),$=m("span"),E=ee(U),I=ee(`
				\u2502
				`),S=m("span"),L=ee(C),B=ee(" \xD7 "),K=ee(x),b=ee(`
				\u2502
				`),M=m("span"),J=ee(h),se=j(),Q&&Q.c(),Oe=be(),P(r,"opacity",t[7].user>t[7].computer?"1":"0"),P(u,"color",t[3].colours.user),P($,"color",t[3].colours.computer),f(c,"class","inline-flex justify-center gap-1"),f(e,"class","m-auto flex h-fit w-full justify-center gap-5 align-middle")},m(z,W){O(z,e,W),_(e,n),_(n,r),_(n,l),_(n,s),_(n,i),_(e,a),_(e,c),_(c,u),_(u,g),_(c,p),_(c,w),_(c,v),_(c,$),_($,E),_(e,I),_(e,S),_(S,L),_(S,B),_(S,K),_(e,b),_(e,M),_(M,J),O(z,se,W),Q&&Q.m(z,W),O(z,Oe,W)},p(z,W){W&4&&P(r,"opacity",z[7].user>z[7].computer?"1":"0"),W&4&&o!==(o=z[6]+"")&&ae(s,o),W&4&&d!==(d=z[7].user+"")&&ae(g,d),W&8&&P(u,"color",z[3].colours.user),W&4&&U!==(U=z[7].computer+"")&&ae(E,U),W&8&&P($,"color",z[3].colours.computer),W&4&&C!==(C=z[8].width+"")&&ae(L,C),W&4&&x!==(x=z[8].height+"")&&ae(K,x),W&4&&h!==(h=z[4](z[9])+"")&&ae(J,h),z[11]!==z[0].length-1?Q||(Q=On(),Q.c(),Q.m(Oe.parentNode,Oe)):Q&&(Q.d(1),Q=null)},d(z){z&&T(e),z&&T(se),Q&&Q.d(z),z&&T(Oe)}}}function yi(t){let e,n,r,l,o,s,i=t[2].sort(xn),a=[];for(let c=0;c<i.length;c+=1)a[c]=jn(En(t,i,c));return{c(){e=m("div"),n=m("input"),r=j(),l=m("div");for(let c=0;c<a.length;c+=1)a[c].c();f(n,"class","mb-5 w-full rounded-md border-2 border-black p-3"),f(n,"type","text"),f(n,"placeholder","Search for a specific player"),f(l,"class","flex max-h-[300px] w-full flex-col gap-3 overflow-y-scroll rounded-md border-2 border-black p-10")},m(c,u){O(c,e,u),_(e,n),de(n,t[1]),_(e,r),_(e,l);for(let d=0;d<a.length;d+=1)a[d].m(l,null);o||(s=ue(n,"input",t[5]),o=!0)},p(c,[u]){if(u&2&&n.value!==c[1]&&de(n,c[1]),u&29){i=c[2].sort(xn);let d;for(d=0;d<i.length;d+=1){const g=En(c,i,d);a[d]?a[d].p(g,u):(a[d]=jn(g),a[d].c(),a[d].m(l,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=i.length}},i:A,o:A,d(c){c&&T(e),pe(a,c),o=!1,s()}}}const xn=(t,e)=>e.result.user-t.result.user;function vi(t,e,n){let r;te(t,Me,c=>n(3,r=c));let l=[],o=l,s="";const i=c=>{const u=new Date(c);return`${u.getHours()}:${u.getMinutes()} ${u.getDate()}/${u.getMonth()}/${u.getFullYear()}`};yr(async()=>{const c=await fetch(`${ar}:${ur}/matches`);n(0,l=(await c.json())[0].result)});function a(){s=this.value,n(1,s)}return t.$$.update=()=>{t.$$.dirty&3&&n(2,o=s.length===0?l:l.filter(c=>c.username.toLowerCase().includes(s)))},[l,s,o,r,i,a]}class ki extends re{constructor(e){super(),ne(this,e,vi,yi,X,{})}}const nt=""+new URL("box.ae332b57.svg",import.meta.url).href;function Rn(t,e,n){const r=t.slice();return r[11]=e[n][0],r[12]=e[n][1],r[14]=n,r}function $i(t){let e;return{c(){e=m("span"),e.textContent="\u2502"},m(n,r){O(n,e,r)},d(n){n&&T(e)}}}function Sn(t){let e,n,r,l,o,s=t[12]+"",i,a,c=t[14]!==Object.keys(Le).length-1,u,d,g,p=c&&$i();return{c(){e=m("div"),n=m("input"),l=j(),o=m("label"),i=ee(s),a=j(),p&&p.c(),u=be(),f(n,"type","radio"),f(n,"name","difficulty"),n.checked=r=t[2].difficulty===t[12],n.value=t[11],f(n,"id",t[11]),f(n,"class","peer hidden"),f(o,"for",t[11]),f(o,"class","sliding-underline sliding-underline-small cursor-pointer transition-colors peer-checked:after:w-0"),f(e,"class","inline-block")},m(w,v){O(w,e,v),_(e,n),_(e,l),_(e,o),_(o,i),O(w,a,v),p&&p.m(w,v),O(w,u,v),d||(g=ue(n,"click",t[3]),d=!0)},p(w,v){v&4&&r!==(r=w[2].difficulty===w[12])&&(n.checked=r)},d(w){w&&T(e),w&&T(a),p&&p.d(w),w&&T(u),d=!1,g()}}}function Mi(t){let e,n,r,l,o,s,i,a,c,u,d,g,p,w,v,$,U,E,I,S,C,L,B,x,K,b,M,h,J,se,Oe,Q,z,W,Be,Ut,Lt,je,It,Ne,Qe,Bt,We,ht,Nt,Pe=Object.entries(Le),oe=[];for(let D=0;D<Pe.length;D+=1)oe[D]=Sn(Rn(t,Pe,D));return{c(){e=m("div"),n=m("div"),r=m("span"),r.textContent="colours:",l=j(),o=m("div"),s=m("div"),i=m("img"),c=j(),u=m("div"),d=m("input"),g=j(),p=m("span"),p.textContent="\u2502",w=j(),v=m("div"),$=m("img"),E=j(),I=m("div"),S=m("input"),C=j(),L=m("div"),B=m("span"),B.textContent="board\u3164size:",x=j(),K=m("div"),b=m("div"),M=m("img"),J=j(),se=m("input"),Oe=j(),Q=m("span"),Q.textContent="\u2502",z=j(),W=m("div"),Be=m("img"),Lt=j(),je=m("input"),It=j(),Ne=m("div"),Qe=m("span"),Qe.textContent="difficulty:",Bt=j(),We=m("div");for(let D=0;D<oe.length;D+=1)oe[D].c();f(r,"class","my-auto flex-shrink"),f(i,"class","absolute h-full w-full"),He(i.src,a=nt)||f(i,"src",a),f(i,"alt",""),f(d,"class","h-full w-full rounded-md border-none bg-transparent opacity-0"),f(d,"type","color"),f(u,"class","m-auto h-[91%] w-[91%]"),P(u,"background-color",t[2].colours.user),f(s,"class","relative flex h-20 w-20"),f(p,"class","my-auto"),f($,"class","absolute h-full w-full rotate-90"),He($.src,U=nt)||f($,"src",U),f($,"alt",""),f(S,"class","h-full w-full rounded-md border-none bg-transparent opacity-0"),f(S,"type","color"),f(I,"class","m-auto h-[91%] w-[91%]"),P(I,"background-color",t[2].colours.computer),f(v,"class","relative flex h-20 w-20"),f(o,"class","inline-flex w-full flex-grow justify-center gap-3"),f(n,"class","colours flex"),f(B,"class","my-auto flex-shrink"),f(M,"class","absolute h-full w-full"),He(M.src,h=nt)||f(M,"src",h),f(M,"alt",""),f(se,"class","relative z-10 m-auto h-full w-full rounded-md border-none bg-transparent text-center outline-none"),f(se,"type","text"),f(b,"class","relative flex h-20 w-20"),f(Q,"class","my-auto"),f(Be,"class","absolute h-full w-full"),He(Be.src,Ut=nt)||f(Be,"src",Ut),f(Be,"alt",""),f(je,"class","relative z-10 m-auto h-full w-full rounded-md border-none bg-transparent text-center outline-none"),f(je,"type","text"),f(W,"class","relative flex h-20 w-20"),f(K,"class","inline-flex w-full flex-grow justify-center gap-3"),f(L,"class","colours flex"),f(Qe,"class","my-auto flex-shrink"),f(We,"class","inline-flex w-full flex-grow justify-center gap-3"),f(Ne,"class","difficulty flex"),f(e,"class","flex flex-col justify-between gap-10 text-xl")},m(D,_e){O(D,e,_e),_(e,n),_(n,r),_(n,l),_(n,o),_(o,s),_(s,i),_(s,c),_(s,u),_(u,d),de(d,t[2].colours.user),_(o,g),_(o,p),_(o,w),_(o,v),_(v,$),_(v,E),_(v,I),_(I,S),de(S,t[2].colours.computer),_(e,C),_(e,L),_(L,B),_(L,x),_(L,K),_(K,b),_(b,M),_(b,J),_(b,se),de(se,t[0]),_(K,Oe),_(K,Q),_(K,z),_(K,W),_(W,Be),_(W,Lt),_(W,je),de(je,t[1]),_(e,It),_(e,Ne),_(Ne,Qe),_(Ne,Bt),_(Ne,We);for(let le=0;le<oe.length;le+=1)oe[le].m(We,null);ht||(Nt=[ue(d,"input",t[6]),ue(S,"input",t[7]),ue(se,"input",t[8]),ue(je,"input",t[9])],ht=!0)},p(D,[_e]){if(_e&4&&de(d,D[2].colours.user),_e&4&&P(u,"background-color",D[2].colours.user),_e&4&&de(S,D[2].colours.computer),_e&4&&P(I,"background-color",D[2].colours.computer),_e&1&&se.value!==D[0]&&de(se,D[0]),_e&2&&je.value!==D[1]&&de(je,D[1]),_e&12){Pe=Object.entries(Le);let le;for(le=0;le<Pe.length;le+=1){const Pt=Rn(D,Pe,le);oe[le]?oe[le].p(Pt,_e):(oe[le]=Sn(Pt),oe[le].c(),oe[le].m(We,null))}for(;le<oe.length;le+=1)oe[le].d(1);oe.length=Pe.length}},i:A,o:A,d(D){D&&T(e),pe(oe,D),ht=!1,Ee(Nt)}}}function Ci(t,e,n){let r,l;te(t,Te,w=>n(10,r=w)),te(t,Me,w=>n(2,l=w));let o=r.width,s=r.height,i,a;const c=w=>{ve(Me,l.difficulty=Le[w.target.value],l)};function u(){l.colours.user=this.value,Me.set(l)}function d(){l.colours.computer=this.value,Me.set(l)}function g(){o=this.value,n(0,o)}function p(){s=this.value,n(1,s)}return t.$$.update=()=>{t.$$.dirty&51&&(n(4,i=o>0?o:1),n(5,a=s>0?s:1),ve(Te,r=new Je(i,a),r))},[o,s,l,c,i,a,u,d,g,p]}class Ti extends re{constructor(e){super(),ne(this,e,Ci,Mi,X,{})}}function An(t){let e,n,r,l,o,s,i,a,c,u,d,g,p,w,v,$,U;const E=[Oi,Ei],I=[];function S(C,L){return C[1]===ft.SETTINGS?0:C[1]===ft.LEADERBOARD?1:-1}return~(c=S(t))&&(u=I[c]=E[c](t)),{c(){e=m("div"),n=m("div"),r=m("button"),r.textContent="\u2717",l=j(),o=m("h2"),s=ee(t[1]),i=j(),a=m("div"),u&&u.c(),d=j(),g=m("div"),p=m("button"),p.textContent="OK",f(r,"class","absolute right-4 top-4 flex text-3xl text-gray-400 transition-colors hover:text-gray-800"),f(o,"class","m-auto text-4xl font-bold"),f(a,"class","mt-5 w-full flex-grow"),f(p,"class","sliding-underline sliding-underline-small m-auto"),f(g,"class","mt-5 flex w-full flex-shrink text-2xl"),f(n,"class","pointer-events-auto relative flex min-h-fit min-w-[40%] flex-col rounded-md bg-white p-6"),f(e,"role","dialog"),f(e,"class","pointer-events-none fixed z-50 flex h-full w-full items-center justify-center bg-[#333333BB]")},m(C,L){O(C,e,L),_(e,n),_(n,r),_(n,l),_(n,o),_(o,s),_(n,i),_(n,a),~c&&I[c].m(a,null),_(n,d),_(n,g),_(g,p),v=!0,$||(U=[ue(r,"click",Wt),ue(p,"click",Wt)],$=!0)},p(C,L){(!v||L&2)&&ae(s,C[1]);let B=c;c=S(C),c!==B&&(u&&(Y(),k(I[B],1,1,()=>{I[B]=null}),V()),~c?(u=I[c],u||(u=I[c]=E[c](C),u.c()),y(u,1),u.m(a,null)):u=null)},i(C){v||(y(u),Ce(()=>{w||(w=Gt(e,vt,{duration:150},!0)),w.run(1)}),v=!0)},o(C){k(u),w||(w=Gt(e,vt,{duration:150},!1)),w.run(0),v=!1},d(C){C&&T(e),~c&&I[c].d(),C&&w&&w.end(),$=!1,Ee(U)}}}function Ei(t){let e,n;return e=new ki({}),{c(){Z(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function Oi(t){let e,n;return e=new Ti({}),{c(){Z(e.$$.fragment)},m(r,l){G(e,r,l),n=!0},i(r){n||(y(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){q(e,r)}}}function ji(t){let e,n,r=t[0]&&An(t);return{c(){r&&r.c(),e=be()},m(l,o){r&&r.m(l,o),O(l,e,o),n=!0},p(l,[o]){l[0]?r?(r.p(l,o),o&1&&y(r,1)):(r=An(l),r.c(),y(r,1),r.m(e.parentNode,e)):r&&(Y(),k(r,1,1,()=>{r=null}),V())},i(l){n||(y(r),n=!0)},o(l){k(r),n=!1},d(l){r&&r.d(l),l&&T(e)}}}function xi(t,e,n){let{isOpen:r}=e,{event:l}=e;return t.$$set=o=>{"isOpen"in o&&n(0,r=o.isOpen),"event"in o&&n(1,l=o.event)},[r,l]}class Ri extends re{constructor(e){super(),ne(this,e,xi,ji,X,{isOpen:0,event:1})}}function Si(t){let e,n,r,l;return{c(){e=m("button"),n=ee(t[0]),f(e,"class","sliding-underline sliding-underline-medium m-0 border-none bg-none p-0")},m(o,s){O(o,e,s),_(e,n),r||(l=ue(e,"click",t[1]),r=!0)},p(o,[s]){s&1&&ae(n,o[0])},i:A,o:A,d(o){o&&T(e),r=!1,l()}}}function Ai(t,e,n){let{label:r}=e;const l=Gn(),o=()=>l("navigationClick",r);return t.$$set=s=>{"label"in s&&n(0,r=s.label)},[r,o]}class Un extends re{constructor(e){super(),ne(this,e,Ai,Si,X,{label:0})}}function Ui(t){let e,n,r,l,o,s,i,a;return l=new Un({props:{label:ft.SETTINGS}}),l.$on("navigationClick",t[0]),i=new Un({props:{label:ft.LEADERBOARD}}),i.$on("navigationClick",t[1]),{c(){e=m("nav"),n=m("div"),r=m("span"),Z(l.$$.fragment),o=j(),s=m("span"),Z(i.$$.fragment),f(r,"class","mb-[0.9rem]"),f(n,"class","flex flex-col text-right text-xl"),f(e,"class","absolute right-[2.95em] top-[2.95em]")},m(c,u){O(c,e,u),_(e,n),_(n,r),G(l,r,null),_(n,o),_(n,s),G(i,s,null),a=!0},p:A,i(c){a||(y(l.$$.fragment,c),y(i.$$.fragment,c),a=!0)},o(c){k(l.$$.fragment,c),k(i.$$.fragment,c),a=!1},d(c){c&&T(e),q(l),q(i)}}}function Li(t){function e(r){Ft.call(this,t,r)}function n(r){Ft.call(this,t,r)}return[e,n]}class Ii extends re{constructor(e){super(),ne(this,e,Li,Ui,X,{})}}function Bi(t){let e,n,r,l,o,s,i,a,c,u,d;return n=new Ii({}),n.$on("navigationClick",t[0]),l=new Dr({}),u=new wi({}),{c(){e=m("div"),Z(n.$$.fragment),r=j(),Z(l.$$.fragment),o=j(),s=m("div"),i=m("div"),i.innerHTML='<h1 class="title title-large m-auto w-fit text-4xl md:text-5xl">Dots &amp; Boxes</h1>',a=j(),c=m("div"),Z(u.$$.fragment),f(i,"class","flex w-full"),f(c,"class","bg mt-4 flex w-full md:mt-6"),f(s,"class","relative m-auto flex h-full flex-col justify-center"),f(e,"class","bg-paper relative flex h-full w-full after:md:absolute after:md:left-32 after:md:h-full after:md:w-[0.1em] after:md:bg-red-500 svelte-1mjiqwt")},m(g,p){O(g,e,p),G(n,e,null),_(e,r),G(l,e,null),_(e,o),_(e,s),_(s,i),_(s,a),_(s,c),G(u,c,null),d=!0},p:A,i(g){d||(y(n.$$.fragment,g),y(l.$$.fragment,g),y(u.$$.fragment,g),d=!0)},o(g){k(n.$$.fragment,g),k(l.$$.fragment,g),k(u.$$.fragment,g),d=!1},d(g){g&&T(e),q(n),q(l),q(u)}}}function Ni(t){return[n=>{jr(Ri,{event:n.detail})}]}class Pi extends re{constructor(e){super(),ne(this,e,Ni,Bi,X,{})}}function zi(t){let e,n,r;return n=new Pi({}),{c(){e=m("main"),Z(n.$$.fragment),f(e,"class","font-body box-border flex h-screen flex-1 bg-white")},m(l,o){O(l,e,o),G(n,e,null),r=!0},p:A,i(l){r||(y(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&T(e),q(n)}}}class Fi extends re{constructor(e){super(),ne(this,e,null,zi,X,{})}}new Fi({target:document.getElementById("app")});
